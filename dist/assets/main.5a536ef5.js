const p=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}};p();var style="";(()=>{var e=!1,t=!1,r=[];function n(d){o(d)}function o(d){r.includes(d)||r.push(d),u()}function a(d){let h=r.indexOf(d);h!==-1&&r.splice(h,1)}function u(){!t&&!e&&(e=!0,queueMicrotask(s))}function s(){e=!1,t=!0;for(let d=0;d<r.length;d++)r[d]();r.length=0,t=!1}var l,c,f,v,b=!0;function $(d){b=!1,d(),b=!0}function E(d){l=d.reactive,f=d.release,c=h=>d.effect(h,{scheduler:y=>{b?n(y):y()}}),v=d.raw}function w(d){c=d}function A(d){let h=()=>{};return[O=>{let T=c(O);return d._x_effects||(d._x_effects=new Set,d._x_runEffects=()=>{d._x_effects.forEach(P=>P())}),d._x_effects.add(T),h=()=>{T!==void 0&&(d._x_effects.delete(T),f(T))},T},()=>{h()}]}var I=[],R=[],x=[];function N(d){x.push(d)}function D(d,h){typeof h=="function"?(d._x_cleanups||(d._x_cleanups=[]),d._x_cleanups.push(h)):(h=d,R.push(h))}function V(d){I.push(d)}function Y(d,h,y){d._x_attributeCleanups||(d._x_attributeCleanups={}),d._x_attributeCleanups[h]||(d._x_attributeCleanups[h]=[]),d._x_attributeCleanups[h].push(y)}function Q(d,h){!d._x_attributeCleanups||Object.entries(d._x_attributeCleanups).forEach(([y,O])=>{(h===void 0||h.includes(y))&&(O.forEach(T=>T()),delete d._x_attributeCleanups[y])})}var te=new MutationObserver(oe),de=!1;function ne(){te.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),de=!0}function ae(){W(),te.disconnect(),de=!1}var le=[],H=!1;function W(){le=le.concat(te.takeRecords()),le.length&&!H&&(H=!0,queueMicrotask(()=>{U(),H=!1}))}function U(){oe(le),le.length=0}function B(d){if(!de)return d();ae();let h=d();return ne(),h}var Z=!1,K=[];function J(){Z=!0}function ie(){Z=!1,oe(K),K=[]}function oe(d){if(Z){K=K.concat(d);return}let h=[],y=[],O=new Map,T=new Map;for(let P=0;P<d.length;P++)if(!d[P].target._x_ignoreMutationObserver&&(d[P].type==="childList"&&(d[P].addedNodes.forEach(j=>j.nodeType===1&&h.push(j)),d[P].removedNodes.forEach(j=>j.nodeType===1&&y.push(j))),d[P].type==="attributes")){let j=d[P].target,k=d[P].attributeName,q=d[P].oldValue,X=()=>{O.has(j)||O.set(j,[]),O.get(j).push({name:k,value:j.getAttribute(k)})},ue=()=>{T.has(j)||T.set(j,[]),T.get(j).push(k)};j.hasAttribute(k)&&q===null?X():j.hasAttribute(k)?(ue(),X()):ue()}T.forEach((P,j)=>{Q(j,P)}),O.forEach((P,j)=>{I.forEach(k=>k(j,P))});for(let P of y)if(!h.includes(P)&&(R.forEach(j=>j(P)),P._x_cleanups))for(;P._x_cleanups.length;)P._x_cleanups.pop()();h.forEach(P=>{P._x_ignoreSelf=!0,P._x_ignore=!0});for(let P of h)y.includes(P)||!P.isConnected||(delete P._x_ignoreSelf,delete P._x_ignore,x.forEach(j=>j(P)),P._x_ignore=!0,P._x_ignoreSelf=!0);h.forEach(P=>{delete P._x_ignoreSelf,delete P._x_ignore}),h=null,y=null,O=null,T=null}function _e(d){return ee(z(d))}function M(d,h,y){return d._x_dataStack=[h,...z(y||d)],()=>{d._x_dataStack=d._x_dataStack.filter(O=>O!==h)}}function G(d,h){let y=d._x_dataStack[0];Object.entries(h).forEach(([O,T])=>{y[O]=T})}function z(d){return d._x_dataStack?d._x_dataStack:typeof ShadowRoot=="function"&&d instanceof ShadowRoot?z(d.host):d.parentNode?z(d.parentNode):[]}function ee(d){let h=new Proxy({},{ownKeys:()=>Array.from(new Set(d.flatMap(y=>Object.keys(y)))),has:(y,O)=>d.some(T=>T.hasOwnProperty(O)),get:(y,O)=>(d.find(T=>{if(T.hasOwnProperty(O)){let P=Object.getOwnPropertyDescriptor(T,O);if(P.get&&P.get._x_alreadyBound||P.set&&P.set._x_alreadyBound)return!0;if((P.get||P.set)&&P.enumerable){let j=P.get,k=P.set,q=P;j=j&&j.bind(h),k=k&&k.bind(h),j&&(j._x_alreadyBound=!0),k&&(k._x_alreadyBound=!0),Object.defineProperty(T,O,{...q,get:j,set:k})}return!0}return!1})||{})[O],set:(y,O,T)=>{let P=d.find(j=>j.hasOwnProperty(O));return P?P[O]=T:d[d.length-1][O]=T,!0}});return h}function re(d){let h=O=>typeof O=="object"&&!Array.isArray(O)&&O!==null,y=(O,T="")=>{Object.entries(Object.getOwnPropertyDescriptors(O)).forEach(([P,{value:j,enumerable:k}])=>{if(k===!1||j===void 0)return;let q=T===""?P:`${T}.${P}`;typeof j=="object"&&j!==null&&j._x_interceptor?O[P]=j.initialize(d,q,P):h(j)&&j!==O&&!(j instanceof Element)&&y(j,q)})};return y(d)}function me(d,h=()=>{}){let y={initialValue:void 0,_x_interceptor:!0,initialize(O,T,P){return d(this.initialValue,()=>ge(O,T),j=>Ee(O,T,j),T,P)}};return h(y),O=>{if(typeof O=="object"&&O!==null&&O._x_interceptor){let T=y.initialize.bind(y);y.initialize=(P,j,k)=>{let q=O.initialize(P,j,k);return y.initialValue=q,T(P,j,k)}}else y.initialValue=O;return y}}function ge(d,h){return h.split(".").reduce((y,O)=>y[O],d)}function Ee(d,h,y){if(typeof h=="string"&&(h=h.split(".")),h.length===1)d[h[0]]=y;else{if(h.length===0)throw error;return d[h[0]]||(d[h[0]]={}),Ee(d[h[0]],h.slice(1),y)}}var Pe={};function Oe(d,h){Pe[d]=h}function Re(d,h){return Object.entries(Pe).forEach(([y,O])=>{Object.defineProperty(d,`$${y}`,{get(){let[T,P]=Ir(h);return T={interceptor:me,...T},D(h,P),O(h,T)},enumerable:!1})}),d}function _r(d,h,y,...O){try{return y(...O)}catch(T){Ue(T,d,h)}}function Ue(d,h,y=void 0){Object.assign(d,{el:h,expression:y}),console.warn(`Alpine Expression Error: ${d.message}

${y?'Expression: "'+y+`"

`:""}`,h),setTimeout(()=>{throw d},0)}var Ne=!0;function vr(d){let h=Ne;Ne=!1,d(),Ne=h}function De(d,h,y={}){let O;return we(d,h)(T=>O=T,y),O}function we(...d){return Be(...d)}var Be=Ye;function Ie(d){Be=d}function Ye(d,h){let y={};Re(y,d);let O=[y,...z(d)];if(typeof h=="function")return pr(O,h);let T=g(O,h,d);return _r.bind(null,d,h,T)}function pr(d,h){return(y=()=>{},{scope:O={},params:T=[]}={})=>{let P=h.apply(ee([O,...d]),T);_(y,P)}}var je={};function hr(d,h){if(je[d])return je[d];let y=Object.getPrototypeOf(async function(){}).constructor,O=/^[\n\s]*if.*\(.*\)/.test(d)||/^(let|const)\s/.test(d)?`(() => { ${d} })()`:d,P=(()=>{try{return new y(["__self","scope"],`with (scope) { __self.result = ${O} }; __self.finished = true; return __self.result;`)}catch(j){return Ue(j,h,d),Promise.resolve()}})();return je[d]=P,P}function g(d,h,y){let O=hr(h,y);return(T=()=>{},{scope:P={},params:j=[]}={})=>{O.result=void 0,O.finished=!1;let k=ee([P,...d]);if(typeof O=="function"){let q=O(O,k).catch(X=>Ue(X,y,h));O.finished?(_(T,O.result,k,j,y),O.result=void 0):q.then(X=>{_(T,X,k,j,y)}).catch(X=>Ue(X,y,h)).finally(()=>O.result=void 0)}}}function _(d,h,y,O,T){if(Ne&&typeof h=="function"){let P=h.apply(y,O);P instanceof Promise?P.then(j=>_(d,j,y,O)).catch(j=>Ue(j,T,h)):d(P)}else d(h)}var m="x-";function S(d=""){return m+d}function C(d){m=d}var L={};function F(d,h){L[d]=h}function ce(d,h,y){if(h=Array.from(h),d._x_virtualDirectives){let P=Object.entries(d._x_virtualDirectives).map(([k,q])=>({name:k,value:q})),j=be(P);P=P.map(k=>j.find(q=>q.name===k.name)?{name:`x-bind:${k.name}`,value:`"${k.value}"`}:k),h=h.concat(P)}let O={};return h.map(Cr((P,j)=>O[P]=j)).filter(Mr).map(pt(O,y)).sort(ht).map(P=>vt(d,P))}function be(d){return Array.from(d).map(Cr()).filter(h=>!Mr(h))}var ve=!1,pe=new Map,fe=Symbol();function _t(d){ve=!0;let h=Symbol();fe=h,pe.set(h,[]);let y=()=>{for(;pe.get(h).length;)pe.get(h).shift()();pe.delete(h)},O=()=>{ve=!1,y()};d(y),O()}function Ir(d){let h=[],y=k=>h.push(k),[O,T]=A(d);return h.push(T),[{Alpine:er,effect:O,cleanup:y,evaluateLater:we.bind(we,d),evaluate:De.bind(De,d)},()=>h.forEach(k=>k())]}function vt(d,h){let y=()=>{},O=L[h.type]||y,[T,P]=Ir(d);Y(d,h.original,P);let j=()=>{d._x_ignore||d._x_ignoreSelf||(O.inline&&O.inline(d,h,T),O=O.bind(O,d,h,T),ve?pe.get(fe).push(O):O())};return j.runCleanups=P,j}var jr=(d,h)=>({name:y,value:O})=>(y.startsWith(d)&&(y=y.replace(d,h)),{name:y,value:O}),Rr=d=>d;function Cr(d=()=>{}){return({name:h,value:y})=>{let{name:O,value:T}=xr.reduce((P,j)=>j(P),{name:h,value:y});return O!==h&&d(O,h),{name:O,value:T}}}var xr=[];function mr(d){xr.push(d)}function Mr({name:d}){return Nr().test(d)}var Nr=()=>new RegExp(`^${m}([^:^.]+)\\b`);function pt(d,h){return({name:y,value:O})=>{let T=y.match(Nr()),P=y.match(/:([a-zA-Z0-9\-:]+)/),j=y.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],k=h||d[y]||y;return{type:T?T[1]:null,value:P?P[1]:null,modifiers:j.map(q=>q.replace(".","")),expression:O,original:k}}}var br="DEFAULT",nr=["ignore","ref","data","id","radio","tabs","switch","disclosure","menu","listbox","list","item","combobox","bind","init","for","mask","model","modelable","transition","show","if",br,"teleport"];function ht(d,h){let y=nr.indexOf(d.type)===-1?br:d.type,O=nr.indexOf(h.type)===-1?br:h.type;return nr.indexOf(y)-nr.indexOf(O)}function Qe(d,h,y={}){d.dispatchEvent(new CustomEvent(h,{detail:y,bubbles:!0,composed:!0,cancelable:!0}))}var yr=[],gr=!1;function Dr(d=()=>{}){return queueMicrotask(()=>{gr||setTimeout(()=>{$r()})}),new Promise(h=>{yr.push(()=>{d(),h()})})}function $r(){for(gr=!1;yr.length;)yr.shift()()}function mt(){gr=!0}function Ge(d,h){if(typeof ShadowRoot=="function"&&d instanceof ShadowRoot){Array.from(d.children).forEach(T=>Ge(T,h));return}let y=!1;if(h(d,()=>y=!0),y)return;let O=d.firstElementChild;for(;O;)Ge(O,h),O=O.nextElementSibling}function Ke(d,...h){console.warn(`Alpine Warning: ${d}`,...h)}function bt(){document.body||Ke("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Qe(document,"alpine:init"),Qe(document,"alpine:initializing"),ne(),N(h=>ke(h,Ge)),D(h=>gt(h)),V((h,y)=>{ce(h,y).forEach(O=>O())});let d=h=>!or(h.parentElement,!0);Array.from(document.querySelectorAll(Fr())).filter(d).forEach(h=>{ke(h)}),Qe(document,"alpine:initialized")}var Or=[],kr=[];function Lr(){return Or.map(d=>d())}function Fr(){return Or.concat(kr).map(d=>d())}function Ur(d){Or.push(d)}function Br(d){kr.push(d)}function or(d,h=!1){return ir(d,y=>{if((h?Fr():Lr()).some(T=>y.matches(T)))return!0})}function ir(d,h){if(!!d){if(h(d))return d;if(d._x_teleportBack&&(d=d._x_teleportBack),!!d.parentElement)return ir(d.parentElement,h)}}function yt(d){return Lr().some(h=>d.matches(h))}function ke(d,h=Ge){_t(()=>{h(d,(y,O)=>{ce(y,y.attributes).forEach(T=>T()),y._x_ignore&&O()})})}function gt(d){Ge(d,h=>Q(h))}function Er(d,h){return Array.isArray(h)?Gr(d,h.join(" ")):typeof h=="object"&&h!==null?$t(d,h):typeof h=="function"?Er(d,h()):Gr(d,h)}function Gr(d,h){let y=T=>T.split(" ").filter(P=>!d.classList.contains(P)).filter(Boolean),O=T=>(d.classList.add(...T),()=>{d.classList.remove(...T)});return h=h===!0?h="":h||"",O(y(h))}function $t(d,h){let y=k=>k.split(" ").filter(Boolean),O=Object.entries(h).flatMap(([k,q])=>q?y(k):!1).filter(Boolean),T=Object.entries(h).flatMap(([k,q])=>q?!1:y(k)).filter(Boolean),P=[],j=[];return T.forEach(k=>{d.classList.contains(k)&&(d.classList.remove(k),j.push(k))}),O.forEach(k=>{d.classList.contains(k)||(d.classList.add(k),P.push(k))}),()=>{j.forEach(k=>d.classList.add(k)),P.forEach(k=>d.classList.remove(k))}}function ar(d,h){return typeof h=="object"&&h!==null?Ot(d,h):Et(d,h)}function Ot(d,h){let y={};return Object.entries(h).forEach(([O,T])=>{y[O]=d.style[O],O.startsWith("--")||(O=St(O)),d.style.setProperty(O,T)}),setTimeout(()=>{d.style.length===0&&d.removeAttribute("style")}),()=>{ar(d,y)}}function Et(d,h){let y=d.getAttribute("style",h);return d.setAttribute("style",h),()=>{d.setAttribute("style",y||"")}}function St(d){return d.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Sr(d,h=()=>{}){let y=!1;return function(){y?h.apply(this,arguments):(y=!0,d.apply(this,arguments))}}F("transition",(d,{value:h,modifiers:y,expression:O},{evaluate:T})=>{typeof O=="function"&&(O=T(O)),O?wt(d,O,h):Tt(d,y,h)});function wt(d,h,y){Vr(d,Er,""),{enter:T=>{d._x_transition.enter.during=T},"enter-start":T=>{d._x_transition.enter.start=T},"enter-end":T=>{d._x_transition.enter.end=T},leave:T=>{d._x_transition.leave.during=T},"leave-start":T=>{d._x_transition.leave.start=T},"leave-end":T=>{d._x_transition.leave.end=T}}[y](h)}function Tt(d,h,y){Vr(d,ar);let O=!h.includes("in")&&!h.includes("out")&&!y,T=O||h.includes("in")||["enter"].includes(y),P=O||h.includes("out")||["leave"].includes(y);h.includes("in")&&!O&&(h=h.filter((ye,Te)=>Te<h.indexOf("out"))),h.includes("out")&&!O&&(h=h.filter((ye,Te)=>Te>h.indexOf("out")));let j=!h.includes("opacity")&&!h.includes("scale"),k=j||h.includes("opacity"),q=j||h.includes("scale"),X=k?0:1,ue=q?Je(h,"scale",95)/100:1,he=Je(h,"delay",0),Se=Je(h,"origin","center"),ze="opacity, transform",fr=Je(h,"duration",150)/1e3,ft=Je(h,"duration",75)/1e3,se="cubic-bezier(0.4, 0.0, 0.2, 1)";T&&(d._x_transition.enter.during={transformOrigin:Se,transitionDelay:he,transitionProperty:ze,transitionDuration:`${fr}s`,transitionTimingFunction:se},d._x_transition.enter.start={opacity:X,transform:`scale(${ue})`},d._x_transition.enter.end={opacity:1,transform:"scale(1)"}),P&&(d._x_transition.leave.during={transformOrigin:Se,transitionDelay:he,transitionProperty:ze,transitionDuration:`${ft}s`,transitionTimingFunction:se},d._x_transition.leave.start={opacity:1,transform:"scale(1)"},d._x_transition.leave.end={opacity:X,transform:`scale(${ue})`})}function Vr(d,h,y={}){d._x_transition||(d._x_transition={enter:{during:y,start:y,end:y},leave:{during:y,start:y,end:y},in(O=()=>{},T=()=>{}){wr(d,h,{during:this.enter.during,start:this.enter.start,end:this.enter.end},O,T)},out(O=()=>{},T=()=>{}){wr(d,h,{during:this.leave.during,start:this.leave.start,end:this.leave.end},O,T)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(d,h,y,O){const T=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let P=()=>T(y);if(h){d._x_transition&&(d._x_transition.enter||d._x_transition.leave)?d._x_transition.enter&&(Object.entries(d._x_transition.enter.during).length||Object.entries(d._x_transition.enter.start).length||Object.entries(d._x_transition.enter.end).length)?d._x_transition.in(y):P():d._x_transition?d._x_transition.in(y):P();return}d._x_hidePromise=d._x_transition?new Promise((j,k)=>{d._x_transition.out(()=>{},()=>j(O)),d._x_transitioning.beforeCancel(()=>k({isFromCancelledTransition:!0}))}):Promise.resolve(O),queueMicrotask(()=>{let j=Wr(d);j?(j._x_hideChildren||(j._x_hideChildren=[]),j._x_hideChildren.push(d)):T(()=>{let k=q=>{let X=Promise.all([q._x_hidePromise,...(q._x_hideChildren||[]).map(k)]).then(([ue])=>ue());return delete q._x_hidePromise,delete q._x_hideChildren,X};k(d).catch(q=>{if(!q.isFromCancelledTransition)throw q})})})};function Wr(d){let h=d.parentNode;if(!!h)return h._x_hidePromise?h:Wr(h)}function wr(d,h,{during:y,start:O,end:T}={},P=()=>{},j=()=>{}){if(d._x_transitioning&&d._x_transitioning.cancel(),Object.keys(y).length===0&&Object.keys(O).length===0&&Object.keys(T).length===0){P(),j();return}let k,q,X;Pt(d,{start(){k=h(d,O)},during(){q=h(d,y)},before:P,end(){k(),X=h(d,T)},after:j,cleanup(){q(),X()}})}function Pt(d,h){let y,O,T,P=Sr(()=>{B(()=>{y=!0,O||h.before(),T||(h.end(),$r()),h.after(),d.isConnected&&h.cleanup(),delete d._x_transitioning})});d._x_transitioning={beforeCancels:[],beforeCancel(j){this.beforeCancels.push(j)},cancel:Sr(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();P()}),finish:P},B(()=>{h.start(),h.during()}),mt(),requestAnimationFrame(()=>{if(y)return;let j=Number(getComputedStyle(d).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,k=Number(getComputedStyle(d).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;j===0&&(j=Number(getComputedStyle(d).animationDuration.replace("s",""))*1e3),B(()=>{h.before()}),O=!0,requestAnimationFrame(()=>{y||(B(()=>{h.end()}),$r(),setTimeout(d._x_transitioning.finish,j+k),T=!0)})})}function Je(d,h,y){if(d.indexOf(h)===-1)return y;const O=d[d.indexOf(h)+1];if(!O||h==="scale"&&isNaN(O))return y;if(h==="duration"){let T=O.match(/([0-9]+)ms/);if(T)return T[1]}return h==="origin"&&["top","right","left","center","bottom"].includes(d[d.indexOf(h)+2])?[O,d[d.indexOf(h)+2]].join(" "):O}var Tr=!1;function ur(d,h=()=>{}){return(...y)=>Tr?h(...y):d(...y)}function At(d,h){h._x_dataStack||(h._x_dataStack=d._x_dataStack),Tr=!0,jt(()=>{It(h)}),Tr=!1}function It(d){let h=!1;ke(d,(O,T)=>{Ge(O,(P,j)=>{if(h&&yt(P))return j();h=!0,T(P,j)})})}function jt(d){let h=c;w((y,O)=>{let T=h(y);return f(T),()=>{}}),d(),w(h)}function Hr(d,h,y,O=[]){switch(d._x_bindings||(d._x_bindings=l({})),d._x_bindings[h]=y,h=O.includes("camel")?kt(h):h,h){case"value":Rt(d,y);break;case"style":xt(d,y);break;case"class":Ct(d,y);break;default:Mt(d,h,y);break}}function Rt(d,h){if(d.type==="radio")d.attributes.value===void 0&&(d.value=h),window.fromModel&&(d.checked=qr(d.value,h));else if(d.type==="checkbox")Number.isInteger(h)?d.value=h:!Number.isInteger(h)&&!Array.isArray(h)&&typeof h!="boolean"&&![null,void 0].includes(h)?d.value=String(h):Array.isArray(h)?d.checked=h.some(y=>qr(y,d.value)):d.checked=!!h;else if(d.tagName==="SELECT")Dt(d,h);else{if(d.value===h)return;d.value=h}}function Ct(d,h){d._x_undoAddedClasses&&d._x_undoAddedClasses(),d._x_undoAddedClasses=Er(d,h)}function xt(d,h){d._x_undoAddedStyles&&d._x_undoAddedStyles(),d._x_undoAddedStyles=ar(d,h)}function Mt(d,h,y){[null,void 0,!1].includes(y)&&Lt(h)?d.removeAttribute(h):(zr(h)&&(y=h),Nt(d,h,y))}function Nt(d,h,y){d.getAttribute(h)!=y&&d.setAttribute(h,y)}function Dt(d,h){const y=[].concat(h).map(O=>O+"");Array.from(d.options).forEach(O=>{O.selected=y.includes(O.value)})}function kt(d){return d.toLowerCase().replace(/-(\w)/g,(h,y)=>y.toUpperCase())}function qr(d,h){return d==h}function zr(d){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(d)}function Lt(d){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(d)}function Ft(d,h,y){if(d._x_bindings&&d._x_bindings[h]!==void 0)return d._x_bindings[h];let O=d.getAttribute(h);return O===null?typeof y=="function"?y():y:O===""?!0:zr(h)?!![h,"true"].includes(O):O}function Yr(d,h){var y;return function(){var O=this,T=arguments,P=function(){y=null,d.apply(O,T)};clearTimeout(y),y=setTimeout(P,h)}}function Kr(d,h){let y;return function(){let O=this,T=arguments;y||(d.apply(O,T),y=!0,setTimeout(()=>y=!1,h))}}function Ut(d){d(er)}var Ve={},Zr=!1;function Bt(d,h){if(Zr||(Ve=l(Ve),Zr=!0),h===void 0)return Ve[d];Ve[d]=h,typeof h=="object"&&h!==null&&h.hasOwnProperty("init")&&typeof h.init=="function"&&Ve[d].init(),re(Ve[d])}function Gt(){return Ve}var Xr={};function Vt(d,h){let y=typeof h!="function"?()=>h:h;d instanceof Element?Qr(d,y()):Xr[d]=y}function Wt(d){return Object.entries(Xr).forEach(([h,y])=>{Object.defineProperty(d,h,{get(){return(...O)=>y(...O)}})}),d}function Qr(d,h,y){let O=[];for(;O.length;)O.pop()();let T=Object.entries(h).map(([j,k])=>({name:j,value:k})),P=be(T);T=T.map(j=>P.find(k=>k.name===j.name)?{name:`x-bind:${j.name}`,value:`"${j.value}"`}:j),ce(d,T,y).map(j=>{O.push(j.runCleanups),j()})}var Jr={};function Ht(d,h){Jr[d]=h}function qt(d,h){return Object.entries(Jr).forEach(([y,O])=>{Object.defineProperty(d,y,{get(){return(...T)=>O.bind(h)(...T)},enumerable:!1})}),d}var zt={get reactive(){return l},get release(){return f},get effect(){return c},get raw(){return v},version:"3.10.5",flushAndStopDeferringMutations:ie,dontAutoEvaluateFunctions:vr,disableEffectScheduling:$,setReactivityEngine:E,closestDataStack:z,skipDuringClone:ur,addRootSelector:Ur,addInitSelector:Br,addScopeToNode:M,deferMutations:J,mapAttributes:mr,evaluateLater:we,setEvaluator:Ie,mergeProxies:ee,findClosest:ir,closestRoot:or,interceptor:me,transition:wr,setStyles:ar,mutateDom:B,directive:F,throttle:Kr,debounce:Yr,evaluate:De,initTree:ke,nextTick:Dr,prefixed:S,prefix:C,plugin:Ut,magic:Oe,store:Bt,start:bt,clone:At,bound:Ft,$data:_e,data:Ht,bind:Vt},er=zt;function Yt(d,h){const y=Object.create(null),O=d.split(",");for(let T=0;T<O.length;T++)y[O[T]]=!0;return h?T=>!!y[T.toLowerCase()]:T=>!!y[T]}var Kt=Object.freeze({});Object.freeze([]);var et=Object.assign,Zt=Object.prototype.hasOwnProperty,sr=(d,h)=>Zt.call(d,h),We=Array.isArray,rr=d=>rt(d)==="[object Map]",Xt=d=>typeof d=="string",Pr=d=>typeof d=="symbol",cr=d=>d!==null&&typeof d=="object",Qt=Object.prototype.toString,rt=d=>Qt.call(d),He=d=>rt(d).slice(8,-1),Le=d=>Xt(d)&&d!=="NaN"&&d[0]!=="-"&&""+parseInt(d,10)===d,Ce=d=>{const h=Object.create(null);return y=>h[y]||(h[y]=d(y))},qe=Ce(d=>d.charAt(0).toUpperCase()+d.slice(1)),fn=(d,h)=>d!==h&&(d===d||h===h),Jt=new WeakMap,Ar=[],Fe,tr=Symbol("iterate"),en=Symbol("Map key iterate");function Un(d){return d&&d._isEffect===!0}function Bn(d,h=Kt){Un(d)&&(d=d.raw);const y=Wn(d,h);return h.lazy||y(),y}function Gn(d){d.active&&(dn(d),d.options.onStop&&d.options.onStop(),d.active=!1)}var Vn=0;function Wn(d,h){const y=function(){if(!y.active)return d();if(!Ar.includes(y)){dn(y);try{return qn(),Ar.push(y),Fe=y,d()}finally{Ar.pop(),_n(),Fe=Ar[Ar.length-1]}}};return y.id=Vn++,y.allowRecurse=!!h.allowRecurse,y._isEffect=!0,y.active=!0,y.raw=d,y.deps=[],y.options=h,y}function dn(d){const{deps:h}=d;if(h.length){for(let y=0;y<h.length;y++)h[y].delete(d);h.length=0}}var lr=!0,rn=[];function Hn(){rn.push(lr),lr=!1}function qn(){rn.push(lr),lr=!0}function _n(){const d=rn.pop();lr=d===void 0?!0:d}function xe(d,h,y){if(!lr||Fe===void 0)return;let O=Jt.get(d);O||Jt.set(d,O=new Map);let T=O.get(y);T||O.set(y,T=new Set),T.has(Fe)||(T.add(Fe),Fe.deps.push(T),Fe.options.onTrack&&Fe.options.onTrack({effect:Fe,target:d,type:h,key:y}))}function Ze(d,h,y,O,T,P){const j=Jt.get(d);if(!j)return;const k=new Set,q=ue=>{ue&&ue.forEach(he=>{(he!==Fe||he.allowRecurse)&&k.add(he)})};if(h==="clear")j.forEach(q);else if(y==="length"&&We(d))j.forEach((ue,he)=>{(he==="length"||he>=O)&&q(ue)});else switch(y!==void 0&&q(j.get(y)),h){case"add":We(d)?Le(y)&&q(j.get("length")):(q(j.get(tr)),rr(d)&&q(j.get(en)));break;case"delete":We(d)||(q(j.get(tr)),rr(d)&&q(j.get(en)));break;case"set":rr(d)&&q(j.get(tr));break}const X=ue=>{ue.options.onTrigger&&ue.options.onTrigger({effect:ue,target:d,key:y,type:h,newValue:O,oldValue:T,oldTarget:P}),ue.options.scheduler?ue.options.scheduler(ue):ue()};k.forEach(X)}var zn=Yt("__proto__,__v_isRef,__isVue"),vn=new Set(Object.getOwnPropertyNames(Symbol).map(d=>Symbol[d]).filter(Pr)),Yn=nt(),Kn=nt(!1,!0),Zn=nt(!0),Xn=nt(!0,!0),tt={};["includes","indexOf","lastIndexOf"].forEach(d=>{const h=Array.prototype[d];tt[d]=function(...y){const O=$e(this);for(let P=0,j=this.length;P<j;P++)xe(O,"get",P+"");const T=h.apply(O,y);return T===-1||T===!1?h.apply(O,y.map($e)):T}}),["push","pop","shift","unshift","splice"].forEach(d=>{const h=Array.prototype[d];tt[d]=function(...y){Hn();const O=h.apply(this,y);return _n(),O}});function nt(d=!1,h=!1){return function(O,T,P){if(T==="__v_isReactive")return!d;if(T==="__v_isReadonly")return d;if(T==="__v_raw"&&P===(d?h?uo:In:h?ao:An).get(O))return O;const j=We(O);if(!d&&j&&sr(tt,T))return Reflect.get(tt,T,P);const k=Reflect.get(O,T,P);return(Pr(T)?vn.has(T):zn(T))||(d||xe(O,"get",T),h)?k:un(k)?!j||!Le(T)?k.value:k:cr(k)?d?jn(k):an(k):k}}var Qn=pn(),Jn=pn(!0);function pn(d=!1){return function(y,O,T,P){let j=y[O];if(!d&&(T=$e(T),j=$e(j),!We(y)&&un(j)&&!un(T)))return j.value=T,!0;const k=We(y)&&Le(O)?Number(O)<y.length:sr(y,O),q=Reflect.set(y,O,T,P);return y===$e(P)&&(k?fn(T,j)&&Ze(y,"set",O,T,j):Ze(y,"add",O,T)),q}}function eo(d,h){const y=sr(d,h),O=d[h],T=Reflect.deleteProperty(d,h);return T&&y&&Ze(d,"delete",h,void 0,O),T}function ro(d,h){const y=Reflect.has(d,h);return(!Pr(h)||!vn.has(h))&&xe(d,"has",h),y}function to(d){return xe(d,"iterate",We(d)?"length":tr),Reflect.ownKeys(d)}var hn={get:Yn,set:Qn,deleteProperty:eo,has:ro,ownKeys:to},mn={get:Zn,set(d,h){return console.warn(`Set operation on key "${String(h)}" failed: target is readonly.`,d),!0},deleteProperty(d,h){return console.warn(`Delete operation on key "${String(h)}" failed: target is readonly.`,d),!0}};et({},hn,{get:Kn,set:Jn}),et({},mn,{get:Xn});var tn=d=>cr(d)?an(d):d,nn=d=>cr(d)?jn(d):d,on=d=>d,ot=d=>Reflect.getPrototypeOf(d);function it(d,h,y=!1,O=!1){d=d.__v_raw;const T=$e(d),P=$e(h);h!==P&&!y&&xe(T,"get",h),!y&&xe(T,"get",P);const{has:j}=ot(T),k=O?on:y?nn:tn;if(j.call(T,h))return k(d.get(h));if(j.call(T,P))return k(d.get(P));d!==T&&d.get(h)}function at(d,h=!1){const y=this.__v_raw,O=$e(y),T=$e(d);return d!==T&&!h&&xe(O,"has",d),!h&&xe(O,"has",T),d===T?y.has(d):y.has(d)||y.has(T)}function ut(d,h=!1){return d=d.__v_raw,!h&&xe($e(d),"iterate",tr),Reflect.get(d,"size",d)}function bn(d){d=$e(d);const h=$e(this);return ot(h).has.call(h,d)||(h.add(d),Ze(h,"add",d,d)),this}function yn(d,h){h=$e(h);const y=$e(this),{has:O,get:T}=ot(y);let P=O.call(y,d);P?Pn(y,O,d):(d=$e(d),P=O.call(y,d));const j=T.call(y,d);return y.set(d,h),P?fn(h,j)&&Ze(y,"set",d,h,j):Ze(y,"add",d,h),this}function gn(d){const h=$e(this),{has:y,get:O}=ot(h);let T=y.call(h,d);T?Pn(h,y,d):(d=$e(d),T=y.call(h,d));const P=O?O.call(h,d):void 0,j=h.delete(d);return T&&Ze(h,"delete",d,void 0,P),j}function $n(){const d=$e(this),h=d.size!==0,y=rr(d)?new Map(d):new Set(d),O=d.clear();return h&&Ze(d,"clear",void 0,void 0,y),O}function st(d,h){return function(O,T){const P=this,j=P.__v_raw,k=$e(j),q=h?on:d?nn:tn;return!d&&xe(k,"iterate",tr),j.forEach((X,ue)=>O.call(T,q(X),q(ue),P))}}function ct(d,h,y){return function(...O){const T=this.__v_raw,P=$e(T),j=rr(P),k=d==="entries"||d===Symbol.iterator&&j,q=d==="keys"&&j,X=T[d](...O),ue=y?on:h?nn:tn;return!h&&xe(P,"iterate",q?en:tr),{next(){const{value:he,done:Se}=X.next();return Se?{value:he,done:Se}:{value:k?[ue(he[0]),ue(he[1])]:ue(he),done:Se}},[Symbol.iterator](){return this}}}}function Xe(d){return function(...h){{const y=h[0]?`on key "${h[0]}" `:"";console.warn(`${qe(d)} operation ${y}failed: target is readonly.`,$e(this))}return d==="delete"?!1:this}}var On={get(d){return it(this,d)},get size(){return ut(this)},has:at,add:bn,set:yn,delete:gn,clear:$n,forEach:st(!1,!1)},En={get(d){return it(this,d,!1,!0)},get size(){return ut(this)},has:at,add:bn,set:yn,delete:gn,clear:$n,forEach:st(!1,!0)},Sn={get(d){return it(this,d,!0)},get size(){return ut(this,!0)},has(d){return at.call(this,d,!0)},add:Xe("add"),set:Xe("set"),delete:Xe("delete"),clear:Xe("clear"),forEach:st(!0,!1)},wn={get(d){return it(this,d,!0,!0)},get size(){return ut(this,!0)},has(d){return at.call(this,d,!0)},add:Xe("add"),set:Xe("set"),delete:Xe("delete"),clear:Xe("clear"),forEach:st(!0,!0)},no=["keys","values","entries",Symbol.iterator];no.forEach(d=>{On[d]=ct(d,!1,!1),Sn[d]=ct(d,!0,!1),En[d]=ct(d,!1,!0),wn[d]=ct(d,!0,!0)});function Tn(d,h){const y=h?d?wn:En:d?Sn:On;return(O,T,P)=>T==="__v_isReactive"?!d:T==="__v_isReadonly"?d:T==="__v_raw"?O:Reflect.get(sr(y,T)&&T in O?y:O,T,P)}var oo={get:Tn(!1,!1)},io={get:Tn(!0,!1)};function Pn(d,h,y){const O=$e(y);if(O!==y&&h.call(d,O)){const T=He(d);console.warn(`Reactive ${T} contains both the raw and reactive versions of the same object${T==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var An=new WeakMap,ao=new WeakMap,In=new WeakMap,uo=new WeakMap;function so(d){switch(d){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function co(d){return d.__v_skip||!Object.isExtensible(d)?0:so(He(d))}function an(d){return d&&d.__v_isReadonly?d:Rn(d,!1,hn,oo,An)}function jn(d){return Rn(d,!0,mn,io,In)}function Rn(d,h,y,O,T){if(!cr(d))return console.warn(`value cannot be made reactive: ${String(d)}`),d;if(d.__v_raw&&!(h&&d.__v_isReactive))return d;const P=T.get(d);if(P)return P;const j=co(d);if(j===0)return d;const k=new Proxy(d,j===2?O:y);return T.set(d,k),k}function $e(d){return d&&$e(d.__v_raw)||d}function un(d){return Boolean(d&&d.__v_isRef===!0)}Oe("nextTick",()=>Dr),Oe("dispatch",d=>Qe.bind(Qe,d)),Oe("watch",(d,{evaluateLater:h,effect:y})=>(O,T)=>{let P=h(O),j=!0,k,q=y(()=>P(X=>{JSON.stringify(X),j?k=X:queueMicrotask(()=>{T(X,k),k=X}),j=!1}));d._x_effects.delete(q)}),Oe("store",Gt),Oe("data",d=>_e(d)),Oe("root",d=>or(d)),Oe("refs",d=>(d._x_refs_proxy||(d._x_refs_proxy=ee(lo(d))),d._x_refs_proxy));function lo(d){let h=[],y=d;for(;y;)y._x_refs&&h.push(y._x_refs),y=y.parentNode;return h}var sn={};function Cn(d){return sn[d]||(sn[d]=0),++sn[d]}function fo(d,h){return ir(d,y=>{if(y._x_ids&&y._x_ids[h])return!0})}function _o(d,h){d._x_ids||(d._x_ids={}),d._x_ids[h]||(d._x_ids[h]=Cn(h))}Oe("id",d=>(h,y=null)=>{let O=fo(d,h),T=O?O._x_ids[h]:Cn(h);return y?`${h}-${T}-${y}`:`${h}-${T}`}),Oe("el",d=>d),xn("Focus","focus","focus"),xn("Persist","persist","persist");function xn(d,h,y){Oe(h,O=>Ke(`You can't use [$${directiveName}] without first installing the "${d}" plugin here: https://alpinejs.dev/plugins/${y}`,O))}F("modelable",(d,{expression:h},{effect:y,evaluateLater:O})=>{let T=O(h),P=()=>{let X;return T(ue=>X=ue),X},j=O(`${h} = __placeholder`),k=X=>j(()=>{},{scope:{__placeholder:X}}),q=P();k(q),queueMicrotask(()=>{if(!d._x_model)return;d._x_removeModelListeners.default();let X=d._x_model.get,ue=d._x_model.set;y(()=>k(X())),y(()=>ue(P()))})}),F("teleport",(d,{expression:h},{cleanup:y})=>{d.tagName.toLowerCase()!=="template"&&Ke("x-teleport can only be used on a <template> tag",d);let O=document.querySelector(h);O||Ke(`Cannot find x-teleport element for selector: "${h}"`);let T=d.content.cloneNode(!0).firstElementChild;d._x_teleport=T,T._x_teleportBack=d,d._x_forwardEvents&&d._x_forwardEvents.forEach(P=>{T.addEventListener(P,j=>{j.stopPropagation(),d.dispatchEvent(new j.constructor(j.type,j))})}),M(T,{},d),B(()=>{O.appendChild(T),ke(T),T._x_ignore=!0}),y(()=>T.remove())});var Mn=()=>{};Mn.inline=(d,{modifiers:h},{cleanup:y})=>{h.includes("self")?d._x_ignoreSelf=!0:d._x_ignore=!0,y(()=>{h.includes("self")?delete d._x_ignoreSelf:delete d._x_ignore})},F("ignore",Mn),F("effect",(d,{expression:h},{effect:y})=>y(we(d,h)));function Nn(d,h,y,O){let T=d,P=q=>O(q),j={},k=(q,X)=>ue=>X(q,ue);if(y.includes("dot")&&(h=vo(h)),y.includes("camel")&&(h=po(h)),y.includes("passive")&&(j.passive=!0),y.includes("capture")&&(j.capture=!0),y.includes("window")&&(T=window),y.includes("document")&&(T=document),y.includes("prevent")&&(P=k(P,(q,X)=>{X.preventDefault(),q(X)})),y.includes("stop")&&(P=k(P,(q,X)=>{X.stopPropagation(),q(X)})),y.includes("self")&&(P=k(P,(q,X)=>{X.target===d&&q(X)})),(y.includes("away")||y.includes("outside"))&&(T=document,P=k(P,(q,X)=>{d.contains(X.target)||X.target.isConnected!==!1&&(d.offsetWidth<1&&d.offsetHeight<1||d._x_isShown!==!1&&q(X))})),y.includes("once")&&(P=k(P,(q,X)=>{q(X),T.removeEventListener(h,P,j)})),P=k(P,(q,X)=>{mo(h)&&bo(X,y)||q(X)}),y.includes("debounce")){let q=y[y.indexOf("debounce")+1]||"invalid-wait",X=cn(q.split("ms")[0])?Number(q.split("ms")[0]):250;P=Yr(P,X)}if(y.includes("throttle")){let q=y[y.indexOf("throttle")+1]||"invalid-wait",X=cn(q.split("ms")[0])?Number(q.split("ms")[0]):250;P=Kr(P,X)}return T.addEventListener(h,P,j),()=>{T.removeEventListener(h,P,j)}}function vo(d){return d.replace(/-/g,".")}function po(d){return d.toLowerCase().replace(/-(\w)/g,(h,y)=>y.toUpperCase())}function cn(d){return!Array.isArray(d)&&!isNaN(d)}function ho(d){return d.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function mo(d){return["keydown","keyup"].includes(d)}function bo(d,h){let y=h.filter(P=>!["window","document","prevent","stop","once"].includes(P));if(y.includes("debounce")){let P=y.indexOf("debounce");y.splice(P,cn((y[P+1]||"invalid-wait").split("ms")[0])?2:1)}if(y.length===0||y.length===1&&Dn(d.key).includes(y[0]))return!1;const T=["ctrl","shift","alt","meta","cmd","super"].filter(P=>y.includes(P));return y=y.filter(P=>!T.includes(P)),!(T.length>0&&T.filter(j=>((j==="cmd"||j==="super")&&(j="meta"),d[`${j}Key`])).length===T.length&&Dn(d.key).includes(y[0]))}function Dn(d){if(!d)return[];d=ho(d);let h={ctrl:"control",slash:"/",space:"-",spacebar:"-",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"="};return h[d]=d,Object.keys(h).map(y=>{if(h[y]===d)return y}).filter(y=>y)}F("model",(d,{modifiers:h,expression:y},{effect:O,cleanup:T})=>{let P=we(d,y),j=`${y} = rightSideOfExpression($event, ${y})`,k=we(d,j);var q=d.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(d.type)||h.includes("lazy")?"change":"input";let X=yo(d,h,y),ue=Nn(d,q,h,Se=>{k(()=>{},{scope:{$event:Se,rightSideOfExpression:X}})});d._x_removeModelListeners||(d._x_removeModelListeners={}),d._x_removeModelListeners.default=ue,T(()=>d._x_removeModelListeners.default());let he=we(d,`${y} = __placeholder`);d._x_model={get(){let Se;return P(ze=>Se=ze),Se},set(Se){he(()=>{},{scope:{__placeholder:Se}})}},d._x_forceModelUpdate=()=>{P(Se=>{Se===void 0&&y.match(/\./)&&(Se=""),window.fromModel=!0,B(()=>Hr(d,"value",Se)),delete window.fromModel})},O(()=>{h.includes("unintrusive")&&document.activeElement.isSameNode(d)||d._x_forceModelUpdate()})});function yo(d,h,y){return d.type==="radio"&&B(()=>{d.hasAttribute("name")||d.setAttribute("name",y)}),(O,T)=>B(()=>{if(O instanceof CustomEvent&&O.detail!==void 0)return O.detail||O.target.value;if(d.type==="checkbox")if(Array.isArray(T)){let P=h.includes("number")?ln(O.target.value):O.target.value;return O.target.checked?T.concat([P]):T.filter(j=>!go(j,P))}else return O.target.checked;else{if(d.tagName.toLowerCase()==="select"&&d.multiple)return h.includes("number")?Array.from(O.target.selectedOptions).map(P=>{let j=P.value||P.text;return ln(j)}):Array.from(O.target.selectedOptions).map(P=>P.value||P.text);{let P=O.target.value;return h.includes("number")?ln(P):h.includes("trim")?P.trim():P}}})}function ln(d){let h=d?parseFloat(d):null;return $o(h)?h:d}function go(d,h){return d==h}function $o(d){return!Array.isArray(d)&&!isNaN(d)}F("cloak",d=>queueMicrotask(()=>B(()=>d.removeAttribute(S("cloak"))))),Br(()=>`[${S("init")}]`),F("init",ur((d,{expression:h},{evaluate:y})=>typeof h=="string"?!!h.trim()&&y(h,{},!1):y(h,{},!1))),F("text",(d,{expression:h},{effect:y,evaluateLater:O})=>{let T=O(h);y(()=>{T(P=>{B(()=>{d.textContent=P})})})}),F("html",(d,{expression:h},{effect:y,evaluateLater:O})=>{let T=O(h);y(()=>{T(P=>{B(()=>{d.innerHTML=P,d._x_ignoreSelf=!0,ke(d),delete d._x_ignoreSelf})})})}),mr(jr(":",Rr(S("bind:")))),F("bind",(d,{value:h,modifiers:y,expression:O,original:T},{effect:P})=>{if(!h){let k={};Wt(k),we(d,O)(X=>{Qr(d,X,T)},{scope:k});return}if(h==="key")return Oo(d,O);let j=we(d,O);P(()=>j(k=>{k===void 0&&typeof O=="string"&&O.match(/\./)&&(k=""),B(()=>Hr(d,h,k,y))}))});function Oo(d,h){d._x_keyExpression=h}Ur(()=>`[${S("data")}]`),F("data",ur((d,{expression:h},{cleanup:y})=>{h=h===""?"{}":h;let O={};Re(O,d);let T={};qt(T,O);let P=De(d,h,{scope:T});P===void 0&&(P={}),Re(P,d);let j=l(P);re(j);let k=M(d,j);j.init&&De(d,j.init),y(()=>{j.destroy&&De(d,j.destroy),k()})})),F("show",(d,{modifiers:h,expression:y},{effect:O})=>{let T=we(d,y);d._x_doHide||(d._x_doHide=()=>{B(()=>{d.style.setProperty("display","none",h.includes("important")?"important":void 0)})}),d._x_doShow||(d._x_doShow=()=>{B(()=>{d.style.length===1&&d.style.display==="none"?d.removeAttribute("style"):d.style.removeProperty("display")})});let P=()=>{d._x_doHide(),d._x_isShown=!1},j=()=>{d._x_doShow(),d._x_isShown=!0},k=()=>setTimeout(j),q=Sr(he=>he?j():P(),he=>{typeof d._x_toggleAndCascadeWithTransitions=="function"?d._x_toggleAndCascadeWithTransitions(d,he,j,P):he?k():P()}),X,ue=!0;O(()=>T(he=>{!ue&&he===X||(h.includes("immediate")&&(he?k():P()),q(he),X=he,ue=!1)}))}),F("for",(d,{expression:h},{effect:y,cleanup:O})=>{let T=So(h),P=we(d,T.items),j=we(d,d._x_keyExpression||"index");d._x_prevKeys=[],d._x_lookup={},y(()=>Eo(d,T,P,j)),O(()=>{Object.values(d._x_lookup).forEach(k=>k.remove()),delete d._x_prevKeys,delete d._x_lookup})});function Eo(d,h,y,O){let T=j=>typeof j=="object"&&!Array.isArray(j),P=d;y(j=>{wo(j)&&j>=0&&(j=Array.from(Array(j).keys(),se=>se+1)),j===void 0&&(j=[]);let k=d._x_lookup,q=d._x_prevKeys,X=[],ue=[];if(T(j))j=Object.entries(j).map(([se,ye])=>{let Te=kn(h,ye,se,j);O(Ae=>ue.push(Ae),{scope:{index:se,...Te}}),X.push(Te)});else for(let se=0;se<j.length;se++){let ye=kn(h,j[se],se,j);O(Te=>ue.push(Te),{scope:{index:se,...ye}}),X.push(ye)}let he=[],Se=[],ze=[],fr=[];for(let se=0;se<q.length;se++){let ye=q[se];ue.indexOf(ye)===-1&&ze.push(ye)}q=q.filter(se=>!ze.includes(se));let ft="template";for(let se=0;se<ue.length;se++){let ye=ue[se],Te=q.indexOf(ye);if(Te===-1)q.splice(se,0,ye),he.push([ft,se]);else if(Te!==se){let Ae=q.splice(se,1)[0],Me=q.splice(Te-1,1)[0];q.splice(se,0,Me),q.splice(Te,0,Ae),Se.push([Ae,Me])}else fr.push(ye);ft=ye}for(let se=0;se<ze.length;se++){let ye=ze[se];k[ye]._x_effects&&k[ye]._x_effects.forEach(a),k[ye].remove(),k[ye]=null,delete k[ye]}for(let se=0;se<Se.length;se++){let[ye,Te]=Se[se],Ae=k[ye],Me=k[Te],dr=document.createElement("div");B(()=>{Me.after(dr),Ae.after(Me),Me._x_currentIfEl&&Me.after(Me._x_currentIfEl),dr.before(Ae),Ae._x_currentIfEl&&Ae.after(Ae._x_currentIfEl),dr.remove()}),G(Me,X[ue.indexOf(Te)])}for(let se=0;se<he.length;se++){let[ye,Te]=he[se],Ae=ye==="template"?P:k[ye];Ae._x_currentIfEl&&(Ae=Ae._x_currentIfEl);let Me=X[Te],dr=ue[Te],dt=document.importNode(P.content,!0).firstElementChild;M(dt,l(Me),P),B(()=>{Ae.after(dt),ke(dt)}),typeof dr=="object"&&Ke("x-for key cannot be an object, it must be a string or an integer",P),k[dr]=dt}for(let se=0;se<fr.length;se++)G(k[fr[se]],X[ue.indexOf(fr[se])]);P._x_prevKeys=ue})}function So(d){let h=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,y=/^\s*\(|\)\s*$/g,O=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,T=d.match(O);if(!T)return;let P={};P.items=T[2].trim();let j=T[1].replace(y,"").trim(),k=j.match(h);return k?(P.item=j.replace(h,"").trim(),P.index=k[1].trim(),k[2]&&(P.collection=k[2].trim())):P.item=j,P}function kn(d,h,y,O){let T={};return/^\[.*\]$/.test(d.item)&&Array.isArray(h)?d.item.replace("[","").replace("]","").split(",").map(j=>j.trim()).forEach((j,k)=>{T[j]=h[k]}):/^\{.*\}$/.test(d.item)&&!Array.isArray(h)&&typeof h=="object"?d.item.replace("{","").replace("}","").split(",").map(j=>j.trim()).forEach(j=>{T[j]=h[j]}):T[d.item]=h,d.index&&(T[d.index]=y),d.collection&&(T[d.collection]=O),T}function wo(d){return!Array.isArray(d)&&!isNaN(d)}function Ln(){}Ln.inline=(d,{expression:h},{cleanup:y})=>{let O=or(d);O._x_refs||(O._x_refs={}),O._x_refs[h]=d,y(()=>delete O._x_refs[h])},F("ref",Ln),F("if",(d,{expression:h},{effect:y,cleanup:O})=>{let T=we(d,h),P=()=>{if(d._x_currentIfEl)return d._x_currentIfEl;let k=d.content.cloneNode(!0).firstElementChild;return M(k,{},d),B(()=>{d.after(k),ke(k)}),d._x_currentIfEl=k,d._x_undoIf=()=>{Ge(k,q=>{q._x_effects&&q._x_effects.forEach(a)}),k.remove(),delete d._x_currentIfEl},k},j=()=>{!d._x_undoIf||(d._x_undoIf(),delete d._x_undoIf)};y(()=>T(k=>{k?P():j()})),O(()=>d._x_undoIf&&d._x_undoIf())}),F("id",(d,{expression:h},{evaluate:y})=>{y(h).forEach(T=>_o(d,T))}),mr(jr("@",Rr(S("on:")))),F("on",ur((d,{value:h,modifiers:y,expression:O},{cleanup:T})=>{let P=O?we(d,O):()=>{};d.tagName.toLowerCase()==="template"&&(d._x_forwardEvents||(d._x_forwardEvents=[]),d._x_forwardEvents.includes(h)||d._x_forwardEvents.push(h));let j=Nn(d,h,y,k=>{P(()=>{},{scope:{$event:k},params:[k]})});T(()=>j())})),lt("Collapse","collapse","collapse"),lt("Intersect","intersect","intersect"),lt("Focus","trap","focus"),lt("Mask","mask","mask");function lt(d,h,y){F(h,O=>Ke(`You can't use [x-${h}] without first installing the "${d}" plugin here: https://alpinejs.dev/plugins/${y}`,O))}er.setEvaluator(Ye),er.setReactivityEngine({reactive:an,effect:Bn,release:Gn,raw:$e});var Fn=er;window.Alpine=Fn,queueMicrotask(()=>{Fn.start()})})();var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),t}(function(e,t){e.htmx=e.htmx||t()})(typeof self!="undefined"?self:commonjsGlobal,function(){return function(){var htmx={onLoad:onLoadHelper,process:processNode,on:addEventListenerImpl,off:removeEventListenerImpl,trigger:triggerEvent,ajax:ajaxHelper,find,findAll,closest,values:function(e,t){var r=getInputValues(e,t||"post");return r.values},remove:removeElement,addClass:addClassToElement,removeClass:removeClassFromElement,toggleClass:toggleClassOnElement,takeClass:takeClassForElement,defineExtension,removeExtension,logAll,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,inlineScriptNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",disableSelector:"[hx-disable], [data-hx-disable]",useTemplateFragments:!1,scrollBehavior:"smooth",defaultFocusScroll:!1},parseInterval,_:internalEval,createEventSource:function(e){return new EventSource(e,{withCredentials:!0})},createWebSocket:function(e){return new WebSocket(e,[])},version:"1.8.4"},internalAPI={addTriggerHandler,bodyContains,canAccessLocalStorage,filterValues,hasAttribute,getAttributeValue,getClosestMatch,getExpressionVars,getHeaders,getInputValues,getInternalData,getSwapSpecification,getTriggerSpecs,getTarget,makeFragment,mergeObjects,makeSettleInfo,oobSwap,selectAndSwap,settleImmediately,shouldCancel,triggerEvent,triggerErrorEvent,withExtensions},VERBS=["get","post","put","delete","patch"],VERB_SELECTOR=VERBS.map(function(e){return"[hx-"+e+"], [data-hx-"+e+"]"}).join(", ");function parseInterval(e){if(e!=null)return e.slice(-2)=="ms"?parseFloat(e.slice(0,-2))||void 0:e.slice(-1)=="s"?parseFloat(e.slice(0,-1))*1e3||void 0:e.slice(-1)=="m"?parseFloat(e.slice(0,-1))*1e3*60||void 0:parseFloat(e)||void 0}function getRawAttribute(e,t){return e.getAttribute&&e.getAttribute(t)}function hasAttribute(e,t){return e.hasAttribute&&(e.hasAttribute(t)||e.hasAttribute("data-"+t))}function getAttributeValue(e,t){return getRawAttribute(e,t)||getRawAttribute(e,"data-"+t)}function parentElt(e){return e.parentElement}function getDocument(){return document}function getClosestMatch(e,t){for(;e&&!t(e);)e=parentElt(e);return e||null}function getAttributeValueWithDisinheritance(e,t,r){var n=getAttributeValue(t,r),o=getAttributeValue(t,"hx-disinherit");return e!==t&&o&&(o==="*"||o.split(" ").indexOf(r)>=0)?"unset":n}function getClosestAttributeValue(e,t){var r=null;if(getClosestMatch(e,function(n){return r=getAttributeValueWithDisinheritance(e,n,t)}),r!=="unset")return r}function matches(e,t){var r=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector;return r&&r.call(e,t)}function getStartTag(e){var t=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,r=t.exec(e);return r?r[1].toLowerCase():""}function parseHTML(e,t){for(var r=new DOMParser,n=r.parseFromString(e,"text/html"),o=n.body;t>0;)t--,o=o.firstChild;return o==null&&(o=getDocument().createDocumentFragment()),o}function makeFragment(e){if(htmx.config.useTemplateFragments){var t=parseHTML("<body><template>"+e+"</template></body>",0);return t.querySelector("template").content}else{var r=getStartTag(e);switch(r){case"thead":case"tbody":case"tfoot":case"colgroup":case"caption":return parseHTML("<table>"+e+"</table>",1);case"col":return parseHTML("<table><colgroup>"+e+"</colgroup></table>",2);case"tr":return parseHTML("<table><tbody>"+e+"</tbody></table>",2);case"td":case"th":return parseHTML("<table><tbody><tr>"+e+"</tr></tbody></table>",3);case"script":return parseHTML("<div>"+e+"</div>",1);default:return parseHTML(e,0)}}}function maybeCall(e){e&&e()}function isType(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function isFunction(e){return isType(e,"Function")}function isRawObject(e){return isType(e,"Object")}function getInternalData(e){var t="htmx-internal-data",r=e[t];return r||(r=e[t]={}),r}function toArray(e){var t=[];if(e)for(var r=0;r<e.length;r++)t.push(e[r]);return t}function forEach(e,t){if(e)for(var r=0;r<e.length;r++)t(e[r])}function isScrolledIntoView(e){var t=e.getBoundingClientRect(),r=t.top,n=t.bottom;return r<window.innerHeight&&n>=0}function bodyContains(e){return e.getRootNode&&e.getRootNode()instanceof ShadowRoot?getDocument().body.contains(e.getRootNode().host):getDocument().body.contains(e)}function splitOnWhitespace(e){return e.trim().split(/\s+/)}function mergeObjects(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function parseJSON(e){try{return JSON.parse(e)}catch(t){return logError(t),null}}function canAccessLocalStorage(){var e="htmx:localStorageTest";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}function internalEval(str){return maybeEval(getDocument().body,function(){return eval(str)})}function onLoadHelper(e){var t=htmx.on("htmx:load",function(r){e(r.detail.elt)});return t}function logAll(){htmx.logger=function(e,t,r){console&&console.log(t,e,r)}}function find(e,t){return t?e.querySelector(t):find(getDocument(),e)}function findAll(e,t){return t?e.querySelectorAll(t):findAll(getDocument(),e)}function removeElement(e,t){e=resolveTarget(e),t?setTimeout(function(){removeElement(e)},t):e.parentElement.removeChild(e)}function addClassToElement(e,t,r){e=resolveTarget(e),r?setTimeout(function(){addClassToElement(e,t)},r):e.classList&&e.classList.add(t)}function removeClassFromElement(e,t,r){e=resolveTarget(e),r?setTimeout(function(){removeClassFromElement(e,t)},r):e.classList&&(e.classList.remove(t),e.classList.length===0&&e.removeAttribute("class"))}function toggleClassOnElement(e,t){e=resolveTarget(e),e.classList.toggle(t)}function takeClassForElement(e,t){e=resolveTarget(e),forEach(e.parentElement.children,function(r){removeClassFromElement(r,t)}),addClassToElement(e,t)}function closest(e,t){if(e=resolveTarget(e),e.closest)return e.closest(t);do if(e==null||matches(e,t))return e;while(e=e&&parentElt(e))}function querySelectorAllExt(e,t){return t.indexOf("closest ")===0?[closest(e,t.substr(8))]:t.indexOf("find ")===0?[find(e,t.substr(5))]:t.indexOf("next ")===0?[scanForwardQuery(e,t.substr(5))]:t.indexOf("previous ")===0?[scanBackwardsQuery(e,t.substr(9))]:t==="document"?[document]:t==="window"?[window]:getDocument().querySelectorAll(t)}var scanForwardQuery=function(e,t){for(var r=getDocument().querySelectorAll(t),n=0;n<r.length;n++){var o=r[n];if(o.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING)return o}},scanBackwardsQuery=function(e,t){for(var r=getDocument().querySelectorAll(t),n=r.length-1;n>=0;n--){var o=r[n];if(o.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_FOLLOWING)return o}};function querySelectorExt(e,t){return t?querySelectorAllExt(e,t)[0]:querySelectorAllExt(getDocument().body,e)[0]}function resolveTarget(e){return isType(e,"String")?find(e):e}function processEventArgs(e,t,r){return isFunction(t)?{target:getDocument().body,event:e,listener:t}:{target:resolveTarget(e),event:t,listener:r}}function addEventListenerImpl(e,t,r){ready(function(){var o=processEventArgs(e,t,r);o.target.addEventListener(o.event,o.listener)});var n=isFunction(t);return n?t:r}function removeEventListenerImpl(e,t,r){return ready(function(){var n=processEventArgs(e,t,r);n.target.removeEventListener(n.event,n.listener)}),isFunction(t)?t:r}var DUMMY_ELT=getDocument().createElement("output");function findAttributeTargets(e,t){var r=getClosestAttributeValue(e,t);if(r){if(r==="this")return[findThisElement(e,t)];var n=querySelectorAllExt(e,r);return n.length===0?(logError('The selector "'+r+'" on '+t+" returned no matches!"),[DUMMY_ELT]):n}}function findThisElement(e,t){return getClosestMatch(e,function(r){return getAttributeValue(r,t)!=null})}function getTarget(e){var t=getClosestAttributeValue(e,"hx-target");if(t)return t==="this"?findThisElement(e,"hx-target"):querySelectorExt(e,t);var r=getInternalData(e);return r.boosted?getDocument().body:e}function shouldSettleAttribute(e){for(var t=htmx.config.attributesToSettle,r=0;r<t.length;r++)if(e===t[r])return!0;return!1}function cloneAttributes(e,t){forEach(e.attributes,function(r){!t.hasAttribute(r.name)&&shouldSettleAttribute(r.name)&&e.removeAttribute(r.name)}),forEach(t.attributes,function(r){shouldSettleAttribute(r.name)&&e.setAttribute(r.name,r.value)})}function isInlineSwap(e,t){for(var r=getExtensions(t),n=0;n<r.length;n++){var o=r[n];try{if(o.isInlineSwap(e))return!0}catch(a){logError(a)}}return e==="outerHTML"}function oobSwap(e,t,r){var n="#"+t.id,o="outerHTML";e==="true"||(e.indexOf(":")>0?(o=e.substr(0,e.indexOf(":")),n=e.substr(e.indexOf(":")+1,e.length)):o=e);var a=getDocument().querySelectorAll(n);return a?(forEach(a,function(u){var s,l=t.cloneNode(!0);s=getDocument().createDocumentFragment(),s.appendChild(l),isInlineSwap(o,u)||(s=l);var c={shouldSwap:!0,target:u,fragment:s};!triggerEvent(u,"htmx:oobBeforeSwap",c)||(u=c.target,c.shouldSwap&&swap(o,u,u,s,r),forEach(r.elts,function(f){triggerEvent(f,"htmx:oobAfterSwap",c)}))}),t.parentNode.removeChild(t)):(t.parentNode.removeChild(t),triggerErrorEvent(getDocument().body,"htmx:oobErrorNoTarget",{content:t})),e}function handleOutOfBandSwaps(e,t,r){var n=getClosestAttributeValue(e,"hx-select-oob");if(n){var o=n.split(",");for(let c=0;c<o.length;c++){var a=o[c].split(":",2),u=a[0];u.indexOf("#")===0&&(u=u.substring(1));var s=a[1]||"true",l=t.querySelector("#"+u);l&&oobSwap(s,l,r)}}forEach(findAll(t,"[hx-swap-oob], [data-hx-swap-oob]"),function(c){var f=getAttributeValue(c,"hx-swap-oob");f!=null&&oobSwap(f,c,r)})}function handlePreservedElements(e){forEach(findAll(e,"[hx-preserve], [data-hx-preserve]"),function(t){var r=getAttributeValue(t,"id"),n=getDocument().getElementById(r);n!=null&&t.parentNode.replaceChild(n,t)})}function handleAttributes(e,t,r){forEach(t.querySelectorAll("[id]"),function(n){if(n.id&&n.id.length>0){var o=e.querySelector(n.tagName+"[id='"+n.id+"']");if(o&&o!==e){var a=n.cloneNode();cloneAttributes(n,o),r.tasks.push(function(){cloneAttributes(n,a)})}}})}function makeAjaxLoadTask(e){return function(){removeClassFromElement(e,htmx.config.addedClass),processNode(e),processScripts(e),processFocus(e),triggerEvent(e,"htmx:load")}}function processFocus(e){var t="[autofocus]",r=matches(e,t)?e:e.querySelector(t);r!=null&&r.focus()}function insertNodesBefore(e,t,r,n){for(handleAttributes(e,r,n);r.childNodes.length>0;){var o=r.firstChild;addClassToElement(o,htmx.config.addedClass),e.insertBefore(o,t),o.nodeType!==Node.TEXT_NODE&&o.nodeType!==Node.COMMENT_NODE&&n.tasks.push(makeAjaxLoadTask(o))}}function stringHash(e,t){for(var r=0;r<e.length;)t=(t<<5)-t+e.charCodeAt(r++)|0;return t}function attributeHash(e){for(var t=0,r=0;r<e.attributes.length;r++){var n=e.attributes[r];n.value&&(t=stringHash(n.name,t),t=stringHash(n.value,t))}return t}function deInitNode(e){var t=getInternalData(e);t.webSocket&&t.webSocket.close(),t.sseEventSource&&t.sseEventSource.close(),t.listenerInfos&&forEach(t.listenerInfos,function(r){r.on&&r.on.removeEventListener(r.trigger,r.listener)})}function cleanUpElement(e){triggerEvent(e,"htmx:beforeCleanupElement"),deInitNode(e),e.children&&forEach(e.children,function(t){cleanUpElement(t)})}function swapOuterHTML(e,t,r){if(e.tagName==="BODY")return swapInnerHTML(e,t,r);var n,o=e.previousSibling;for(insertNodesBefore(parentElt(e),e,t,r),o==null?n=parentElt(e).firstChild:n=o.nextSibling,getInternalData(e).replacedWith=n,r.elts=[];n&&n!==e;)n.nodeType===Node.ELEMENT_NODE&&r.elts.push(n),n=n.nextElementSibling;cleanUpElement(e),parentElt(e).removeChild(e)}function swapAfterBegin(e,t,r){return insertNodesBefore(e,e.firstChild,t,r)}function swapBeforeBegin(e,t,r){return insertNodesBefore(parentElt(e),e,t,r)}function swapBeforeEnd(e,t,r){return insertNodesBefore(e,null,t,r)}function swapAfterEnd(e,t,r){return insertNodesBefore(parentElt(e),e.nextSibling,t,r)}function swapDelete(e,t,r){return cleanUpElement(e),parentElt(e).removeChild(e)}function swapInnerHTML(e,t,r){var n=e.firstChild;if(insertNodesBefore(e,n,t,r),n){for(;n.nextSibling;)cleanUpElement(n.nextSibling),e.removeChild(n.nextSibling);cleanUpElement(n),e.removeChild(n)}}function maybeSelectFromResponse(e,t){var r=getClosestAttributeValue(e,"hx-select");if(r){var n=getDocument().createDocumentFragment();forEach(t.querySelectorAll(r),function(o){n.appendChild(o)}),t=n}return t}function swap(e,t,r,n,o){switch(e){case"none":return;case"outerHTML":swapOuterHTML(r,n,o);return;case"afterbegin":swapAfterBegin(r,n,o);return;case"beforebegin":swapBeforeBegin(r,n,o);return;case"beforeend":swapBeforeEnd(r,n,o);return;case"afterend":swapAfterEnd(r,n,o);return;case"delete":swapDelete(r);return;default:for(var a=getExtensions(t),u=0;u<a.length;u++){var s=a[u];try{var l=s.handleSwap(e,r,n,o);if(l){if(typeof l.length!="undefined")for(var c=0;c<l.length;c++){var f=l[c];f.nodeType!==Node.TEXT_NODE&&f.nodeType!==Node.COMMENT_NODE&&o.tasks.push(makeAjaxLoadTask(f))}return}}catch(v){logError(v)}}e==="innerHTML"?swapInnerHTML(r,n,o):swap(htmx.config.defaultSwapStyle,t,r,n,o)}}function findTitle(e){if(e.indexOf("<title")>-1){var t=e.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,""),r=t.match(/<title(\s[^>]*>|>)([\s\S]*?)<\/title>/im);if(r)return r[2]}}function selectAndSwap(e,t,r,n,o){o.title=findTitle(n);var a=makeFragment(n);if(a)return handleOutOfBandSwaps(r,a,o),a=maybeSelectFromResponse(r,a),handlePreservedElements(a),swap(e,r,t,a,o)}function handleTrigger(e,t,r){var n=e.getResponseHeader(t);if(n.indexOf("{")===0){var o=parseJSON(n);for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];isRawObject(u)||(u={value:u}),triggerEvent(r,a,u)}}else triggerEvent(r,n,[])}var WHITESPACE_OR_COMMA=/[\s,]/,SYMBOL_START=/[_$a-zA-Z]/,SYMBOL_CONT=/[_$a-zA-Z0-9]/,STRINGISH_START=['"',"'","/"],NOT_WHITESPACE=/[^\s]/;function tokenizeString(e){for(var t=[],r=0;r<e.length;){if(SYMBOL_START.exec(e.charAt(r))){for(var n=r;SYMBOL_CONT.exec(e.charAt(r+1));)r++;t.push(e.substr(n,r-n+1))}else if(STRINGISH_START.indexOf(e.charAt(r))!==-1){var o=e.charAt(r),n=r;for(r++;r<e.length&&e.charAt(r)!==o;)e.charAt(r)==="\\"&&r++,r++;t.push(e.substr(n,r-n+1))}else{var a=e.charAt(r);t.push(a)}r++}return t}function isPossibleRelativeReference(e,t,r){return SYMBOL_START.exec(e.charAt(0))&&e!=="true"&&e!=="false"&&e!=="this"&&e!==r&&t!=="."}function maybeGenerateConditional(e,t,r){if(t[0]==="["){t.shift();for(var n=1,o=" return (function("+r+"){ return (",a=null;t.length>0;){var u=t[0];if(u==="]"){if(n--,n===0){a===null&&(o=o+"true"),t.shift(),o+=")})";try{var s=maybeEval(e,function(){return Function(o)()},function(){return!0});return s.source=o,s}catch(l){return triggerErrorEvent(getDocument().body,"htmx:syntax:error",{error:l,source:o}),null}}}else u==="["&&n++;isPossibleRelativeReference(u,a,r)?o+="(("+r+"."+u+") ? ("+r+"."+u+") : (window."+u+"))":o=o+u,a=t.shift()}}}function consumeUntil(e,t){for(var r="";e.length>0&&!e[0].match(t);)r+=e.shift();return r}var INPUT_SELECTOR="input, textarea, select";function getTriggerSpecs(e){var t=getAttributeValue(e,"hx-trigger"),r=[];if(t){var n=tokenizeString(t);do{consumeUntil(n,NOT_WHITESPACE);var o=n.length,a=consumeUntil(n,/[,\[\s]/);if(a!=="")if(a==="every"){var u={trigger:"every"};consumeUntil(n,NOT_WHITESPACE),u.pollInterval=parseInterval(consumeUntil(n,/[,\[\s]/)),consumeUntil(n,NOT_WHITESPACE);var s=maybeGenerateConditional(e,n,"event");s&&(u.eventFilter=s),r.push(u)}else if(a.indexOf("sse:")===0)r.push({trigger:"sse",sseEvent:a.substr(4)});else{var l={trigger:a},s=maybeGenerateConditional(e,n,"event");for(s&&(l.eventFilter=s);n.length>0&&n[0]!==",";){consumeUntil(n,NOT_WHITESPACE);var c=n.shift();if(c==="changed")l.changed=!0;else if(c==="once")l.once=!0;else if(c==="consume")l.consume=!0;else if(c==="delay"&&n[0]===":")n.shift(),l.delay=parseInterval(consumeUntil(n,WHITESPACE_OR_COMMA));else if(c==="from"&&n[0]===":"){n.shift();var f=consumeUntil(n,WHITESPACE_OR_COMMA);(f==="closest"||f==="find"||f==="next"||f==="previous")&&(n.shift(),f+=" "+consumeUntil(n,WHITESPACE_OR_COMMA)),l.from=f}else c==="target"&&n[0]===":"?(n.shift(),l.target=consumeUntil(n,WHITESPACE_OR_COMMA)):c==="throttle"&&n[0]===":"?(n.shift(),l.throttle=parseInterval(consumeUntil(n,WHITESPACE_OR_COMMA))):c==="queue"&&n[0]===":"?(n.shift(),l.queue=consumeUntil(n,WHITESPACE_OR_COMMA)):(c==="root"||c==="threshold")&&n[0]===":"?(n.shift(),l[c]=consumeUntil(n,WHITESPACE_OR_COMMA)):triggerErrorEvent(e,"htmx:syntax:error",{token:n.shift()})}r.push(l)}n.length===o&&triggerErrorEvent(e,"htmx:syntax:error",{token:n.shift()}),consumeUntil(n,NOT_WHITESPACE)}while(n[0]===","&&n.shift())}return r.length>0?r:matches(e,"form")?[{trigger:"submit"}]:matches(e,'input[type="button"]')?[{trigger:"click"}]:matches(e,INPUT_SELECTOR)?[{trigger:"change"}]:[{trigger:"click"}]}function cancelPolling(e){getInternalData(e).cancelled=!0}function processPolling(e,t,r){var n=getInternalData(e);n.timeout=setTimeout(function(){bodyContains(e)&&n.cancelled!==!0&&(maybeFilterEvent(r,makeEvent("hx:poll:trigger",{triggerSpec:r,target:e}))||t(e),processPolling(e,t,r))},r.pollInterval)}function isLocalLink(e){return location.hostname===e.hostname&&getRawAttribute(e,"href")&&getRawAttribute(e,"href").indexOf("#")!==0}function boostElement(e,t,r){if(e.tagName==="A"&&isLocalLink(e)&&(e.target===""||e.target==="_self")||e.tagName==="FORM"){t.boosted=!0;var n,o;if(e.tagName==="A")n="get",o=getRawAttribute(e,"href");else{var a=getRawAttribute(e,"method");n=a?a.toLowerCase():"get",o=getRawAttribute(e,"action")}r.forEach(function(u){addEventListener(e,function(s){issueAjaxRequest(n,o,e,s)},t,u,!0)})}}function shouldCancel(e,t){return!!((e.type==="submit"||e.type==="click")&&(t.tagName==="FORM"||matches(t,'input[type="submit"], button')&&closest(t,"form")!==null||t.tagName==="A"&&t.href&&(t.getAttribute("href")==="#"||t.getAttribute("href").indexOf("#")!==0)))}function ignoreBoostedAnchorCtrlClick(e,t){return getInternalData(e).boosted&&e.tagName==="A"&&t.type==="click"&&(t.ctrlKey||t.metaKey)}function maybeFilterEvent(e,t){var r=e.eventFilter;if(r)try{return r(t)!==!0}catch(n){return triggerErrorEvent(getDocument().body,"htmx:eventFilter:error",{error:n,source:r.source}),!0}return!1}function addEventListener(e,t,r,n,o){var a;n.from?a=querySelectorAllExt(e,n.from):a=[e],forEach(a,function(u){var s=function(l){if(!bodyContains(e)){u.removeEventListener(n.trigger,s);return}if(!ignoreBoostedAnchorCtrlClick(e,l)&&((o||shouldCancel(l,e))&&l.preventDefault(),!maybeFilterEvent(n,l))){var c=getInternalData(l);c.triggerSpec=n,c.handledFor==null&&(c.handledFor=[]);var f=getInternalData(e);if(c.handledFor.indexOf(e)<0){if(c.handledFor.push(e),n.consume&&l.stopPropagation(),n.target&&l.target&&!matches(l.target,n.target))return;if(n.once){if(f.triggeredOnce)return;f.triggeredOnce=!0}if(n.changed){if(f.lastValue===e.value)return;f.lastValue=e.value}if(f.delayed&&clearTimeout(f.delayed),f.throttle)return;n.throttle?f.throttle||(t(e,l),f.throttle=setTimeout(function(){f.throttle=null},n.throttle)):n.delay?f.delayed=setTimeout(function(){t(e,l)},n.delay):t(e,l)}}};r.listenerInfos==null&&(r.listenerInfos=[]),r.listenerInfos.push({trigger:n.trigger,listener:s,on:u}),u.addEventListener(n.trigger,s)})}var windowIsScrolling=!1,scrollHandler=null;function initScrollHandler(){scrollHandler||(scrollHandler=function(){windowIsScrolling=!0},window.addEventListener("scroll",scrollHandler),setInterval(function(){windowIsScrolling&&(windowIsScrolling=!1,forEach(getDocument().querySelectorAll("[hx-trigger='revealed'],[data-hx-trigger='revealed']"),function(e){maybeReveal(e)}))},200))}function maybeReveal(e){if(!hasAttribute(e,"data-hx-revealed")&&isScrolledIntoView(e)){e.setAttribute("data-hx-revealed","true");var t=getInternalData(e);t.initHash?triggerEvent(e,"revealed"):e.addEventListener("htmx:afterProcessNode",function(r){triggerEvent(e,"revealed")},{once:!0})}}function processWebSocketInfo(e,t,r){for(var n=splitOnWhitespace(r),o=0;o<n.length;o++){var a=n[o].split(/:(.+)/);a[0]==="connect"&&ensureWebSocket(e,a[1],0),a[0]==="send"&&processWebSocketSend(e)}}function ensureWebSocket(e,t,r){if(!!bodyContains(e)){if(t.indexOf("/")==0){var n=location.hostname+(location.port?":"+location.port:"");location.protocol=="https:"?t="wss://"+n+t:location.protocol=="http:"&&(t="ws://"+n+t)}var o=htmx.createWebSocket(t);o.onerror=function(a){triggerErrorEvent(e,"htmx:wsError",{error:a,socket:o}),maybeCloseWebSocketSource(e)},o.onclose=function(a){if([1006,1012,1013].indexOf(a.code)>=0){var u=getWebSocketReconnectDelay(r);setTimeout(function(){ensureWebSocket(e,t,r+1)},u)}},o.onopen=function(a){r=0},getInternalData(e).webSocket=o,o.addEventListener("message",function(a){if(!maybeCloseWebSocketSource(e)){var u=a.data;withExtensions(e,function(b){u=b.transformResponse(u,null,e)});for(var s=makeSettleInfo(e),l=makeFragment(u),c=toArray(l.children),f=0;f<c.length;f++){var v=c[f];oobSwap(getAttributeValue(v,"hx-swap-oob")||"true",v,s)}settleImmediately(s.tasks)}})}}function maybeCloseWebSocketSource(e){if(!bodyContains(e))return getInternalData(e).webSocket.close(),!0}function processWebSocketSend(e){var t=getClosestMatch(e,function(r){return getInternalData(r).webSocket!=null});t?e.addEventListener(getTriggerSpecs(e)[0].trigger,function(r){var n=getInternalData(t).webSocket,o=getHeaders(e,t),a=getInputValues(e,"post"),u=a.errors,s=a.values,l=getExpressionVars(e),c=mergeObjects(s,l),f=filterValues(c,e);if(f.HEADERS=o,u&&u.length>0){triggerEvent(e,"htmx:validation:halted",u);return}n.send(JSON.stringify(f)),shouldCancel(r,e)&&r.preventDefault()}):triggerErrorEvent(e,"htmx:noWebSocketSourceError")}function getWebSocketReconnectDelay(e){var t=htmx.config.wsReconnectDelay;if(typeof t=="function")return t(e);if(t==="full-jitter"){var r=Math.min(e,6),n=1e3*Math.pow(2,r);return n*Math.random()}logError('htmx.config.wsReconnectDelay must either be a function or the string "full-jitter"')}function processSSEInfo(e,t,r){for(var n=splitOnWhitespace(r),o=0;o<n.length;o++){var a=n[o].split(/:(.+)/);a[0]==="connect"&&processSSESource(e,a[1]),a[0]==="swap"&&processSSESwap(e,a[1])}}function processSSESource(e,t){var r=htmx.createEventSource(t);r.onerror=function(n){triggerErrorEvent(e,"htmx:sseError",{error:n,source:r}),maybeCloseSSESource(e)},getInternalData(e).sseEventSource=r}function processSSESwap(e,t){var r=getClosestMatch(e,hasEventSource);if(r){var n=getInternalData(r).sseEventSource,o=function(a){if(maybeCloseSSESource(r)){n.removeEventListener(t,o);return}var u=a.data;withExtensions(e,function(f){u=f.transformResponse(u,null,e)});var s=getSwapSpecification(e),l=getTarget(e),c=makeSettleInfo(e);selectAndSwap(s.swapStyle,e,l,u,c),settleImmediately(c.tasks),triggerEvent(e,"htmx:sseMessage",a)};getInternalData(e).sseListener=o,n.addEventListener(t,o)}else triggerErrorEvent(e,"htmx:noSSESourceError")}function processSSETrigger(e,t,r){var n=getClosestMatch(e,hasEventSource);if(n){var o=getInternalData(n).sseEventSource,a=function(){maybeCloseSSESource(n)||(bodyContains(e)?t(e):o.removeEventListener(r,a))};getInternalData(e).sseListener=a,o.addEventListener(r,a)}else triggerErrorEvent(e,"htmx:noSSESourceError")}function maybeCloseSSESource(e){if(!bodyContains(e))return getInternalData(e).sseEventSource.close(),!0}function hasEventSource(e){return getInternalData(e).sseEventSource!=null}function loadImmediately(e,t,r,n){var o=function(){r.loaded||(r.loaded=!0,t(e))};n?setTimeout(o,n):o()}function processVerbs(e,t,r){var n=!1;return forEach(VERBS,function(o){if(hasAttribute(e,"hx-"+o)){var a=getAttributeValue(e,"hx-"+o);n=!0,t.path=a,t.verb=o,r.forEach(function(u){addTriggerHandler(e,u,t,function(s,l){issueAjaxRequest(o,a,s,l)})})}}),n}function addTriggerHandler(e,t,r,n){if(t.sseEvent)processSSETrigger(e,n,t.sseEvent);else if(t.trigger==="revealed")initScrollHandler(),addEventListener(e,n,r,t),maybeReveal(e);else if(t.trigger==="intersect"){var o={};t.root&&(o.root=querySelectorExt(e,t.root)),t.threshold&&(o.threshold=parseFloat(t.threshold));var a=new IntersectionObserver(function(u){for(var s=0;s<u.length;s++){var l=u[s];if(l.isIntersecting){triggerEvent(e,"intersect");break}}},o);a.observe(e),addEventListener(e,n,r,t)}else t.trigger==="load"?maybeFilterEvent(t,makeEvent("load",{elt:e}))||loadImmediately(e,n,r,t.delay):t.pollInterval?(r.polling=!0,processPolling(e,n,t)):addEventListener(e,n,r,t)}function evalScript(e){if(e.type==="text/javascript"||e.type==="module"||e.type===""){var t=getDocument().createElement("script");forEach(e.attributes,function(n){t.setAttribute(n.name,n.value)}),t.textContent=e.textContent,t.async=!1,htmx.config.inlineScriptNonce&&(t.nonce=htmx.config.inlineScriptNonce);var r=e.parentElement;try{r.insertBefore(t,e)}catch(n){logError(n)}finally{r.removeChild(e)}}}function processScripts(e){matches(e,"script")&&evalScript(e),forEach(findAll(e,"script"),function(t){evalScript(t)})}function hasChanceOfBeingBoosted(){return document.querySelector("[hx-boost], [data-hx-boost]")}function findElementsToProcess(e){if(e.querySelectorAll){var t=hasChanceOfBeingBoosted()?", a, form":"",r=e.querySelectorAll(VERB_SELECTOR+t+", [hx-sse], [data-hx-sse], [hx-ws], [data-hx-ws], [hx-ext], [data-hx-ext]");return r}else return[]}function initButtonTracking(e){var t=function(r){if(matches(r.target,"button, input[type='submit']")){var n=getInternalData(e);n.lastButtonClicked=r.target}};e.addEventListener("click",t),e.addEventListener("focusin",t),e.addEventListener("focusout",function(r){var n=getInternalData(e);n.lastButtonClicked=null})}function initNode(e){if(!(e.closest&&e.closest(htmx.config.disableSelector))){var t=getInternalData(e);if(t.initHash!==attributeHash(e)){t.initHash=attributeHash(e),deInitNode(e),triggerEvent(e,"htmx:beforeProcessNode"),e.value&&(t.lastValue=e.value);var r=getTriggerSpecs(e),n=processVerbs(e,t,r);!n&&getClosestAttributeValue(e,"hx-boost")==="true"&&boostElement(e,t,r),e.tagName==="FORM"&&initButtonTracking(e);var o=getAttributeValue(e,"hx-sse");o&&processSSEInfo(e,t,o);var a=getAttributeValue(e,"hx-ws");a&&processWebSocketInfo(e,t,a),triggerEvent(e,"htmx:afterProcessNode")}}}function processNode(e){e=resolveTarget(e),initNode(e),forEach(findElementsToProcess(e),function(t){initNode(t)})}function kebabEventName(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function makeEvent(e,t){var r;return window.CustomEvent&&typeof window.CustomEvent=="function"?r=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t}):(r=getDocument().createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,t)),r}function triggerErrorEvent(e,t,r){triggerEvent(e,t,mergeObjects({error:t},r))}function ignoreEventForLogging(e){return e==="htmx:afterProcessNode"}function withExtensions(e,t){forEach(getExtensions(e),function(r){try{t(r)}catch(n){logError(n)}})}function logError(e){console.error?console.error(e):console.log&&console.log("ERROR: ",e)}function triggerEvent(e,t,r){e=resolveTarget(e),r==null&&(r={}),r.elt=e;var n=makeEvent(t,r);htmx.logger&&!ignoreEventForLogging(t)&&htmx.logger(e,t,r),r.error&&(logError(r.error),triggerEvent(e,"htmx:error",{errorInfo:r}));var o=e.dispatchEvent(n),a=kebabEventName(t);if(o&&a!==t){var u=makeEvent(a,n.detail);o=o&&e.dispatchEvent(u)}return withExtensions(e,function(s){o=o&&s.onEvent(t,n)!==!1}),o}var currentPathForHistory=location.pathname+location.search;function getHistoryElement(){var e=getDocument().querySelector("[hx-history-elt],[data-hx-history-elt]");return e||getDocument().body}function saveToHistoryCache(e,t,r,n){if(!!canAccessLocalStorage()){for(var o=parseJSON(localStorage.getItem("htmx-history-cache"))||[],a=0;a<o.length;a++)if(o[a].url===e){o.splice(a,1);break}var u={url:e,content:t,title:r,scroll:n};for(triggerEvent(getDocument().body,"htmx:historyItemCreated",{item:u,cache:o}),o.push(u);o.length>htmx.config.historyCacheSize;)o.shift();for(;o.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(o));break}catch(s){triggerErrorEvent(getDocument().body,"htmx:historyCacheError",{cause:s,cache:o}),o.shift()}}}function getCachedHistory(e){if(!canAccessLocalStorage())return null;for(var t=parseJSON(localStorage.getItem("htmx-history-cache"))||[],r=0;r<t.length;r++)if(t[r].url===e)return t[r];return null}function cleanInnerHtmlForHistory(e){var t=htmx.config.requestClass,r=e.cloneNode(!0);return forEach(findAll(r,"."+t),function(n){removeClassFromElement(n,t)}),r.innerHTML}function saveCurrentPageToHistory(){var e=getHistoryElement(),t=currentPathForHistory||location.pathname+location.search;triggerEvent(getDocument().body,"htmx:beforeHistorySave",{path:t,historyElt:e}),htmx.config.historyEnabled&&history.replaceState({htmx:!0},getDocument().title,window.location.href),saveToHistoryCache(t,cleanInnerHtmlForHistory(e),getDocument().title,window.scrollY)}function pushUrlIntoHistory(e){htmx.config.historyEnabled&&history.pushState({htmx:!0},"",e),currentPathForHistory=e}function replaceUrlInHistory(e){htmx.config.historyEnabled&&history.replaceState({htmx:!0},"",e),currentPathForHistory=e}function settleImmediately(e){forEach(e,function(t){t.call()})}function loadHistoryFromServer(e){var t=new XMLHttpRequest,r={path:e,xhr:t};triggerEvent(getDocument().body,"htmx:historyCacheMiss",r),t.open("GET",e,!0),t.setRequestHeader("HX-History-Restore-Request","true"),t.onload=function(){if(this.status>=200&&this.status<400){triggerEvent(getDocument().body,"htmx:historyCacheMissLoad",r);var n=makeFragment(this.response);n=n.querySelector("[hx-history-elt],[data-hx-history-elt]")||n;var o=getHistoryElement(),a=makeSettleInfo(o),u=findTitle(this.response);if(u){var s=find("title");s?s.innerHTML=u:window.document.title=u}swapInnerHTML(o,n,a),settleImmediately(a.tasks),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,cacheMiss:!0,serverResponse:this.response})}else triggerErrorEvent(getDocument().body,"htmx:historyCacheMissLoadError",r)},t.send()}function restoreHistory(e){saveCurrentPageToHistory(),e=e||location.pathname+location.search;var t=getCachedHistory(e);if(t){var r=makeFragment(t.content),n=getHistoryElement(),o=makeSettleInfo(n);swapInnerHTML(n,r,o),settleImmediately(o.tasks),document.title=t.title,window.scrollTo(0,t.scroll),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,item:t})}else htmx.config.refreshOnHistoryMiss?window.location.reload(!0):loadHistoryFromServer(e)}function addRequestIndicatorClasses(e){var t=findAttributeTargets(e,"hx-indicator");return t==null&&(t=[e]),forEach(t,function(r){var n=getInternalData(r);n.requestCount=(n.requestCount||0)+1,r.classList.add.call(r.classList,htmx.config.requestClass)}),t}function removeRequestIndicatorClasses(e){forEach(e,function(t){var r=getInternalData(t);r.requestCount=(r.requestCount||0)-1,r.requestCount===0&&t.classList.remove.call(t.classList,htmx.config.requestClass)})}function haveSeenNode(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.isSameNode(t))return!0}return!1}function shouldInclude(e){return e.name===""||e.name==null||e.disabled||e.type==="button"||e.type==="submit"||e.tagName==="image"||e.tagName==="reset"||e.tagName==="file"?!1:e.type==="checkbox"||e.type==="radio"?e.checked:!0}function processInputValue(e,t,r,n,o){if(!(n==null||haveSeenNode(e,n))){if(e.push(n),shouldInclude(n)){var a=getRawAttribute(n,"name"),u=n.value;if(n.multiple&&(u=toArray(n.querySelectorAll("option:checked")).map(function(c){return c.value})),n.files&&(u=toArray(n.files)),a!=null&&u!=null){var s=t[a];s?Array.isArray(s)?Array.isArray(u)?t[a]=s.concat(u):s.push(u):Array.isArray(u)?t[a]=[s].concat(u):t[a]=[s,u]:t[a]=u}o&&validateElement(n,r)}if(matches(n,"form")){var l=n.elements;forEach(l,function(c){processInputValue(e,t,r,c,o)})}}}function validateElement(e,t){e.willValidate&&(triggerEvent(e,"htmx:validation:validate"),e.checkValidity()||(t.push({elt:e,message:e.validationMessage,validity:e.validity}),triggerEvent(e,"htmx:validation:failed",{message:e.validationMessage,validity:e.validity})))}function getInputValues(e,t){var r=[],n={},o={},a=[],u=getInternalData(e),s=matches(e,"form")&&e.noValidate!==!0||getAttributeValue(e,"hx-validate")==="true";if(u.lastButtonClicked&&(s=s&&u.lastButtonClicked.formNoValidate!==!0),t!=="get"&&processInputValue(r,o,a,closest(e,"form"),s),processInputValue(r,n,a,e,s),u.lastButtonClicked){var l=getRawAttribute(u.lastButtonClicked,"name");l&&(n[l]=u.lastButtonClicked.value)}var c=findAttributeTargets(e,"hx-include");return forEach(c,function(f){processInputValue(r,n,a,f,s),matches(f,"form")||forEach(f.querySelectorAll(INPUT_SELECTOR),function(v){processInputValue(r,n,a,v,s)})}),n=mergeObjects(n,o),{errors:a,values:n}}function appendParam(e,t,r){e!==""&&(e+="&"),String(r)==="[object Object]"&&(r=JSON.stringify(r));var n=encodeURIComponent(r);return e+=encodeURIComponent(t)+"="+n,e}function urlEncode(e){var t="";for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];Array.isArray(n)?forEach(n,function(o){t=appendParam(t,r,o)}):t=appendParam(t,r,n)}return t}function makeFormData(e){var t=new FormData;for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];Array.isArray(n)?forEach(n,function(o){t.append(r,o)}):t.append(r,n)}return t}function getHeaders(e,t,r){var n={"HX-Request":"true","HX-Trigger":getRawAttribute(e,"id"),"HX-Trigger-Name":getRawAttribute(e,"name"),"HX-Target":getAttributeValue(t,"id"),"HX-Current-URL":getDocument().location.href};return getValuesForElement(e,"hx-headers",!1,n),r!==void 0&&(n["HX-Prompt"]=r),getInternalData(e).boosted&&(n["HX-Boosted"]="true"),n}function filterValues(e,t){var r=getClosestAttributeValue(t,"hx-params");if(r){if(r==="none")return{};if(r==="*")return e;if(r.indexOf("not ")===0)return forEach(r.substr(4).split(","),function(o){o=o.trim(),delete e[o]}),e;var n={};return forEach(r.split(","),function(o){o=o.trim(),n[o]=e[o]}),n}else return e}function isAnchorLink(e){return getRawAttribute(e,"href")&&getRawAttribute(e,"href").indexOf("#")>=0}function getSwapSpecification(e,t){var r=t||getClosestAttributeValue(e,"hx-swap"),n={swapStyle:getInternalData(e).boosted?"innerHTML":htmx.config.defaultSwapStyle,swapDelay:htmx.config.defaultSwapDelay,settleDelay:htmx.config.defaultSettleDelay};if(getInternalData(e).boosted&&!isAnchorLink(e)&&(n.show="top"),r){var o=splitOnWhitespace(r);if(o.length>0){n.swapStyle=o[0];for(var a=1;a<o.length;a++){var u=o[a];if(u.indexOf("swap:")===0&&(n.swapDelay=parseInterval(u.substr(5))),u.indexOf("settle:")===0&&(n.settleDelay=parseInterval(u.substr(7))),u.indexOf("scroll:")===0){var s=u.substr(7),l=s.split(":"),c=l.pop(),f=l.length>0?l.join(":"):null;n.scroll=c,n.scrollTarget=f}if(u.indexOf("show:")===0){var v=u.substr(5),l=v.split(":"),b=l.pop(),f=l.length>0?l.join(":"):null;n.show=b,n.showTarget=f}if(u.indexOf("focus-scroll:")===0){var $=u.substr(13);n.focusScroll=$=="true"}}}}return n}function usesFormData(e){return getClosestAttributeValue(e,"hx-encoding")==="multipart/form-data"||matches(e,"form")&&getRawAttribute(e,"enctype")==="multipart/form-data"}function encodeParamsForBody(e,t,r){var n=null;return withExtensions(t,function(o){n==null&&(n=o.encodeParameters(e,r,t))}),n!=null?n:usesFormData(t)?makeFormData(r):urlEncode(r)}function makeSettleInfo(e){return{tasks:[],elts:[e]}}function updateScrollState(e,t){var r=e[0],n=e[e.length-1];if(t.scroll){var o=null;t.scrollTarget&&(o=querySelectorExt(r,t.scrollTarget)),t.scroll==="top"&&(r||o)&&(o=o||r,o.scrollTop=0),t.scroll==="bottom"&&(n||o)&&(o=o||n,o.scrollTop=o.scrollHeight)}if(t.show){var o=null;if(t.showTarget){var a=t.showTarget;t.showTarget==="window"&&(a="body"),o=querySelectorExt(r,a)}t.show==="top"&&(r||o)&&(o=o||r,o.scrollIntoView({block:"start",behavior:htmx.config.scrollBehavior})),t.show==="bottom"&&(n||o)&&(o=o||n,o.scrollIntoView({block:"end",behavior:htmx.config.scrollBehavior}))}}function getValuesForElement(e,t,r,n){if(n==null&&(n={}),e==null)return n;var o=getAttributeValue(e,t);if(o){var a=o.trim(),u=r;if(a==="unset")return null;a.indexOf("javascript:")===0?(a=a.substr(11),u=!0):a.indexOf("js:")===0&&(a=a.substr(3),u=!0),a.indexOf("{")!==0&&(a="{"+a+"}");var s;u?s=maybeEval(e,function(){return Function("return ("+a+")")()},{}):s=parseJSON(a);for(var l in s)s.hasOwnProperty(l)&&n[l]==null&&(n[l]=s[l])}return getValuesForElement(parentElt(e),t,r,n)}function maybeEval(e,t,r){return htmx.config.allowEval?t():(triggerErrorEvent(e,"htmx:evalDisallowedError"),r)}function getHXVarsForElement(e,t){return getValuesForElement(e,"hx-vars",!0,t)}function getHXValsForElement(e,t){return getValuesForElement(e,"hx-vals",!1,t)}function getExpressionVars(e){return mergeObjects(getHXVarsForElement(e),getHXValsForElement(e))}function safelySetHeaderValue(e,t,r){if(r!==null)try{e.setRequestHeader(t,r)}catch{e.setRequestHeader(t,encodeURIComponent(r)),e.setRequestHeader(t+"-URI-AutoEncoded","true")}}function getPathFromResponse(e){if(e.responseURL&&typeof URL!="undefined")try{var t=new URL(e.responseURL);return t.pathname+t.search}catch{triggerErrorEvent(getDocument().body,"htmx:badResponseUrl",{url:e.responseURL})}}function hasHeader(e,t){return e.getAllResponseHeaders().match(t)}function ajaxHelper(e,t,r){return e=e.toLowerCase(),r?r instanceof Element||isType(r,"String")?issueAjaxRequest(e,t,null,null,{targetOverride:resolveTarget(r),returnPromise:!0}):issueAjaxRequest(e,t,resolveTarget(r.source),r.event,{handler:r.handler,headers:r.headers,values:r.values,targetOverride:resolveTarget(r.target),swapOverride:r.swap,returnPromise:!0}):issueAjaxRequest(e,t,null,null,{returnPromise:!0})}function hierarchyForElt(e){for(var t=[];e;)t.push(e),e=e.parentElement;return t}function issueAjaxRequest(e,t,r,n,o,a){var u=null,s=null;if(o=o!=null?o:{},o.returnPromise&&typeof Promise!="undefined")var l=new Promise(function(ge,Ee){u=ge,s=Ee});r==null&&(r=getDocument().body);var c=o.handler||handleAjaxResponse;if(!!bodyContains(r)){var f=o.targetOverride||getTarget(r);if(f==null||f==DUMMY_ELT){triggerErrorEvent(r,"htmx:targetError",{target:getAttributeValue(r,"hx-target")});return}if(!a){var v=function(){return issueAjaxRequest(e,t,r,n,o,!0)},b={target:f,elt:r,path:t,verb:e,triggeringEvent:n,etc:o,issueRequest:v};if(triggerEvent(r,"htmx:confirm",b)===!1)return}var $=r,E=getInternalData(r),w=getClosestAttributeValue(r,"hx-sync"),A=null,I=!1;if(w){var R=w.split(":"),x=R[0].trim();if(x==="this"?$=findThisElement(r,"hx-sync"):$=querySelectorExt(r,x),w=(R[1]||"drop").trim(),E=getInternalData($),w==="drop"&&E.xhr&&E.abortable!==!0)return;if(w==="abort"){if(E.xhr)return;I=!0}else if(w==="replace")triggerEvent($,"htmx:abort");else if(w.indexOf("queue")===0){var N=w.split(" ");A=(N[1]||"last").trim()}}if(E.xhr)if(E.abortable)triggerEvent($,"htmx:abort");else{if(A==null){if(n){var D=getInternalData(n);D&&D.triggerSpec&&D.triggerSpec.queue&&(A=D.triggerSpec.queue)}A==null&&(A="last")}E.queuedRequests==null&&(E.queuedRequests=[]),A==="first"&&E.queuedRequests.length===0?E.queuedRequests.push(function(){issueAjaxRequest(e,t,r,n,o)}):A==="all"?E.queuedRequests.push(function(){issueAjaxRequest(e,t,r,n,o)}):A==="last"&&(E.queuedRequests=[],E.queuedRequests.push(function(){issueAjaxRequest(e,t,r,n,o)}));return}var V=new XMLHttpRequest;E.xhr=V,E.abortable=I;var Y=function(){if(E.xhr=null,E.abortable=!1,E.queuedRequests!=null&&E.queuedRequests.length>0){var ge=E.queuedRequests.shift();ge()}},Q=getClosestAttributeValue(r,"hx-prompt");if(Q){var te=prompt(Q);if(te===null||!triggerEvent(r,"htmx:prompt",{prompt:te,target:f}))return maybeCall(u),Y(),l}var de=getClosestAttributeValue(r,"hx-confirm");if(de&&!confirm(de))return maybeCall(u),Y(),l;var ne=getHeaders(r,f,te);o.headers&&(ne=mergeObjects(ne,o.headers));var ae=getInputValues(r,e),le=ae.errors,H=ae.values;o.values&&(H=mergeObjects(H,o.values));var W=getExpressionVars(r),U=mergeObjects(H,W),B=filterValues(U,r);e!=="get"&&!usesFormData(r)&&(ne["Content-Type"]="application/x-www-form-urlencoded"),(t==null||t==="")&&(t=getDocument().location.href);var Z=getValuesForElement(r,"hx-request"),K=getInternalData(r).boosted,J={boosted:K,parameters:B,unfilteredParameters:U,headers:ne,target:f,verb:e,errors:le,withCredentials:o.credentials||Z.credentials||htmx.config.withCredentials,timeout:o.timeout||Z.timeout||htmx.config.timeout,path:t,triggeringEvent:n};if(!triggerEvent(r,"htmx:configRequest",J))return maybeCall(u),Y(),l;if(t=J.path,e=J.verb,ne=J.headers,B=J.parameters,le=J.errors,le&&le.length>0)return triggerEvent(r,"htmx:validation:halted",J),maybeCall(u),Y(),l;var ie=t.split("#"),oe=ie[0],_e=ie[1],M=null;if(e==="get"){M=oe;var G=Object.keys(B).length!==0;G&&(M.indexOf("?")<0?M+="?":M+="&",M+=urlEncode(B),_e&&(M+="#"+_e)),V.open("GET",M,!0)}else V.open(e.toUpperCase(),t,!0);if(V.overrideMimeType("text/html"),V.withCredentials=J.withCredentials,V.timeout=J.timeout,!Z.noHeaders){for(var z in ne)if(ne.hasOwnProperty(z)){var ee=ne[z];safelySetHeaderValue(V,z,ee)}}var re={xhr:V,target:f,requestConfig:J,etc:o,boosted:K,pathInfo:{requestPath:t,finalRequestPath:M||t,anchor:_e}};if(V.onload=function(){try{var ge=hierarchyForElt(r);if(re.pathInfo.responsePath=getPathFromResponse(V),c(r,re),removeRequestIndicatorClasses(me),triggerEvent(r,"htmx:afterRequest",re),triggerEvent(r,"htmx:afterOnLoad",re),!bodyContains(r)){for(var Ee=null;ge.length>0&&Ee==null;){var Pe=ge.shift();bodyContains(Pe)&&(Ee=Pe)}Ee&&(triggerEvent(Ee,"htmx:afterRequest",re),triggerEvent(Ee,"htmx:afterOnLoad",re))}maybeCall(u),Y()}catch(Oe){throw triggerErrorEvent(r,"htmx:onLoadError",mergeObjects({error:Oe},re)),Oe}},V.onerror=function(){removeRequestIndicatorClasses(me),triggerErrorEvent(r,"htmx:afterRequest",re),triggerErrorEvent(r,"htmx:sendError",re),maybeCall(s),Y()},V.onabort=function(){removeRequestIndicatorClasses(me),triggerErrorEvent(r,"htmx:afterRequest",re),triggerErrorEvent(r,"htmx:sendAbort",re),maybeCall(s),Y()},V.ontimeout=function(){removeRequestIndicatorClasses(me),triggerErrorEvent(r,"htmx:afterRequest",re),triggerErrorEvent(r,"htmx:timeout",re),maybeCall(s),Y()},!triggerEvent(r,"htmx:beforeRequest",re))return maybeCall(u),Y(),l;var me=addRequestIndicatorClasses(r);return forEach(["loadstart","loadend","progress","abort"],function(ge){forEach([V,V.upload],function(Ee){Ee.addEventListener(ge,function(Pe){triggerEvent(r,"htmx:xhr:"+ge,{lengthComputable:Pe.lengthComputable,loaded:Pe.loaded,total:Pe.total})})})}),triggerEvent(r,"htmx:beforeSend",re),V.send(e==="get"?null:encodeParamsForBody(V,r,B)),l}}function determineHistoryUpdates(e,t){var r=t.xhr,n=null,o=null;if(hasHeader(r,/HX-Push:/i)?(n=r.getResponseHeader("HX-Push"),o="push"):hasHeader(r,/HX-Push-Url:/i)?(n=r.getResponseHeader("HX-Push-Url"),o="push"):hasHeader(r,/HX-Replace-Url:/i)&&(n=r.getResponseHeader("HX-Replace-Url"),o="replace"),n)return n==="false"?{}:{type:o,path:n};var a=t.pathInfo.finalRequestPath,u=t.pathInfo.responsePath,s=getClosestAttributeValue(e,"hx-push-url"),l=getClosestAttributeValue(e,"hx-replace-url"),c=getInternalData(e).boosted,f=null,v=null;return s?(f="push",v=s):l?(f="replace",v=l):c&&(f="push",v=u||a),v?v==="false"?{}:(v==="true"&&(v=u||a),t.pathInfo.anchor&&v.indexOf("#")===-1&&(v=v+"#"+t.pathInfo.anchor),{type:f,path:v}):{}}function handleAjaxResponse(e,t){var r=t.xhr,n=t.target,o=t.etc;if(!!triggerEvent(e,"htmx:beforeOnLoad",t)){if(hasHeader(r,/HX-Trigger:/i)&&handleTrigger(r,"HX-Trigger",e),hasHeader(r,/HX-Location:/i)){saveCurrentPageToHistory();var a=r.getResponseHeader("HX-Location"),u;a.indexOf("{")===0&&(u=parseJSON(a),a=u.path,delete u.path),ajaxHelper("GET",a,u).then(function(){pushUrlIntoHistory(a)});return}if(hasHeader(r,/HX-Redirect:/i)){location.href=r.getResponseHeader("HX-Redirect");return}if(hasHeader(r,/HX-Refresh:/i)&&r.getResponseHeader("HX-Refresh")==="true"){location.reload();return}hasHeader(r,/HX-Retarget:/i)&&(t.target=getDocument().querySelector(r.getResponseHeader("HX-Retarget")));var s=determineHistoryUpdates(e,t),l=r.status>=200&&r.status<400&&r.status!==204,c=r.response,f=r.status>=400,v=mergeObjects({shouldSwap:l,serverResponse:c,isError:f},t);if(!!triggerEvent(n,"htmx:beforeSwap",v)){if(n=v.target,c=v.serverResponse,f=v.isError,t.failed=f,t.successful=!f,v.shouldSwap){r.status===286&&cancelPolling(e),withExtensions(e,function(w){c=w.transformResponse(c,r,e)}),s.type&&saveCurrentPageToHistory();var b=o.swapOverride;hasHeader(r,/HX-Reswap:/i)&&(b=r.getResponseHeader("HX-Reswap"));var u=getSwapSpecification(e,b);n.classList.add(htmx.config.swappingClass);var $=function(){try{var w=document.activeElement,A={};try{A={elt:w,start:w?w.selectionStart:null,end:w?w.selectionEnd:null}}catch{}var I=makeSettleInfo(n);if(selectAndSwap(u.swapStyle,n,e,c,I),A.elt&&!bodyContains(A.elt)&&A.elt.id){var R=document.getElementById(A.elt.id),x={preventScroll:u.focusScroll!==void 0?!u.focusScroll:!htmx.config.defaultFocusScroll};R&&(A.start&&R.setSelectionRange&&R.setSelectionRange(A.start,A.end),R.focus(x))}if(n.classList.remove(htmx.config.swappingClass),forEach(I.elts,function(V){V.classList&&V.classList.add(htmx.config.settlingClass),triggerEvent(V,"htmx:afterSwap",t)}),hasHeader(r,/HX-Trigger-After-Swap:/i)){var N=e;bodyContains(e)||(N=getDocument().body),handleTrigger(r,"HX-Trigger-After-Swap",N)}var D=function(){if(forEach(I.tasks,function(te){te.call()}),forEach(I.elts,function(te){te.classList&&te.classList.remove(htmx.config.settlingClass),triggerEvent(te,"htmx:afterSettle",t)}),s.type&&(s.type==="push"?(pushUrlIntoHistory(s.path),triggerEvent(getDocument().body,"htmx:pushedIntoHistory",{path:s.path})):(replaceUrlInHistory(s.path),triggerEvent(getDocument().body,"htmx:replacedInHistory",{path:s.path}))),t.pathInfo.anchor){var V=find("#"+t.pathInfo.anchor);V&&V.scrollIntoView({block:"start",behavior:"auto"})}if(I.title){var Y=find("title");Y?Y.innerHTML=I.title:window.document.title=I.title}if(updateScrollState(I.elts,u),hasHeader(r,/HX-Trigger-After-Settle:/i)){var Q=e;bodyContains(e)||(Q=getDocument().body),handleTrigger(r,"HX-Trigger-After-Settle",Q)}};u.settleDelay>0?setTimeout(D,u.settleDelay):D()}catch(V){throw triggerErrorEvent(e,"htmx:swapError",t),V}};u.swapDelay>0?setTimeout($,u.swapDelay):$()}f&&triggerErrorEvent(e,"htmx:responseError",mergeObjects({error:"Response Status Error Code "+r.status+" from "+t.pathInfo.requestPath},t))}}}var extensions={};function extensionBase(){return{init:function(e){return null},onEvent:function(e,t){return!0},transformResponse:function(e,t,r){return e},isInlineSwap:function(e){return!1},handleSwap:function(e,t,r,n){return!1},encodeParameters:function(e,t,r){return null}}}function defineExtension(e,t){t.init&&t.init(internalAPI),extensions[e]=mergeObjects(extensionBase(),t)}function removeExtension(e){delete extensions[e]}function getExtensions(e,t,r){if(e==null)return t;t==null&&(t=[]),r==null&&(r=[]);var n=getAttributeValue(e,"hx-ext");return n&&forEach(n.split(","),function(o){if(o=o.replace(/ /g,""),o.slice(0,7)=="ignore:"){r.push(o.slice(7));return}if(r.indexOf(o)<0){var a=extensions[o];a&&t.indexOf(a)<0&&t.push(a)}}),getExtensions(parentElt(e),t,r)}function ready(e){getDocument().readyState!=="loading"?e():getDocument().addEventListener("DOMContentLoaded",e)}function insertIndicatorStyles(){htmx.config.includeIndicatorStyles!==!1&&getDocument().head.insertAdjacentHTML("beforeend","<style>                      ."+htmx.config.indicatorClass+"{opacity:0;transition: opacity 200ms ease-in;}                      ."+htmx.config.requestClass+" ."+htmx.config.indicatorClass+"{opacity:1}                      ."+htmx.config.requestClass+"."+htmx.config.indicatorClass+"{opacity:1}                    </style>")}function getMetaConfig(){var e=getDocument().querySelector('meta[name="htmx-config"]');return e?parseJSON(e.content):null}function mergeMetaConfig(){var e=getMetaConfig();e&&(htmx.config=mergeObjects(htmx.config,e))}return ready(function(){mergeMetaConfig(),insertIndicatorStyles();var e=getDocument().body;processNode(e);var t=getDocument().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");e.addEventListener("htmx:abort",function(r){var n=r.target,o=getInternalData(n);o&&o.xhr&&o.xhr.abort()}),window.onpopstate=function(r){r.state&&r.state.htmx&&(restoreHistory(),forEach(t,function(n){triggerEvent(n,"htmx:restored",{document:getDocument(),triggerEvent})}))},setTimeout(function(){triggerEvent(e,"htmx:load",{})},0)}),htmx}()});var lib$2={},interopRequireDefault={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(interopRequireDefault);var regeneratorRuntime$1={exports:{}},_typeof={exports:{}};(function(e){function t(r){return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(_typeof);(function(e){var t=_typeof.exports.default;function r(){e.exports=r=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var n={},o=Object.prototype,a=o.hasOwnProperty,u=Object.defineProperty||function(W,U,B){W[U]=B.value},s=typeof Symbol=="function"?Symbol:{},l=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",f=s.toStringTag||"@@toStringTag";function v(W,U,B){return Object.defineProperty(W,U,{value:B,enumerable:!0,configurable:!0,writable:!0}),W[U]}try{v({},"")}catch{v=function(B,Z,K){return B[Z]=K}}function b(W,U,B,Z){var K=U&&U.prototype instanceof w?U:w,J=Object.create(K.prototype),ie=new ae(Z||[]);return u(J,"_invoke",{value:Q(W,B,ie)}),J}function $(W,U,B){try{return{type:"normal",arg:W.call(U,B)}}catch(Z){return{type:"throw",arg:Z}}}n.wrap=b;var E={};function w(){}function A(){}function I(){}var R={};v(R,l,function(){return this});var x=Object.getPrototypeOf,N=x&&x(x(le([])));N&&N!==o&&a.call(N,l)&&(R=N);var D=I.prototype=w.prototype=Object.create(R);function V(W){["next","throw","return"].forEach(function(U){v(W,U,function(B){return this._invoke(U,B)})})}function Y(W,U){function B(K,J,ie,oe){var _e=$(W[K],W,J);if(_e.type!=="throw"){var M=_e.arg,G=M.value;return G&&t(G)=="object"&&a.call(G,"__await")?U.resolve(G.__await).then(function(z){B("next",z,ie,oe)},function(z){B("throw",z,ie,oe)}):U.resolve(G).then(function(z){M.value=z,ie(M)},function(z){return B("throw",z,ie,oe)})}oe(_e.arg)}var Z;u(this,"_invoke",{value:function(J,ie){function oe(){return new U(function(_e,M){B(J,ie,_e,M)})}return Z=Z?Z.then(oe,oe):oe()}})}function Q(W,U,B){var Z="suspendedStart";return function(K,J){if(Z==="executing")throw new Error("Generator is already running");if(Z==="completed"){if(K==="throw")throw J;return H()}for(B.method=K,B.arg=J;;){var ie=B.delegate;if(ie){var oe=te(ie,B);if(oe){if(oe===E)continue;return oe}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(Z==="suspendedStart")throw Z="completed",B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);Z="executing";var _e=$(W,U,B);if(_e.type==="normal"){if(Z=B.done?"completed":"suspendedYield",_e.arg===E)continue;return{value:_e.arg,done:B.done}}_e.type==="throw"&&(Z="completed",B.method="throw",B.arg=_e.arg)}}}function te(W,U){var B=W.iterator[U.method];if(B===void 0){if(U.delegate=null,U.method==="throw"){if(W.iterator.return&&(U.method="return",U.arg=void 0,te(W,U),U.method==="throw"))return E;U.method="throw",U.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var Z=$(B,W.iterator,U.arg);if(Z.type==="throw")return U.method="throw",U.arg=Z.arg,U.delegate=null,E;var K=Z.arg;return K?K.done?(U[W.resultName]=K.value,U.next=W.nextLoc,U.method!=="return"&&(U.method="next",U.arg=void 0),U.delegate=null,E):K:(U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,E)}function de(W){var U={tryLoc:W[0]};1 in W&&(U.catchLoc=W[1]),2 in W&&(U.finallyLoc=W[2],U.afterLoc=W[3]),this.tryEntries.push(U)}function ne(W){var U=W.completion||{};U.type="normal",delete U.arg,W.completion=U}function ae(W){this.tryEntries=[{tryLoc:"root"}],W.forEach(de,this),this.reset(!0)}function le(W){if(W){var U=W[l];if(U)return U.call(W);if(typeof W.next=="function")return W;if(!isNaN(W.length)){var B=-1,Z=function K(){for(;++B<W.length;)if(a.call(W,B))return K.value=W[B],K.done=!1,K;return K.value=void 0,K.done=!0,K};return Z.next=Z}}return{next:H}}function H(){return{value:void 0,done:!0}}return A.prototype=I,u(D,"constructor",{value:I,configurable:!0}),u(I,"constructor",{value:A,configurable:!0}),A.displayName=v(I,f,"GeneratorFunction"),n.isGeneratorFunction=function(W){var U=typeof W=="function"&&W.constructor;return!!U&&(U===A||(U.displayName||U.name)==="GeneratorFunction")},n.mark=function(W){return Object.setPrototypeOf?Object.setPrototypeOf(W,I):(W.__proto__=I,v(W,f,"GeneratorFunction")),W.prototype=Object.create(D),W},n.awrap=function(W){return{__await:W}},V(Y.prototype),v(Y.prototype,c,function(){return this}),n.AsyncIterator=Y,n.async=function(W,U,B,Z,K){K===void 0&&(K=Promise);var J=new Y(b(W,U,B,Z),K);return n.isGeneratorFunction(U)?J:J.next().then(function(ie){return ie.done?ie.value:J.next()})},V(D),v(D,f,"Generator"),v(D,l,function(){return this}),v(D,"toString",function(){return"[object Generator]"}),n.keys=function(W){var U=Object(W),B=[];for(var Z in U)B.push(Z);return B.reverse(),function K(){for(;B.length;){var J=B.pop();if(J in U)return K.value=J,K.done=!1,K}return K.done=!0,K}},n.values=le,ae.prototype={constructor:ae,reset:function(U){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(ne),!U)for(var B in this)B.charAt(0)==="t"&&a.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=void 0)},stop:function(){this.done=!0;var U=this.tryEntries[0].completion;if(U.type==="throw")throw U.arg;return this.rval},dispatchException:function(U){if(this.done)throw U;var B=this;function Z(M,G){return ie.type="throw",ie.arg=U,B.next=M,G&&(B.method="next",B.arg=void 0),!!G}for(var K=this.tryEntries.length-1;K>=0;--K){var J=this.tryEntries[K],ie=J.completion;if(J.tryLoc==="root")return Z("end");if(J.tryLoc<=this.prev){var oe=a.call(J,"catchLoc"),_e=a.call(J,"finallyLoc");if(oe&&_e){if(this.prev<J.catchLoc)return Z(J.catchLoc,!0);if(this.prev<J.finallyLoc)return Z(J.finallyLoc)}else if(oe){if(this.prev<J.catchLoc)return Z(J.catchLoc,!0)}else{if(!_e)throw new Error("try statement without catch or finally");if(this.prev<J.finallyLoc)return Z(J.finallyLoc)}}}},abrupt:function(U,B){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var K=this.tryEntries[Z];if(K.tryLoc<=this.prev&&a.call(K,"finallyLoc")&&this.prev<K.finallyLoc){var J=K;break}}J&&(U==="break"||U==="continue")&&J.tryLoc<=B&&B<=J.finallyLoc&&(J=null);var ie=J?J.completion:{};return ie.type=U,ie.arg=B,J?(this.method="next",this.next=J.finallyLoc,E):this.complete(ie)},complete:function(U,B){if(U.type==="throw")throw U.arg;return U.type==="break"||U.type==="continue"?this.next=U.arg:U.type==="return"?(this.rval=this.arg=U.arg,this.method="return",this.next="end"):U.type==="normal"&&B&&(this.next=B),E},finish:function(U){for(var B=this.tryEntries.length-1;B>=0;--B){var Z=this.tryEntries[B];if(Z.finallyLoc===U)return this.complete(Z.completion,Z.afterLoc),ne(Z),E}},catch:function(U){for(var B=this.tryEntries.length-1;B>=0;--B){var Z=this.tryEntries[B];if(Z.tryLoc===U){var K=Z.completion;if(K.type==="throw"){var J=K.arg;ne(Z)}return J}}throw new Error("illegal catch attempt")},delegateYield:function(U,B,Z){return this.delegate={iterator:le(U),resultName:B,nextLoc:Z},this.method==="next"&&(this.arg=void 0),E}},n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(regeneratorRuntime$1);var runtime=regeneratorRuntime$1.exports(),regenerator=runtime;try{regeneratorRuntime=runtime}catch(e){typeof globalThis=="object"?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}var asyncToGenerator={exports:{}};(function(e){function t(n,o,a,u,s,l,c){try{var f=n[l](c),v=f.value}catch(b){a(b);return}f.done?o(v):Promise.resolve(v).then(u,s)}function r(n){return function(){var o=this,a=arguments;return new Promise(function(u,s){var l=n.apply(o,a);function c(v){t(l,u,s,c,f,"next",v)}function f(v){t(l,u,s,c,f,"throw",v)}c(void 0)})}}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(asyncToGenerator);var driver$2={},classCallCheck={exports:{}};(function(e){function t(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(classCallCheck);var createClass={exports:{}};(function(e){function t(n,o){for(var a=0;a<o.length;a++){var u=o[a];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(n,u.key,u)}}function r(n,o,a){return o&&t(n.prototype,o),a&&t(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(createClass);var inherits={exports:{}},setPrototypeOf={exports:{}};(function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,u){return a.__proto__=u,a},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(setPrototypeOf);(function(e){var t=setPrototypeOf.exports;function r(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),o&&t(n,o)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(inherits);var possibleConstructorReturn={exports:{}},assertThisInitialized={exports:{}};(function(e){function t(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(assertThisInitialized);(function(e){var t=_typeof.exports.default,r=assertThisInitialized.exports;function n(o,a){if(a&&(t(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(o)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(possibleConstructorReturn);var getPrototypeOf$2={exports:{}};(function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(getPrototypeOf$2);var lib$1={},error$1={},__extends$H=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(error$1,"__esModule",{value:!0});error$1.PROTOCOL_ERROR=error$1.SESSION_EXPIRED=error$1.SERVICE_UNAVAILABLE=error$1.Neo4jError=error$1.isRetriableError=error$1.newError=void 0;var SERVICE_UNAVAILABLE$5="ServiceUnavailable";error$1.SERVICE_UNAVAILABLE=SERVICE_UNAVAILABLE$5;var SESSION_EXPIRED$2="SessionExpired";error$1.SESSION_EXPIRED=SESSION_EXPIRED$2;var PROTOCOL_ERROR$6="ProtocolError";error$1.PROTOCOL_ERROR=PROTOCOL_ERROR$6;var NOT_AVAILABLE="N/A",Neo4jError=function(e){__extends$H(t,e);function t(r,n,o){var a=e.call(this,r,o!=null?{cause:o}:void 0)||this;return a.constructor=t,a.__proto__=t.prototype,a.code=n,a.name="Neo4jError",a.retriable=_isRetriableCode(n),a}return t.isRetriable=function(r){return r!=null&&r instanceof t&&r.retriable},t}(Error);error$1.Neo4jError=Neo4jError;function newError(e,t,r){return new Neo4jError(e,t!=null?t:NOT_AVAILABLE,r)}error$1.newError=newError;var isRetriableError=Neo4jError.isRetriable;error$1.isRetriableError=isRetriableError;function _isRetriableCode(e){return e===SERVICE_UNAVAILABLE$5||e===SESSION_EXPIRED$2||_isAuthorizationExpired(e)||_isTransientError(e)}function _isTransientError(e){return(e==null?void 0:e.includes("TransientError"))===!0}function _isAuthorizationExpired(e){return e==="Neo.ClientError.Security.AuthorizationExpired"}var integer={};Object.defineProperty(integer,"__esModule",{value:!0});integer.toString=integer.toNumber=integer.inSafeRange=integer.isInt=integer.int=void 0;var error_1$9=error$1,INT_CACHE=new Map,Integer=function(){function e(t,r){this.low=t!=null?t:0,this.high=r!=null?r:0}return e.prototype.inSafeRange=function(){return this.greaterThanOrEqual(e.MIN_SAFE_VALUE)&&this.lessThanOrEqual(e.MAX_SAFE_VALUE)},e.prototype.toInt=function(){return this.low},e.prototype.toNumber=function(){return this.high*TWO_PWR_32_DBL+(this.low>>>0)},e.prototype.toBigInt=function(){if(this.isZero())return BigInt(0);if(this.isPositive())return BigInt(this.high>>>0)*BigInt(TWO_PWR_32_DBL)+BigInt(this.low>>>0);var t=this.negate();return BigInt(-1)*(BigInt(t.high>>>0)*BigInt(TWO_PWR_32_DBL)+BigInt(t.low>>>0))},e.prototype.toNumberOrInfinity=function(){return this.lessThan(e.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(e.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()},e.prototype.toString=function(t){if(t=t!=null?t:10,t<2||t>36)throw RangeError("radix out of range: "+t.toString());if(this.isZero())return"0";var r;if(this.isNegative())if(this.equals(e.MIN_VALUE)){var n=e.fromNumber(t),o=this.div(n);return r=o.multiply(n).subtract(this),o.toString(t)+r.toInt().toString(t)}else return"-"+this.negate().toString(t);var a=e.fromNumber(Math.pow(t,6));r=this;for(var u="";;){var s=r.div(a),l=r.subtract(s.multiply(a)).toInt()>>>0,c=l.toString(t);if(r=s,r.isZero())return c+u;for(;c.length<6;)c="0"+c;u=""+c+u}},e.prototype.getHighBits=function(){return this.high},e.prototype.getLowBits=function(){return this.low},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.MIN_VALUE)?64:this.negate().getNumBitsAbs();var t=this.high!==0?this.high:this.low,r=0;for(r=31;r>0&&(t&1<<r)===0;r--);return this.high!==0?r+33:r+1},e.prototype.isZero=function(){return this.high===0&&this.low===0},e.prototype.isNegative=function(){return this.high<0},e.prototype.isPositive=function(){return this.high>=0},e.prototype.isOdd=function(){return(this.low&1)===1},e.prototype.isEven=function(){return(this.low&1)===0},e.prototype.equals=function(t){var r=e.fromValue(t);return this.high===r.high&&this.low===r.low},e.prototype.notEquals=function(t){return!this.equals(t)},e.prototype.lessThan=function(t){return this.compare(t)<0},e.prototype.lessThanOrEqual=function(t){return this.compare(t)<=0},e.prototype.greaterThan=function(t){return this.compare(t)>0},e.prototype.greaterThanOrEqual=function(t){return this.compare(t)>=0},e.prototype.compare=function(t){var r=e.fromValue(t);if(this.equals(r))return 0;var n=this.isNegative(),o=r.isNegative();return n&&!o?-1:!n&&o?1:this.subtract(r).isNegative()?-1:1},e.prototype.negate=function(){return this.equals(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.add=function(t){var r=e.fromValue(t),n=this.high>>>16,o=this.high&65535,a=this.low>>>16,u=this.low&65535,s=r.high>>>16,l=r.high&65535,c=r.low>>>16,f=r.low&65535,v=0,b=0,$=0,E=0;return E+=u+f,$+=E>>>16,E&=65535,$+=a+c,b+=$>>>16,$&=65535,b+=o+l,v+=b>>>16,b&=65535,v+=n+s,v&=65535,e.fromBits($<<16|E,v<<16|b)},e.prototype.subtract=function(t){var r=e.fromValue(t);return this.add(r.negate())},e.prototype.multiply=function(t){if(this.isZero())return e.ZERO;var r=e.fromValue(t);if(r.isZero())return e.ZERO;if(this.equals(e.MIN_VALUE))return r.isOdd()?e.MIN_VALUE:e.ZERO;if(r.equals(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return r.isNegative()?this.negate().multiply(r.negate()):this.negate().multiply(r).negate();if(r.isNegative())return this.multiply(r.negate()).negate();if(this.lessThan(TWO_PWR_24)&&r.lessThan(TWO_PWR_24))return e.fromNumber(this.toNumber()*r.toNumber());var n=this.high>>>16,o=this.high&65535,a=this.low>>>16,u=this.low&65535,s=r.high>>>16,l=r.high&65535,c=r.low>>>16,f=r.low&65535,v=0,b=0,$=0,E=0;return E+=u*f,$+=E>>>16,E&=65535,$+=a*f,b+=$>>>16,$&=65535,$+=u*c,b+=$>>>16,$&=65535,b+=o*f,v+=b>>>16,b&=65535,b+=a*c,v+=b>>>16,b&=65535,b+=u*l,v+=b>>>16,b&=65535,v+=n*f+o*c+a*l+u*s,v&=65535,e.fromBits($<<16|E,v<<16|b)},e.prototype.div=function(t){var r=e.fromValue(t);if(r.isZero())throw(0,error_1$9.newError)("division by zero");if(this.isZero())return e.ZERO;var n,o,a;if(this.equals(e.MIN_VALUE)){if(r.equals(e.ONE)||r.equals(e.NEG_ONE))return e.MIN_VALUE;if(r.equals(e.MIN_VALUE))return e.ONE;var u=this.shiftRight(1);return n=u.div(r).shiftLeft(1),n.equals(e.ZERO)?r.isNegative()?e.ONE:e.NEG_ONE:(o=this.subtract(r.multiply(n)),a=n.add(o.div(r)),a)}else if(r.equals(e.MIN_VALUE))return e.ZERO;if(this.isNegative())return r.isNegative()?this.negate().div(r.negate()):this.negate().div(r).negate();if(r.isNegative())return this.div(r.negate()).negate();for(a=e.ZERO,o=this;o.greaterThanOrEqual(r);){n=Math.max(1,Math.floor(o.toNumber()/r.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),l=s<=48?1:Math.pow(2,s-48),c=e.fromNumber(n),f=c.multiply(r);f.isNegative()||f.greaterThan(o);)n-=l,c=e.fromNumber(n),f=c.multiply(r);c.isZero()&&(c=e.ONE),a=a.add(c),o=o.subtract(f)}return a},e.prototype.modulo=function(t){var r=e.fromValue(t);return this.subtract(this.div(r).multiply(r))},e.prototype.not=function(){return e.fromBits(~this.low,~this.high)},e.prototype.and=function(t){var r=e.fromValue(t);return e.fromBits(this.low&r.low,this.high&r.high)},e.prototype.or=function(t){var r=e.fromValue(t);return e.fromBits(this.low|r.low,this.high|r.high)},e.prototype.xor=function(t){var r=e.fromValue(t);return e.fromBits(this.low^r.low,this.high^r.high)},e.prototype.shiftLeft=function(t){var r=e.toNumber(t);return(r&=63)===0?e.ZERO:r<32?e.fromBits(this.low<<r,this.high<<r|this.low>>>32-r):e.fromBits(0,this.low<<r-32)},e.prototype.shiftRight=function(t){var r=e.toNumber(t);return(r&=63)===0?e.ZERO:t<32?e.fromBits(this.low>>>r|this.high<<32-r,this.high>>r):e.fromBits(this.high>>r-32,this.high>=0?0:-1)},e.isInteger=function(t){return(t==null?void 0:t.__isInteger__)===!0},e.fromInt=function(t){var r;if(t=t|0,t>=-128&&t<128&&(r=INT_CACHE.get(t),r!=null))return r;var n=new e(t,t<0?-1:0);return t>=-128&&t<128&&INT_CACHE.set(t,n),n},e.fromBits=function(t,r){return new e(t,r)},e.fromNumber=function(t){return isNaN(t)||!isFinite(t)?e.ZERO:t<=-TWO_PWR_63_DBL?e.MIN_VALUE:t+1>=TWO_PWR_63_DBL?e.MAX_VALUE:t<0?e.fromNumber(-t).negate():new e(t%TWO_PWR_32_DBL|0,t/TWO_PWR_32_DBL|0)},e.fromString=function(t,r,n){var o=n===void 0?{}:n,a=o.strictStringValidation;if(t.length===0)throw(0,error_1$9.newError)("number format error: empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return e.ZERO;if(r=r!=null?r:10,r<2||r>36)throw(0,error_1$9.newError)("radix out of range: "+r.toString());var u;if((u=t.indexOf("-"))>0)throw(0,error_1$9.newError)('number format error: interior "-" character: '+t);if(u===0)return e.fromString(t.substring(1),r).negate();for(var s=e.fromNumber(Math.pow(r,8)),l=e.ZERO,c=0;c<t.length;c+=8){var f=Math.min(8,t.length-c),v=t.substring(c,c+f),b=parseInt(v,r);if(a===!0&&!_isValidNumberFromString(v,b,r))throw(0,error_1$9.newError)('number format error: "'.concat(v,'" is NaN in radix ').concat(r,": ").concat(t));if(f<8){var $=e.fromNumber(Math.pow(r,f));l=l.multiply($).add(e.fromNumber(b))}else l=l.multiply(s),l=l.add(e.fromNumber(b))}return l},e.fromValue=function(t,r){return r===void 0&&(r={}),t instanceof e?t:typeof t=="number"?e.fromNumber(t):typeof t=="string"?e.fromString(t,void 0,r):typeof t=="bigint"?e.fromString(t.toString()):new e(t.low,t.high)},e.toNumber=function(t){switch(typeof t){case"number":return t;case"bigint":return Number(t);default:return e.fromValue(t).toNumber()}},e.toString=function(t,r){return e.fromValue(t).toString(r)},e.inSafeRange=function(t){return e.fromValue(t).inSafeRange()},e.ZERO=e.fromInt(0),e.ONE=e.fromInt(1),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647),e.MIN_VALUE=e.fromBits(0,-2147483648),e.MIN_SAFE_VALUE=e.fromBits(1,-2097152),e.MAX_SAFE_VALUE=e.fromBits(-1,2097151),e.__isInteger__=!0,e}();function _convertNumberToString(e,t,r){var n=e.toString(t),o=Math.max(r-n.length,0),a="0".repeat(o);return"".concat(a).concat(n)}function _isValidNumberFromString(e,t,r){return!Number.isNaN(e)&&!Number.isNaN(t)&&_convertNumberToString(t,r,e.length)===e.toLowerCase()}Object.defineProperty(Integer.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1});var TWO_PWR_16_DBL=1<<16,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=Integer.fromInt(TWO_PWR_24_DBL),int=Integer.fromValue;integer.int=int;var isInt=Integer.isInteger;integer.isInt=isInt;var inSafeRange=Integer.inSafeRange;integer.inSafeRange=inSafeRange;var toNumber=Integer.toNumber;integer.toNumber=toNumber;var toString=Integer.toString;integer.toString=toString;integer.default=Integer;var temporalTypes={},temporalUtil$1={},util$4={},json={},objectUtil$2={};Object.defineProperty(objectUtil$2,"__esModule",{value:!0});objectUtil$2.getBrokenObjectReason=objectUtil$2.isBrokenObject=objectUtil$2.createBrokenObject=void 0;var __isBrokenObject__="__isBrokenObject__",__reason__="__reason__";function createBrokenObject(e,t){t===void 0&&(t={});var r=function(){throw e};return new Proxy(t,{get:function(n,o){if(o===__isBrokenObject__)return!0;if(o===__reason__)return e;if(o==="toJSON")return;r()},set:r,apply:r,construct:r,defineProperty:r,deleteProperty:r,getOwnPropertyDescriptor:r,getPrototypeOf:r,has:r,isExtensible:r,ownKeys:r,preventExtensions:r,setPrototypeOf:r})}objectUtil$2.createBrokenObject=createBrokenObject;function isBrokenObject(e){return e!==null&&typeof e=="object"&&e[__isBrokenObject__]===!0}objectUtil$2.isBrokenObject=isBrokenObject;function getBrokenObjectReason(e){return e[__reason__]}objectUtil$2.getBrokenObjectReason=getBrokenObjectReason;Object.defineProperty(json,"__esModule",{value:!0});json.stringify=void 0;var object_util_1=objectUtil$2;function stringify(e){return JSON.stringify(e,function(t,r){return(0,object_util_1.isBrokenObject)(r)?{__isBrokenObject__:!0,__reason__:(0,object_util_1.getBrokenObjectReason)(r)}:typeof r=="bigint"?"".concat(r,"n"):r})}json.stringify=stringify;Object.defineProperty(util$4,"__esModule",{value:!0});util$4.ENCRYPTION_OFF=util$4.ENCRYPTION_ON=util$4.validateQueryAndParameters=util$4.assertValidDate=util$4.assertNumberOrInteger=util$4.assertNumber=util$4.assertString=util$4.assertObject=util$4.isString=util$4.isObject=util$4.isEmptyObjectOrNull=void 0;var integer_1$3=integer,json_1$1=json,ENCRYPTION_ON$2="ENCRYPTION_ON";util$4.ENCRYPTION_ON=ENCRYPTION_ON$2;var ENCRYPTION_OFF$2="ENCRYPTION_OFF";util$4.ENCRYPTION_OFF=ENCRYPTION_OFF$2;function isEmptyObjectOrNull(e){if(e===null)return!0;if(!isObject(e))return!1;for(var t in e)if(e[t]!==void 0)return!1;return!0}util$4.isEmptyObjectOrNull=isEmptyObjectOrNull;function isObject(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null}util$4.isObject=isObject;function validateQueryAndParameters(e,t,r){var n,o,a="",u=t!=null?t:{},s=(n=r==null?void 0:r.skipAsserts)!==null&&n!==void 0?n:!1;return typeof e=="string"?a=e:e instanceof String?a=e.toString():typeof e=="object"&&e.text!=null&&(a=e.text,u=(o=e.parameters)!==null&&o!==void 0?o:{}),s||(assertCypherQuery(a),assertQueryParameters(u)),{validatedQuery:a,params:u}}util$4.validateQueryAndParameters=validateQueryAndParameters;function assertObject(e,t){if(!isObject(e))throw new TypeError(t+" expected to be an object but was: "+(0,json_1$1.stringify)(e));return e}util$4.assertObject=assertObject;function assertString$1(e,t){if(!isString(e))throw new TypeError((0,json_1$1.stringify)(t)+" expected to be string but was: "+(0,json_1$1.stringify)(e));return e}util$4.assertString=assertString$1;function assertNumber(e,t){if(typeof e!="number")throw new TypeError(t+" expected to be a number but was: "+(0,json_1$1.stringify)(e));return e}util$4.assertNumber=assertNumber;function assertNumberOrInteger(e,t){if(typeof e!="number"&&typeof e!="bigint"&&!(0,integer_1$3.isInt)(e))throw new TypeError(t+" expected to be either a number or an Integer object but was: "+(0,json_1$1.stringify)(e));return e}util$4.assertNumberOrInteger=assertNumberOrInteger;function assertValidDate(e,t){if(Object.prototype.toString.call(e)!=="[object Date]")throw new TypeError(t+" expected to be a standard JavaScript Date but was: "+(0,json_1$1.stringify)(e));if(Number.isNaN(e.getTime()))throw new TypeError(t+" expected to be valid JavaScript Date but its time was NaN: "+(0,json_1$1.stringify)(e));return e}util$4.assertValidDate=assertValidDate;function assertCypherQuery(e){if(assertString$1(e,"Cypher query"),e.trim().length===0)throw new TypeError("Cypher query is expected to be a non-empty string.")}function assertQueryParameters(e){if(!isObject(e)){var t=e.constructor!=null?" "+e.constructor.name:"";throw new TypeError("Query parameters are expected to either be undefined/null or an object, given:".concat(t," ").concat(JSON.stringify(e)))}}function isString(e){return Object.prototype.toString.call(e)==="[object String]"}util$4.isString=isString;(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(M,G,z,ee){ee===void 0&&(ee=z);var re=Object.getOwnPropertyDescriptor(G,z);(!re||("get"in re?!G.__esModule:re.writable||re.configurable))&&(re={enumerable:!0,get:function(){return G[z]}}),Object.defineProperty(M,ee,re)}:function(M,G,z,ee){ee===void 0&&(ee=z),M[ee]=G[z]}),r=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(M,G){Object.defineProperty(M,"default",{enumerable:!0,value:G})}:function(M,G){M.default=G}),n=commonjsGlobal&&commonjsGlobal.__importStar||function(M){if(M&&M.__esModule)return M;var G={};if(M!=null)for(var z in M)z!=="default"&&Object.prototype.hasOwnProperty.call(M,z)&&t(G,M,z);return r(G,M),G};Object.defineProperty(e,"__esModule",{value:!0}),e.floorMod=e.floorDiv=e.assertValidZoneId=e.assertValidNanosecond=e.assertValidSecond=e.assertValidMinute=e.assertValidHour=e.assertValidDay=e.assertValidMonth=e.assertValidYear=e.timeZoneOffsetInSeconds=e.totalNanoseconds=e.newDate=e.toStandardDate=e.isoStringToStandardDate=e.dateToIsoString=e.timeZoneOffsetToIsoString=e.timeToIsoString=e.durationToIsoString=e.dateToEpochDay=e.localDateTimeToEpochSecond=e.localTimeToNanoOfDay=e.normalizeNanosecondsForDuration=e.normalizeSecondsForDuration=e.SECONDS_PER_DAY=e.DAYS_PER_400_YEAR_CYCLE=e.DAYS_0000_TO_1970=e.NANOS_PER_HOUR=e.NANOS_PER_MINUTE=e.NANOS_PER_MILLISECOND=e.NANOS_PER_SECOND=e.SECONDS_PER_HOUR=e.SECONDS_PER_MINUTE=e.MINUTES_PER_HOUR=e.NANOSECOND_OF_SECOND_RANGE=e.SECOND_OF_MINUTE_RANGE=e.MINUTE_OF_HOUR_RANGE=e.HOUR_OF_DAY_RANGE=e.DAY_OF_MONTH_RANGE=e.MONTH_OF_YEAR_RANGE=e.YEAR_RANGE=void 0;var o=n(integer),a=error$1,u=util$4,s=function(){function M(G,z){this._minNumber=G,this._maxNumber=z,this._minInteger=(0,o.int)(G),this._maxInteger=(0,o.int)(z)}return M.prototype.contains=function(G){if((0,o.isInt)(G)&&G instanceof o.default)return G.greaterThanOrEqual(this._minInteger)&&G.lessThanOrEqual(this._maxInteger);if(typeof G=="bigint"){var z=(0,o.int)(G);return z.greaterThanOrEqual(this._minInteger)&&z.lessThanOrEqual(this._maxInteger)}else return G>=this._minNumber&&G<=this._maxNumber},M.prototype.toString=function(){return"[".concat(this._minNumber,", ").concat(this._maxNumber,"]")},M}();e.YEAR_RANGE=new s(-999999999,999999999),e.MONTH_OF_YEAR_RANGE=new s(1,12),e.DAY_OF_MONTH_RANGE=new s(1,31),e.HOUR_OF_DAY_RANGE=new s(0,23),e.MINUTE_OF_HOUR_RANGE=new s(0,59),e.SECOND_OF_MINUTE_RANGE=new s(0,59),e.NANOSECOND_OF_SECOND_RANGE=new s(0,999999999),e.MINUTES_PER_HOUR=60,e.SECONDS_PER_MINUTE=60,e.SECONDS_PER_HOUR=e.SECONDS_PER_MINUTE*e.MINUTES_PER_HOUR,e.NANOS_PER_SECOND=1e9,e.NANOS_PER_MILLISECOND=1e6,e.NANOS_PER_MINUTE=e.NANOS_PER_SECOND*e.SECONDS_PER_MINUTE,e.NANOS_PER_HOUR=e.NANOS_PER_MINUTE*e.MINUTES_PER_HOUR,e.DAYS_0000_TO_1970=719528,e.DAYS_PER_400_YEAR_CYCLE=146097,e.SECONDS_PER_DAY=86400;function l(M,G){return(0,o.int)(M).add(B(G,e.NANOS_PER_SECOND))}e.normalizeSecondsForDuration=l;function c(M){return Z(M,e.NANOS_PER_SECOND)}e.normalizeNanosecondsForDuration=c;function f(M,G,z,ee){M=(0,o.int)(M),G=(0,o.int)(G),z=(0,o.int)(z),ee=(0,o.int)(ee);var re=M.multiply(e.NANOS_PER_HOUR);return re=re.add(G.multiply(e.NANOS_PER_MINUTE)),re=re.add(z.multiply(e.NANOS_PER_SECOND)),re.add(ee)}e.localTimeToNanoOfDay=f;function v(M,G,z,ee,re,me,ge){var Ee=b(M,G,z),Pe=W(ee,re,me);return Ee.multiply(e.SECONDS_PER_DAY).add(Pe)}e.localDateTimeToEpochSecond=v;function b(M,G,z){M=(0,o.int)(M),G=(0,o.int)(G),z=(0,o.int)(z);var ee=M.multiply(365);return M.greaterThanOrEqual(0)?ee=ee.add(M.add(3).div(4).subtract(M.add(99).div(100)).add(M.add(399).div(400))):ee=ee.subtract(M.div(-4).subtract(M.div(-100)).add(M.div(-400))),ee=ee.add(G.multiply(367).subtract(362).div(12)),ee=ee.add(z.subtract(1)),G.greaterThan(2)&&(ee=ee.subtract(1),U(M)||(ee=ee.subtract(1))),ee.subtract(e.DAYS_0000_TO_1970)}e.dateToEpochDay=b;function $(M,G,z,ee){var re=oe(M),me=oe(G),ge=K(z,ee);return"P".concat(re,"M").concat(me,"DT").concat(ge,"S")}e.durationToIsoString=$;function E(M,G,z,ee){var re=oe(M,2),me=oe(G,2),ge=oe(z,2),Ee=J(ee);return"".concat(re,":").concat(me,":").concat(ge).concat(Ee)}e.timeToIsoString=E;function w(M){if(M=(0,o.int)(M),M.equals(0))return"Z";var G=M.isNegative();G&&(M=M.multiply(-1));var z=G?"-":"+",ee=oe(M.div(e.SECONDS_PER_HOUR),2),re=oe(M.div(e.SECONDS_PER_MINUTE).modulo(e.MINUTES_PER_HOUR),2),me=M.modulo(e.SECONDS_PER_MINUTE),ge=me.equals(0)?null:oe(me,2);return ge!=null?"".concat(z).concat(ee,":").concat(re,":").concat(ge):"".concat(z).concat(ee,":").concat(re)}e.timeZoneOffsetToIsoString=w;function A(M,G,z){var ee=ie(M),re=oe(G,2),me=oe(z,2);return"".concat(ee,"-").concat(re,"-").concat(me)}e.dateToIsoString=A;function I(M){return new Date(M)}e.isoStringToStandardDate=I;function R(M){return new Date(M)}e.toStandardDate=R;function x(M){return new Date(M)}e.newDate=x;function N(M,G){G=G!=null?G:0;var z=M.getMilliseconds()*e.NANOS_PER_MILLISECOND;return _e(G,z)}e.totalNanoseconds=N;function D(M){var G=M.getSeconds()>=M.getUTCSeconds()?M.getSeconds()-M.getUTCSeconds():M.getSeconds()-M.getUTCSeconds()+60,z=M.getTimezoneOffset();return z===0?0+G:-1*z*e.SECONDS_PER_MINUTE+G}e.timeZoneOffsetInSeconds=D;function V(M){return H(M,e.YEAR_RANGE,"Year")}e.assertValidYear=V;function Y(M){return H(M,e.MONTH_OF_YEAR_RANGE,"Month")}e.assertValidMonth=Y;function Q(M){return H(M,e.DAY_OF_MONTH_RANGE,"Day")}e.assertValidDay=Q;function te(M){return H(M,e.HOUR_OF_DAY_RANGE,"Hour")}e.assertValidHour=te;function de(M){return H(M,e.MINUTE_OF_HOUR_RANGE,"Minute")}e.assertValidMinute=de;function ne(M){return H(M,e.SECOND_OF_MINUTE_RANGE,"Second")}e.assertValidSecond=ne;function ae(M){return H(M,e.NANOSECOND_OF_SECOND_RANGE,"Nanosecond")}e.assertValidNanosecond=ae;function le(M,G){try{Intl.DateTimeFormat(void 0,{timeZone:G})}catch{throw(0,a.newError)("".concat(M,' is expected to be a valid ZoneId but was: "').concat(G,'"'))}}e.assertValidZoneId=le;function H(M,G,z){if((0,u.assertNumberOrInteger)(M,z),!G.contains(M))throw(0,a.newError)("".concat(z," is expected to be in range ").concat(G.toString()," but was: ").concat(M.toString()));return M}function W(M,G,z){M=(0,o.int)(M),G=(0,o.int)(G),z=(0,o.int)(z);var ee=M.multiply(e.SECONDS_PER_HOUR);return ee=ee.add(G.multiply(e.SECONDS_PER_MINUTE)),ee.add(z)}function U(M){return M=(0,o.int)(M),M.modulo(4).equals(0)?M.modulo(100).equals(0)?!!M.modulo(400).equals(0):!0:!1}function B(M,G){M=(0,o.int)(M),G=(0,o.int)(G);var z=M.div(G);return M.isPositive()!==G.isPositive()&&z.multiply(G).notEquals(M)&&(z=z.subtract(1)),z}e.floorDiv=B;function Z(M,G){return M=(0,o.int)(M),G=(0,o.int)(G),M.subtract(B(M,G).multiply(G))}e.floorMod=Z;function K(M,G){M=(0,o.int)(M),G=(0,o.int)(G);var z,ee,re=M.isNegative(),me=G.greaterThan(0);return re&&me?M.equals(-1)?z="-0":z=M.add(1).toString():z=M.toString(),me&&(re?ee=J(G.negate().add(2*e.NANOS_PER_SECOND).modulo(e.NANOS_PER_SECOND)):ee=J(G.add(e.NANOS_PER_SECOND).modulo(e.NANOS_PER_SECOND))),ee!=null?z+ee:z}function J(M){return M=(0,o.int)(M),M.equals(0)?"":"."+oe(M,9)}function ie(M){var G=(0,o.int)(M);return G.isNegative()||G.greaterThan(9999)?oe(G,6,{usePositiveSign:!0}):oe(G,4)}function oe(M,G,z){M=(0,o.int)(M);var ee=M.isNegative();ee&&(M=M.negate());var re=M.toString();if(G!=null)for(;re.length<G;)re="0"+re;return ee?"-"+re:(z==null?void 0:z.usePositiveSign)===!0?"+"+re:re}function _e(M,G){return M instanceof o.default?M.add(G):typeof M=="bigint"?M+BigInt(G):M+G}})(temporalUtil$1);var __createBinding$a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),__setModuleDefault$a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$a=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding$a(t,e,r);return __setModuleDefault$a(t,e),t},__read$u=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a};Object.defineProperty(temporalTypes,"__esModule",{value:!0});temporalTypes.isDateTime=temporalTypes.DateTime=temporalTypes.isLocalDateTime=temporalTypes.LocalDateTime=temporalTypes.isDate=temporalTypes.Date=temporalTypes.isTime=temporalTypes.Time=temporalTypes.isLocalTime=temporalTypes.LocalTime=temporalTypes.isDuration=temporalTypes.Duration=void 0;var util$3=__importStar$a(temporalUtil$1),util_1$7=util$4,error_1$8=error$1,integer_1$2=__importStar$a(integer),IDENTIFIER_PROPERTY_ATTRIBUTES$1={value:!0,enumerable:!1,configurable:!1,writable:!1},DURATION_IDENTIFIER_PROPERTY="__isDuration__",LOCAL_TIME_IDENTIFIER_PROPERTY="__isLocalTime__",TIME_IDENTIFIER_PROPERTY="__isTime__",DATE_IDENTIFIER_PROPERTY="__isDate__",LOCAL_DATE_TIME_IDENTIFIER_PROPERTY="__isLocalDateTime__",DATE_TIME_IDENTIFIER_PROPERTY="__isDateTime__",Duration=function(){function e(t,r,n,o){this.months=(0,util_1$7.assertNumberOrInteger)(t,"Months"),this.days=(0,util_1$7.assertNumberOrInteger)(r,"Days"),(0,util_1$7.assertNumberOrInteger)(n,"Seconds"),(0,util_1$7.assertNumberOrInteger)(o,"Nanoseconds"),this.seconds=util$3.normalizeSecondsForDuration(n,o),this.nanoseconds=util$3.normalizeNanosecondsForDuration(o),Object.freeze(this)}return e.prototype.toString=function(){return util$3.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)},e}();temporalTypes.Duration=Duration;Object.defineProperty(Duration.prototype,DURATION_IDENTIFIER_PROPERTY,IDENTIFIER_PROPERTY_ATTRIBUTES$1);function isDuration(e){return hasIdentifierProperty$1(e,DURATION_IDENTIFIER_PROPERTY)}temporalTypes.isDuration=isDuration;var LocalTime=function(){function e(t,r,n,o){this.hour=util$3.assertValidHour(t),this.minute=util$3.assertValidMinute(r),this.second=util$3.assertValidSecond(n),this.nanosecond=util$3.assertValidNanosecond(o),Object.freeze(this)}return e.fromStandardDate=function(t,r){verifyStandardDateAndNanos(t,r);var n=util$3.totalNanoseconds(t,r);return new e(t.getHours(),t.getMinutes(),t.getSeconds(),n instanceof integer_1$2.default?n.toInt():typeof n=="bigint"?(0,integer_1$2.int)(n).toInt():n)},e.prototype.toString=function(){return util$3.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)},e}();temporalTypes.LocalTime=LocalTime;Object.defineProperty(LocalTime.prototype,LOCAL_TIME_IDENTIFIER_PROPERTY,IDENTIFIER_PROPERTY_ATTRIBUTES$1);function isLocalTime(e){return hasIdentifierProperty$1(e,LOCAL_TIME_IDENTIFIER_PROPERTY)}temporalTypes.isLocalTime=isLocalTime;var Time=function(){function e(t,r,n,o,a){this.hour=util$3.assertValidHour(t),this.minute=util$3.assertValidMinute(r),this.second=util$3.assertValidSecond(n),this.nanosecond=util$3.assertValidNanosecond(o),this.timeZoneOffsetSeconds=(0,util_1$7.assertNumberOrInteger)(a,"Time zone offset in seconds"),Object.freeze(this)}return e.fromStandardDate=function(t,r){return verifyStandardDateAndNanos(t,r),new e(t.getHours(),t.getMinutes(),t.getSeconds(),(0,integer_1$2.toNumber)(util$3.totalNanoseconds(t,r)),util$3.timeZoneOffsetInSeconds(t))},e.prototype.toString=function(){return util$3.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+util$3.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)},e}();temporalTypes.Time=Time;Object.defineProperty(Time.prototype,TIME_IDENTIFIER_PROPERTY,IDENTIFIER_PROPERTY_ATTRIBUTES$1);function isTime(e){return hasIdentifierProperty$1(e,TIME_IDENTIFIER_PROPERTY)}temporalTypes.isTime=isTime;var Date$1=function(){function e(t,r,n){this.year=util$3.assertValidYear(t),this.month=util$3.assertValidMonth(r),this.day=util$3.assertValidDay(n),Object.freeze(this)}return e.fromStandardDate=function(t){return verifyStandardDateAndNanos(t),new e(t.getFullYear(),t.getMonth()+1,t.getDate())},e.prototype.toStandardDate=function(){return util$3.isoStringToStandardDate(this.toString())},e.prototype.toString=function(){return util$3.dateToIsoString(this.year,this.month,this.day)},e}();temporalTypes.Date=Date$1;Object.defineProperty(Date$1.prototype,DATE_IDENTIFIER_PROPERTY,IDENTIFIER_PROPERTY_ATTRIBUTES$1);function isDate$1(e){return hasIdentifierProperty$1(e,DATE_IDENTIFIER_PROPERTY)}temporalTypes.isDate=isDate$1;var LocalDateTime=function(){function e(t,r,n,o,a,u,s){this.year=util$3.assertValidYear(t),this.month=util$3.assertValidMonth(r),this.day=util$3.assertValidDay(n),this.hour=util$3.assertValidHour(o),this.minute=util$3.assertValidMinute(a),this.second=util$3.assertValidSecond(u),this.nanosecond=util$3.assertValidNanosecond(s),Object.freeze(this)}return e.fromStandardDate=function(t,r){return verifyStandardDateAndNanos(t,r),new e(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),(0,integer_1$2.toNumber)(util$3.totalNanoseconds(t,r)))},e.prototype.toStandardDate=function(){return util$3.isoStringToStandardDate(this.toString())},e.prototype.toString=function(){return localDateTimeToString(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)},e}();temporalTypes.LocalDateTime=LocalDateTime;Object.defineProperty(LocalDateTime.prototype,LOCAL_DATE_TIME_IDENTIFIER_PROPERTY,IDENTIFIER_PROPERTY_ATTRIBUTES$1);function isLocalDateTime(e){return hasIdentifierProperty$1(e,LOCAL_DATE_TIME_IDENTIFIER_PROPERTY)}temporalTypes.isLocalDateTime=isLocalDateTime;var DateTime=function(){function e(t,r,n,o,a,u,s,l,c){this.year=util$3.assertValidYear(t),this.month=util$3.assertValidMonth(r),this.day=util$3.assertValidDay(n),this.hour=util$3.assertValidHour(o),this.minute=util$3.assertValidMinute(a),this.second=util$3.assertValidSecond(u),this.nanosecond=util$3.assertValidNanosecond(s);var f=__read$u(verifyTimeZoneArguments(l,c),2),v=f[0],b=f[1];this.timeZoneOffsetSeconds=v,this.timeZoneId=b!=null?b:void 0,Object.freeze(this)}return e.fromStandardDate=function(t,r){return verifyStandardDateAndNanos(t,r),new e(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),(0,integer_1$2.toNumber)(util$3.totalNanoseconds(t,r)),util$3.timeZoneOffsetInSeconds(t),null)},e.prototype.toStandardDate=function(){return util$3.toStandardDate(this._toUTC())},e.prototype.toString=function(){var t,r=localDateTimeToString(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond),n=this.timeZoneOffsetSeconds!=null?util$3.timeZoneOffsetToIsoString((t=this.timeZoneOffsetSeconds)!==null&&t!==void 0?t:0):"",o=this.timeZoneId!=null?"[".concat(this.timeZoneId,"]"):"";return r+n+o},e.prototype._toUTC=function(){var t;if(this.timeZoneOffsetSeconds===void 0)throw new Error("Requires DateTime created with time zone offset");var r=util$3.localDateTimeToEpochSecond(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond),n=r.subtract((t=this.timeZoneOffsetSeconds)!==null&&t!==void 0?t:0);return(0,integer_1$2.int)(n).multiply(1e3).add((0,integer_1$2.int)(this.nanosecond).div(1e6)).toNumber()},e}();temporalTypes.DateTime=DateTime;Object.defineProperty(DateTime.prototype,DATE_TIME_IDENTIFIER_PROPERTY,IDENTIFIER_PROPERTY_ATTRIBUTES$1);function isDateTime(e){return hasIdentifierProperty$1(e,DATE_TIME_IDENTIFIER_PROPERTY)}temporalTypes.isDateTime=isDateTime;function hasIdentifierProperty$1(e,t){return e!=null&&e[t]===!0}function localDateTimeToString(e,t,r,n,o,a,u){return util$3.dateToIsoString(e,t,r)+"T"+util$3.timeToIsoString(n,o,a,u)}function verifyTimeZoneArguments(e,t){var r=e!=null,n=t!=null&&t!=="";if(!r&&!n)throw(0,error_1$8.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: ".concat(e," and id: ").concat(t));var o=[void 0,void 0];return r&&((0,util_1$7.assertNumberOrInteger)(e,"Time zone offset in seconds"),o[0]=e),n&&((0,util_1$7.assertString)(t,"Time zone ID"),util$3.assertValidZoneId("Time zone ID",t),o[1]=t),o}function verifyStandardDateAndNanos(e,t){(0,util_1$7.assertValidDate)(e,"Standard date"),t!=null&&(0,util_1$7.assertNumberOrInteger)(t,"Nanosecond")}var graphTypes={};Object.defineProperty(graphTypes,"__esModule",{value:!0});graphTypes.isPathSegment=graphTypes.PathSegment=graphTypes.isPath=graphTypes.Path=graphTypes.isUnboundRelationship=graphTypes.UnboundRelationship=graphTypes.isRelationship=graphTypes.Relationship=graphTypes.isNode=graphTypes.Node=void 0;var json_1=json,IDENTIFIER_PROPERTY_ATTRIBUTES={value:!0,enumerable:!1,configurable:!1,writable:!1},NODE_IDENTIFIER_PROPERTY="__isNode__",RELATIONSHIP_IDENTIFIER_PROPERTY="__isRelationship__",UNBOUND_RELATIONSHIP_IDENTIFIER_PROPERTY="__isUnboundRelationship__",PATH_IDENTIFIER_PROPERTY="__isPath__",PATH_SEGMENT_IDENTIFIER_PROPERTY="__isPathSegment__";function hasIdentifierProperty(e,t){return e!=null&&e[t]===!0}var Node$1=function(){function e(t,r,n,o){this.identity=t,this.labels=r,this.properties=n,this.elementId=_valueOrGetDefault(o,function(){return t.toString()})}return e.prototype.toString=function(){for(var t="("+this.elementId,r=0;r<this.labels.length;r++)t+=":"+this.labels[r];var n=Object.keys(this.properties);if(n.length>0){t+=" {";for(var r=0;r<n.length;r++)r>0&&(t+=","),t+=n[r]+":"+(0,json_1.stringify)(this.properties[n[r]]);t+="}"}return t+=")",t},e}();graphTypes.Node=Node$1;Object.defineProperty(Node$1.prototype,NODE_IDENTIFIER_PROPERTY,IDENTIFIER_PROPERTY_ATTRIBUTES);function isNode(e){return hasIdentifierProperty(e,NODE_IDENTIFIER_PROPERTY)}graphTypes.isNode=isNode;var Relationship=function(){function e(t,r,n,o,a,u,s,l){this.identity=t,this.start=r,this.end=n,this.type=o,this.properties=a,this.elementId=_valueOrGetDefault(u,function(){return t.toString()}),this.startNodeElementId=_valueOrGetDefault(s,function(){return r.toString()}),this.endNodeElementId=_valueOrGetDefault(l,function(){return n.toString()})}return e.prototype.toString=function(){var t="("+this.startNodeElementId+")-[:"+this.type,r=Object.keys(this.properties);if(r.length>0){t+=" {";for(var n=0;n<r.length;n++)n>0&&(t+=","),t+=r[n]+":"+(0,json_1.stringify)(this.properties[r[n]]);t+="}"}return t+="]->("+this.endNodeElementId+")",t},e}();graphTypes.Relationship=Relationship;Object.defineProperty(Relationship.prototype,RELATIONSHIP_IDENTIFIER_PROPERTY,IDENTIFIER_PROPERTY_ATTRIBUTES);function isRelationship(e){return hasIdentifierProperty(e,RELATIONSHIP_IDENTIFIER_PROPERTY)}graphTypes.isRelationship=isRelationship;var UnboundRelationship=function(){function e(t,r,n,o){this.identity=t,this.type=r,this.properties=n,this.elementId=_valueOrGetDefault(o,function(){return t.toString()})}return e.prototype.bind=function(t,r){return new Relationship(this.identity,t,r,this.type,this.properties,this.elementId)},e.prototype.bindTo=function(t,r){return new Relationship(this.identity,t.identity,r.identity,this.type,this.properties,this.elementId,t.elementId,r.elementId)},e.prototype.toString=function(){var t="-[:"+this.type,r=Object.keys(this.properties);if(r.length>0){t+=" {";for(var n=0;n<r.length;n++)n>0&&(t+=","),t+=r[n]+":"+(0,json_1.stringify)(this.properties[r[n]]);t+="}"}return t+="]->",t},e}();graphTypes.UnboundRelationship=UnboundRelationship;Object.defineProperty(UnboundRelationship.prototype,UNBOUND_RELATIONSHIP_IDENTIFIER_PROPERTY,IDENTIFIER_PROPERTY_ATTRIBUTES);function isUnboundRelationship(e){return hasIdentifierProperty(e,UNBOUND_RELATIONSHIP_IDENTIFIER_PROPERTY)}graphTypes.isUnboundRelationship=isUnboundRelationship;var PathSegment=function(){function e(t,r,n){this.start=t,this.relationship=r,this.end=n}return e}();graphTypes.PathSegment=PathSegment;Object.defineProperty(PathSegment.prototype,PATH_SEGMENT_IDENTIFIER_PROPERTY,IDENTIFIER_PROPERTY_ATTRIBUTES);function isPathSegment(e){return hasIdentifierProperty(e,PATH_SEGMENT_IDENTIFIER_PROPERTY)}graphTypes.isPathSegment=isPathSegment;var Path=function(){function e(t,r,n){this.start=t,this.end=r,this.segments=n,this.length=n.length}return e}();graphTypes.Path=Path;Object.defineProperty(Path.prototype,PATH_IDENTIFIER_PROPERTY,IDENTIFIER_PROPERTY_ATTRIBUTES);function isPath(e){return hasIdentifierProperty(e,PATH_IDENTIFIER_PROPERTY)}graphTypes.isPath=isPath;function _valueOrGetDefault(e,t){return e==null?t():e}var record={},__generator$f=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},__values$c=commonjsGlobal&&commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$t=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a};Object.defineProperty(record,"__esModule",{value:!0});var error_1$7=error$1;function generateFieldLookup(e){var t={};return e.forEach(function(r,n){t[r]=n}),t}var Record=function(){function e(t,r,n){this.keys=t,this.length=t.length,this._fields=r,this._fieldLookup=n!=null?n:generateFieldLookup(t)}return e.prototype.forEach=function(t){var r,n;try{for(var o=__values$c(this.entries()),a=o.next();!a.done;a=o.next()){var u=__read$t(a.value,2),s=u[0],l=u[1];t(l,s,this)}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e.prototype.map=function(t){var r,n,o=[];try{for(var a=__values$c(this.entries()),u=a.next();!u.done;u=a.next()){var s=__read$t(u.value,2),l=s[0],c=s[1];o.push(t(c,l,this))}}catch(f){r={error:f}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o},e.prototype.entries=function(){var t;return __generator$f(this,function(r){switch(r.label){case 0:t=0,r.label=1;case 1:return t<this.keys.length?[4,[this.keys[t],this._fields[t]]]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})},e.prototype.values=function(){var t;return __generator$f(this,function(r){switch(r.label){case 0:t=0,r.label=1;case 1:return t<this.keys.length?[4,this._fields[t]]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})},e.prototype[Symbol.iterator]=function(){var t;return __generator$f(this,function(r){switch(r.label){case 0:t=0,r.label=1;case 1:return t<this.keys.length?[4,this._fields[t]]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})},e.prototype.toObject=function(){var t,r,n={};try{for(var o=__values$c(this.entries()),a=o.next();!a.done;a=o.next()){var u=__read$t(a.value,2),s=u[0],l=u[1];n[s]=l}}catch(c){t={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},e.prototype.get=function(t){var r;if(typeof t!="number"){if(r=this._fieldLookup[t],r===void 0)throw(0,error_1$7.newError)("This record has no field with key '"+t+"', available key are: ["+this.keys.toString()+"].")}else r=t;if(r>this._fields.length-1||r<0)throw(0,error_1$7.newError)("This record has no field with index '"+r.toString()+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[r]},e.prototype.has=function(t){return typeof t=="number"?t>=0&&t<this._fields.length:this._fieldLookup[t]!==void 0},e}();record.default=Record;var spatialTypes={};Object.defineProperty(spatialTypes,"__esModule",{value:!0});spatialTypes.isPoint=spatialTypes.Point=void 0;var util_1$6=util$4,POINT_IDENTIFIER_PROPERTY="__isPoint__",Point=function(){function e(t,r,n,o){this.srid=(0,util_1$6.assertNumberOrInteger)(t,"SRID"),this.x=(0,util_1$6.assertNumber)(r,"X coordinate"),this.y=(0,util_1$6.assertNumber)(n,"Y coordinate"),this.z=o==null?o:(0,util_1$6.assertNumber)(o,"Z coordinate"),Object.freeze(this)}return e.prototype.toString=function(){return this.z!=null&&!isNaN(this.z)?"Point{srid=".concat(formatAsFloat(this.srid),", x=").concat(formatAsFloat(this.x),", y=").concat(formatAsFloat(this.y),", z=").concat(formatAsFloat(this.z),"}"):"Point{srid=".concat(formatAsFloat(this.srid),", x=").concat(formatAsFloat(this.x),", y=").concat(formatAsFloat(this.y),"}")},e}();spatialTypes.Point=Point;function formatAsFloat(e){return Number.isInteger(e)?e.toString()+".0":e.toString()}Object.defineProperty(Point.prototype,POINT_IDENTIFIER_PROPERTY,{value:!0,enumerable:!1,configurable:!1,writable:!1});function isPoint(e){return e!=null&&e[POINT_IDENTIFIER_PROPERTY]===!0}spatialTypes.isPoint=isPoint;var resultSummary={},__createBinding$9=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),__setModuleDefault$9=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$9=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding$9(t,e,r);return __setModuleDefault$9(t,e),t};Object.defineProperty(resultSummary,"__esModule",{value:!0});resultSummary.Stats=resultSummary.QueryStatistics=resultSummary.ProfiledPlan=resultSummary.Plan=resultSummary.Notification=resultSummary.ServerInfo=resultSummary.queryType=void 0;var integer_1$1=__importStar$9(integer),ResultSummary=function(){function e(t,r,n,o){var a,u,s;this.query={text:t,parameters:r},this.queryType=n.type,this.counters=new QueryStatistics((a=n.stats)!==null&&a!==void 0?a:{}),this.updateStatistics=this.counters,this.plan=n.plan!=null||n.profile!=null?new Plan((u=n.plan)!==null&&u!==void 0?u:n.profile):!1,this.profile=n.profile!=null?new ProfiledPlan(n.profile):!1,this.notifications=this._buildNotifications(n.notifications),this.server=new ServerInfo(n.server,o),this.resultConsumedAfter=n.result_consumed_after,this.resultAvailableAfter=n.result_available_after,this.database={name:(s=n.db)!==null&&s!==void 0?s:null}}return e.prototype._buildNotifications=function(t){return t==null?[]:t.map(function(r){return new Notification$2(r)})},e.prototype.hasPlan=function(){return this.plan instanceof Plan},e.prototype.hasProfile=function(){return this.profile instanceof ProfiledPlan},e}(),Plan=function(){function e(t){this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.children=t.children!=null?t.children.map(function(r){return new e(r)}):[]}return e}();resultSummary.Plan=Plan;var ProfiledPlan=function(){function e(t){this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.dbHits=valueOrDefault$1("dbHits",t),this.rows=valueOrDefault$1("rows",t),this.pageCacheMisses=valueOrDefault$1("pageCacheMisses",t),this.pageCacheHits=valueOrDefault$1("pageCacheHits",t),this.pageCacheHitRatio=valueOrDefault$1("pageCacheHitRatio",t),this.time=valueOrDefault$1("time",t),this.children=t.children!=null?t.children.map(function(r){return new e(r)}):[]}return e.prototype.hasPageCacheStats=function(){return this.pageCacheMisses>0||this.pageCacheHits>0||this.pageCacheHitRatio>0},e}();resultSummary.ProfiledPlan=ProfiledPlan;var Stats=function(){function e(){this.nodesCreated=0,this.nodesDeleted=0,this.relationshipsCreated=0,this.relationshipsDeleted=0,this.propertiesSet=0,this.labelsAdded=0,this.labelsRemoved=0,this.indexesAdded=0,this.indexesRemoved=0,this.constraintsAdded=0,this.constraintsRemoved=0}return e}();resultSummary.Stats=Stats;var QueryStatistics=function(){function e(t){var r=this;this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(t).forEach(function(n){var o=n.replace(/(-\w)/g,function(a){return a[1].toUpperCase()});o in r._stats?r._stats[o]=intValue(t[n]):o==="systemUpdates"?r._systemUpdates=intValue(t[n]):o==="containsSystemUpdates"?r._containsSystemUpdates=t[n]:o==="containsUpdates"&&(r._containsUpdates=t[n])}),this._stats=Object.freeze(this._stats)}return e.prototype.containsUpdates=function(){var t=this;return this._containsUpdates!==void 0?this._containsUpdates:Object.keys(this._stats).reduce(function(r,n){return r+t._stats[n]},0)>0},e.prototype.updates=function(){return this._stats},e.prototype.containsSystemUpdates=function(){return this._containsSystemUpdates!==void 0?this._containsSystemUpdates:this._systemUpdates>0},e.prototype.systemUpdates=function(){return this._systemUpdates},e}();resultSummary.QueryStatistics=QueryStatistics;var Notification$2=function(){function e(t){this.code=t.code,this.title=t.title,this.description=t.description,this.severity=t.severity,this.position=e._constructPosition(t.position)}return e._constructPosition=function(t){return t==null?{}:{offset:intValue(t.offset),line:intValue(t.line),column:intValue(t.column)}},e}();resultSummary.Notification=Notification$2;var ServerInfo=function(){function e(t,r){t!=null&&(this.address=t.address,this.agent=t.version),this.protocolVersion=r}return e}();resultSummary.ServerInfo=ServerInfo;function intValue(e){return e instanceof integer_1$1.default?e.toInt():typeof e=="bigint"?(0,integer_1$1.int)(e).toInt():e}function valueOrDefault$1(e,t,r){if(r===void 0&&(r=0),t!==!1&&e in t){var n=t[e];return intValue(n)}else return r}var queryType={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"};resultSummary.queryType=queryType;resultSummary.default=ResultSummary;var result={},internal={},observers={};Object.defineProperty(observers,"__esModule",{value:!0});observers.FailedObserver=observers.CompletedObserver=void 0;var CompletedObserver$1=function(){function e(){}return e.prototype.subscribe=function(t){apply(t,t.onKeys,[]),apply(t,t.onCompleted,{})},e.prototype.cancel=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.prepareToHandleSingleResponse=function(){},e.prototype.markCompleted=function(){},e.prototype.onError=function(t){throw Error("CompletedObserver not supposed to call onError")},e}();observers.CompletedObserver=CompletedObserver$1;var FailedObserver$1=function(){function e(t){var r=t.error,n=t.onError;this._error=r,this._beforeError=n,this._observers=[],this.onError(r)}return e.prototype.subscribe=function(t){apply(t,t.onError,this._error),this._observers.push(t)},e.prototype.onError=function(t){apply(this,this._beforeError,t),this._observers.forEach(function(r){return apply(r,r.onError,t)})},e.prototype.cancel=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.markCompleted=function(){},e.prototype.prepareToHandleSingleResponse=function(){},e}();observers.FailedObserver=FailedObserver$1;function apply(e,t,r){t!=null&&t.bind(e)(r)}var bookmarks$1={},__createBinding$8=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),__setModuleDefault$8=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$8=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding$8(t,e,r);return __setModuleDefault$8(t,e),t},__read$s=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$l=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(bookmarks$1,"__esModule",{value:!0});bookmarks$1.Bookmarks=void 0;var util$2=__importStar$8(util$4),BOOKMARKS_KEY="bookmarks",Bookmarks$4=function(){function e(t){this._values=asStringArray(t)}return e.empty=function(){return EMPTY_BOOKMARK},e.prototype.isEmpty=function(){return this._values.length===0},e.prototype.values=function(){return this._values},e.prototype[Symbol.iterator]=function(){return this._values[Symbol.iterator]()},e.prototype.asBeginTransactionParameters=function(){var t;return this.isEmpty()?{}:(t={},t[BOOKMARKS_KEY]=this._values,t)},e}();bookmarks$1.Bookmarks=Bookmarks$4;var EMPTY_BOOKMARK=new Bookmarks$4(null);function asStringArray(e){if(e==null||e==="")return[];if(util$2.isString(e))return[e];if(Array.isArray(e)){for(var t=new Set,r=flattenArray(e),n=0;n<r.length;n++){var o=r[n];if(o!=null){if(!util$2.isString(o))throw new TypeError("Bookmark value should be a string, given: '".concat(o,"'"));t.add(o)}}return __spreadArray$l([],__read$s(t),!1)}throw new TypeError("Bookmarks should either be a string or a string array, given: '".concat(e,"'"))}function flattenArray(e){return e.reduce(function(t,r){return Array.isArray(r)?t.concat(flattenArray(r)):t.concat(r)},[])}var constants$1={};Object.defineProperty(constants$1,"__esModule",{value:!0});constants$1.BOLT_PROTOCOL_V5_0=constants$1.BOLT_PROTOCOL_V4_4=constants$1.BOLT_PROTOCOL_V4_3=constants$1.BOLT_PROTOCOL_V4_2=constants$1.BOLT_PROTOCOL_V4_1=constants$1.BOLT_PROTOCOL_V4_0=constants$1.BOLT_PROTOCOL_V3=constants$1.BOLT_PROTOCOL_V2=constants$1.BOLT_PROTOCOL_V1=constants$1.DEFAULT_POOL_MAX_SIZE=constants$1.DEFAULT_POOL_ACQUISITION_TIMEOUT=constants$1.DEFAULT_CONNECTION_TIMEOUT_MILLIS=constants$1.ACCESS_MODE_WRITE=constants$1.ACCESS_MODE_READ=constants$1.FETCH_ALL=void 0;var FETCH_ALL$4=-1;constants$1.FETCH_ALL=FETCH_ALL$4;var DEFAULT_POOL_ACQUISITION_TIMEOUT=60*1e3;constants$1.DEFAULT_POOL_ACQUISITION_TIMEOUT=DEFAULT_POOL_ACQUISITION_TIMEOUT;var DEFAULT_POOL_MAX_SIZE=100;constants$1.DEFAULT_POOL_MAX_SIZE=DEFAULT_POOL_MAX_SIZE;var DEFAULT_CONNECTION_TIMEOUT_MILLIS=3e4;constants$1.DEFAULT_CONNECTION_TIMEOUT_MILLIS=DEFAULT_CONNECTION_TIMEOUT_MILLIS;var ACCESS_MODE_READ$1="READ";constants$1.ACCESS_MODE_READ=ACCESS_MODE_READ$1;var ACCESS_MODE_WRITE$1="WRITE";constants$1.ACCESS_MODE_WRITE=ACCESS_MODE_WRITE$1;var BOLT_PROTOCOL_V1$1=1;constants$1.BOLT_PROTOCOL_V1=BOLT_PROTOCOL_V1$1;var BOLT_PROTOCOL_V2$1=2;constants$1.BOLT_PROTOCOL_V2=BOLT_PROTOCOL_V2$1;var BOLT_PROTOCOL_V3$3=3;constants$1.BOLT_PROTOCOL_V3=BOLT_PROTOCOL_V3$3;var BOLT_PROTOCOL_V4_0$3=4;constants$1.BOLT_PROTOCOL_V4_0=BOLT_PROTOCOL_V4_0$3;var BOLT_PROTOCOL_V4_1$1=4.1;constants$1.BOLT_PROTOCOL_V4_1=BOLT_PROTOCOL_V4_1$1;var BOLT_PROTOCOL_V4_2$1=4.2;constants$1.BOLT_PROTOCOL_V4_2=BOLT_PROTOCOL_V4_2$1;var BOLT_PROTOCOL_V4_3$1=4.3;constants$1.BOLT_PROTOCOL_V4_3=BOLT_PROTOCOL_V4_3$1;var BOLT_PROTOCOL_V4_4$3=4.4;constants$1.BOLT_PROTOCOL_V4_4=BOLT_PROTOCOL_V4_4$3;var BOLT_PROTOCOL_V5_0$1=5;constants$1.BOLT_PROTOCOL_V5_0=BOLT_PROTOCOL_V5_0$1;var connectionHolder$1={},__extends$G=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__awaiter$c=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function s(f){try{c(n.next(f))}catch(v){u(v)}}function l(f){try{c(n.throw(f))}catch(v){u(v)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((n=n.apply(e,t||[])).next())})},__generator$e=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(connectionHolder$1,"__esModule",{value:!0});connectionHolder$1.EMPTY_CONNECTION_HOLDER=connectionHolder$1.ReadOnlyConnectionHolder=connectionHolder$1.ConnectionHolder=void 0;var error_1$6=error$1,util_1$5=util$4,constants_1$2=constants$1,bookmarks_1$3=bookmarks$1,ConnectionHolder=function(){function e(t){var r=t===void 0?{}:t,n=r.mode,o=n===void 0?constants_1$2.ACCESS_MODE_WRITE:n,a=r.database,u=a===void 0?"":a,s=r.bookmarks,l=r.connectionProvider,c=r.impersonatedUser,f=r.onDatabaseNameResolved,v=r.getConnectionAcquistionBookmarks;this._mode=o,this._database=u!=null?(0,util_1$5.assertString)(u,"database"):"",this._bookmarks=s!=null?s:bookmarks_1$3.Bookmarks.empty(),this._connectionProvider=l,this._impersonatedUser=c,this._referenceCount=0,this._connectionPromise=Promise.resolve(null),this._onDatabaseNameResolved=f,this._getConnectionAcquistionBookmarks=v!=null?v:function(){return Promise.resolve(bookmarks_1$3.Bookmarks.empty())}}return e.prototype.mode=function(){return this._mode},e.prototype.database=function(){return this._database},e.prototype.setDatabase=function(t){this._database=t},e.prototype.bookmarks=function(){return this._bookmarks},e.prototype.connectionProvider=function(){return this._connectionProvider},e.prototype.referenceCount=function(){return this._referenceCount},e.prototype.initializeConnection=function(){if(this._referenceCount===0&&this._connectionProvider!=null)this._connectionPromise=this._createConnectionPromise(this._connectionProvider);else return this._referenceCount++,!1;return this._referenceCount++,!0},e.prototype._createConnectionPromise=function(t){return __awaiter$c(this,void 0,void 0,function(){var r,n,o;return __generator$e(this,function(a){switch(a.label){case 0:return n=(r=t).acquireConnection,o={accessMode:this._mode,database:this._database},[4,this._getBookmarks()];case 1:return[4,n.apply(r,[(o.bookmarks=a.sent(),o.impersonatedUser=this._impersonatedUser,o.onDatabaseNameResolved=this._onDatabaseNameResolved,o)])];case 2:return[2,a.sent()]}})})},e.prototype._getBookmarks=function(){return __awaiter$c(this,void 0,void 0,function(){return __generator$e(this,function(t){switch(t.label){case 0:return[4,this._getConnectionAcquistionBookmarks()];case 1:return[2,t.sent()]}})})},e.prototype.getConnection=function(){return this._connectionPromise},e.prototype.releaseConnection=function(){return this._referenceCount===0?this._connectionPromise:(this._referenceCount--,this._referenceCount===0?this._releaseConnection():this._connectionPromise)},e.prototype.close=function(t){return this._referenceCount===0?this._connectionPromise:(this._referenceCount=0,this._releaseConnection(t))},e.prototype._releaseConnection=function(t){return this._connectionPromise=this._connectionPromise.then(function(r){return r!=null?r.isOpen()&&(r.hasOngoingObservableRequests()||t===!0)?r.resetAndFlush().catch(ignoreError).then(function(){return r._release().then(function(){return null})}):r._release().then(function(){return null}):Promise.resolve(null)}).catch(ignoreError),this._connectionPromise},e}();connectionHolder$1.ConnectionHolder=ConnectionHolder;var ReadOnlyConnectionHolder=function(e){__extends$G(t,e);function t(r){var n=e.call(this,{mode:r.mode(),database:r.database(),bookmarks:r.bookmarks(),getConnectionAcquistionBookmarks:r._getConnectionAcquistionBookmarks,connectionProvider:r.connectionProvider()})||this;return n._connectionHolder=r,n}return t.prototype.initializeConnection=function(){return this._connectionHolder.referenceCount()!==0},t.prototype.getConnection=function(){return this._connectionHolder.getConnection()},t.prototype.releaseConnection=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},t.prototype.close=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},t}(ConnectionHolder);connectionHolder$1.ReadOnlyConnectionHolder=ReadOnlyConnectionHolder;connectionHolder$1.default=ReadOnlyConnectionHolder;var EmptyConnectionHolder=function(e){__extends$G(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.mode=function(){},t.prototype.database=function(){},t.prototype.initializeConnection=function(){return!0},t.prototype.getConnection=function(){return __awaiter$c(this,void 0,void 0,function(){return __generator$e(this,function(r){switch(r.label){case 0:return[4,Promise.reject((0,error_1$6.newError)("This connection holder does not serve connections"))];case 1:return[2,r.sent()]}})})},t.prototype.releaseConnection=function(){return __awaiter$c(this,void 0,void 0,function(){return __generator$e(this,function(r){switch(r.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,r.sent()]}})})},t.prototype.close=function(){return __awaiter$c(this,void 0,void 0,function(){return __generator$e(this,function(r){switch(r.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,r.sent()]}})})},t}(ConnectionHolder),EMPTY_CONNECTION_HOLDER$1=new EmptyConnectionHolder;connectionHolder$1.EMPTY_CONNECTION_HOLDER=EMPTY_CONNECTION_HOLDER$1;function ignoreError(e){return null}var txConfig$1={},__createBinding$7=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),__setModuleDefault$7=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$7=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding$7(t,e,r);return __setModuleDefault$7(t,e),t};Object.defineProperty(txConfig$1,"__esModule",{value:!0});txConfig$1.TxConfig=void 0;var util$1=__importStar$7(util$4),error_1$5=error$1,integer_1=integer,TxConfig$3=function(){function e(t){assertValidConfig(t),this.timeout=extractTimeout(t),this.metadata=extractMetadata(t)}return e.empty=function(){return EMPTY_CONFIG},e.prototype.isEmpty=function(){return Object.values(this).every(function(t){return t==null})},e}();txConfig$1.TxConfig=TxConfig$3;var EMPTY_CONFIG=new TxConfig$3({});function extractTimeout(e){if(util$1.isObject(e)&&e.timeout!=null){util$1.assertNumberOrInteger(e.timeout,"Transaction timeout");var t=(0,integer_1.int)(e.timeout);if(t.isNegative())throw(0,error_1$5.newError)("Transaction timeout should not be negative");return t}return null}function extractMetadata(e){if(util$1.isObject(e)&&e.metadata!=null){var t=e.metadata;if(util$1.assertObject(t,"config.metadata"),Object.keys(t).length!==0)return t}return null}function assertValidConfig(e){e!=null&&util$1.assertObject(e,"Transaction config")}var transactionExecutor$1={},__awaiter$b=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function s(f){try{c(n.next(f))}catch(v){u(v)}}function l(f){try{c(n.throw(f))}catch(v){u(v)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((n=n.apply(e,t||[])).next())})},__generator$d=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(transactionExecutor$1,"__esModule",{value:!0});transactionExecutor$1.TransactionExecutor=void 0;var error_1$4=error$1,DEFAULT_MAX_RETRY_TIME_MS=30*1e3,DEFAULT_INITIAL_RETRY_DELAY_MS=1e3,DEFAULT_RETRY_DELAY_MULTIPLIER=2,DEFAULT_RETRY_DELAY_JITTER_FACTOR=.2,TransactionExecutor=function(){function e(t,r,n,o){this._maxRetryTimeMs=_valueOrDefault(t,DEFAULT_MAX_RETRY_TIME_MS),this._initialRetryDelayMs=_valueOrDefault(r,DEFAULT_INITIAL_RETRY_DELAY_MS),this._multiplier=_valueOrDefault(n,DEFAULT_RETRY_DELAY_MULTIPLIER),this._jitterFactor=_valueOrDefault(o,DEFAULT_RETRY_DELAY_JITTER_FACTOR),this._inFlightTimeoutIds=[],this._verifyAfterConstruction()}return e.prototype.execute=function(t,r,n){var o=this;return new Promise(function(a,u){o._executeTransactionInsidePromise(t,r,a,u,n).catch(u)}).catch(function(a){var u=Date.now(),s=o._initialRetryDelayMs;return o._retryTransactionPromise(t,r,a,u,s,n)})},e.prototype.close=function(){this._inFlightTimeoutIds.forEach(function(t){return clearTimeout(t)}),this._inFlightTimeoutIds=[]},e.prototype._retryTransactionPromise=function(t,r,n,o,a,u){var s=this,l=Date.now()-o;return l>this._maxRetryTimeMs||!(0,error_1$4.isRetriableError)(n)?Promise.reject(n):new Promise(function(c,f){var v=s._computeDelayWithJitter(a),b=setTimeout(function(){s._inFlightTimeoutIds=s._inFlightTimeoutIds.filter(function($){return $!==b}),s._executeTransactionInsidePromise(t,r,c,f,u).catch(f)},v);s._inFlightTimeoutIds.push(b)}).catch(function(c){var f=a*s._multiplier;return s._retryTransactionPromise(t,r,c,o,f,u)})},e.prototype._executeTransactionInsidePromise=function(t,r,n,o,a){return __awaiter$b(this,void 0,void 0,function(){var u,s,l,c,f,v=this;return __generator$d(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,t()];case 1:return u=b.sent(),[3,3];case 2:return s=b.sent(),o(s),[2];case 3:return l=a!=null?a:function($){return $},c=l(u),f=this._safeExecuteTransactionWork(c,r),f.then(function($){return v._handleTransactionWorkSuccess($,u,n,o)}).catch(function($){return v._handleTransactionWorkFailure($,u,o)}),[2]}})})},e.prototype._safeExecuteTransactionWork=function(t,r){try{var n=r(t);return Promise.resolve(n)}catch(o){return Promise.reject(o)}},e.prototype._handleTransactionWorkSuccess=function(t,r,n,o){r.isOpen()?r.commit().then(function(){n(t)}).catch(function(a){o(a)}):n(t)},e.prototype._handleTransactionWorkFailure=function(t,r,n){r.isOpen()?r.rollback().catch(function(o){}).then(function(){return n(t)}).catch(n):n(t)},e.prototype._computeDelayWithJitter=function(t){var r=t*this._jitterFactor,n=t-r,o=t+r;return Math.random()*(o-n)+n},e.prototype._verifyAfterConstruction=function(){if(this._maxRetryTimeMs<0)throw(0,error_1$4.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs.toString());if(this._initialRetryDelayMs<0)throw(0,error_1$4.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs.toString());if(this._multiplier<1)throw(0,error_1$4.newError)("Multiplier should be >= 1.0: "+this._multiplier.toString());if(this._jitterFactor<0||this._jitterFactor>1)throw(0,error_1$4.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor.toFixed())},e}();transactionExecutor$1.TransactionExecutor=TransactionExecutor;function _valueOrDefault(e,t){return e!=null?e:t}var logger$1={},__extends$F=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_a$c;Object.defineProperty(logger$1,"__esModule",{value:!0});logger$1.Logger=void 0;var error_1$3=error$1,ERROR="error",WARN="warn",INFO="info",DEBUG="debug",DEFAULT_LEVEL=INFO,levels=(_a$c={},_a$c[ERROR]=0,_a$c[WARN]=1,_a$c[INFO]=2,_a$c[DEBUG]=3,_a$c),Logger$2=function(){function e(t,r){this._level=t,this._loggerFunction=r}return e.create=function(t){if((t==null?void 0:t.logging)!=null){var r=t.logging,n=extractConfiguredLevel(r),o=extractConfiguredLogger(r);return new e(n,o)}return this.noOp()},e.noOp=function(){return noOpLogger},e.prototype.isErrorEnabled=function(){return isLevelEnabled(this._level,ERROR)},e.prototype.error=function(t){this.isErrorEnabled()&&this._loggerFunction(ERROR,t)},e.prototype.isWarnEnabled=function(){return isLevelEnabled(this._level,WARN)},e.prototype.warn=function(t){this.isWarnEnabled()&&this._loggerFunction(WARN,t)},e.prototype.isInfoEnabled=function(){return isLevelEnabled(this._level,INFO)},e.prototype.info=function(t){this.isInfoEnabled()&&this._loggerFunction(INFO,t)},e.prototype.isDebugEnabled=function(){return isLevelEnabled(this._level,DEBUG)},e.prototype.debug=function(t){this.isDebugEnabled()&&this._loggerFunction(DEBUG,t)},e}();logger$1.Logger=Logger$2;var NoOpLogger=function(e){__extends$F(t,e);function t(){return e.call(this,INFO,function(r,n){})||this}return t.prototype.isErrorEnabled=function(){return!1},t.prototype.error=function(r){},t.prototype.isWarnEnabled=function(){return!1},t.prototype.warn=function(r){},t.prototype.isInfoEnabled=function(){return!1},t.prototype.info=function(r){},t.prototype.isDebugEnabled=function(){return!1},t.prototype.debug=function(r){},t}(Logger$2),noOpLogger=new NoOpLogger;function isLevelEnabled(e,t){return levels[e]>=levels[t]}function extractConfiguredLevel(e){if((e==null?void 0:e.level)!=null){var t=e.level,r=levels[t];if(r==null&&r!==0)throw(0,error_1$3.newError)("Illegal logging level: ".concat(t,". Supported levels are: ").concat(Object.keys(levels).toString()));return t}return DEFAULT_LEVEL}function extractConfiguredLogger(e){var t,r;if((e==null?void 0:e.logger)!=null){var n=e.logger;if(n!=null&&typeof n=="function")return n}throw(0,error_1$3.newError)("Illegal logger function: ".concat((r=(t=e==null?void 0:e.logger)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"undefined"))}var urlUtil$2={},__assign$e=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign$e.apply(this,arguments)},__read$r=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a};Object.defineProperty(urlUtil$2,"__esModule",{value:!0});urlUtil$2.Url=urlUtil$2.formatIPv6Address=urlUtil$2.formatIPv4Address=urlUtil$2.defaultPortForScheme=urlUtil$2.parseDatabaseUrl=void 0;var util_1$4=util$4,DEFAULT_BOLT_PORT=7687,DEFAULT_HTTP_PORT=7474,DEFAULT_HTTPS_PORT=7473,Url=function(){function e(t,r,n,o,a){this.scheme=t,this.host=r,this.port=n,this.hostAndPort=o,this.query=a}return e}();urlUtil$2.Url=Url;function parseDatabaseUrl(e){var t;(0,util_1$4.assertString)(e,"URL");var r=sanitizeUrl(e),n=uriJsParse(r.url),o=r.schemeMissing?null:extractScheme(n.scheme),a=extractHost(n.host),u=formatHost(a),s=extractPort(n.port,o),l="".concat(u,":").concat(s),c=extractQuery((t=n.query)!==null&&t!==void 0?t:extractResourceQueryString(n.resourceName),e);return new Url(o,a,s,l,c)}urlUtil$2.parseDatabaseUrl=parseDatabaseUrl;function extractResourceQueryString(e){if(typeof e!="string")return null;var t=__read$r(e.split("?"),2),r=t[1];return r}function sanitizeUrl(e){return e=e.trim(),e.includes("://")?{schemeMissing:!1,url:e}:{schemeMissing:!0,url:"none://".concat(e)}}function extractScheme(e){return e!=null?(e=e.trim(),e.charAt(e.length-1)===":"&&(e=e.substring(0,e.length-1)),e):null}function extractHost(e,t){if(e==null)throw new Error("Unable to extract host from null or undefined URL");return e.trim()}function extractPort(e,t){var r=typeof e=="string"?parseInt(e,10):e;return r!=null&&!isNaN(r)?r:defaultPortForScheme(t)}function extractQuery(e,t){var r=e!=null?trimAndSanitizeQuery(e):null,n={};return r!=null&&r.split("&").forEach(function(o){var a=o.split("=");if(a.length!==2)throw new Error("Invalid parameters: '".concat(a.toString(),"' in URL '").concat(t,"'."));var u=trimAndVerifyQueryElement(a[0],"key",t),s=trimAndVerifyQueryElement(a[1],"value",t);if(n[u]!==void 0)throw new Error("Duplicated query parameters with key '".concat(u,"' in URL '").concat(t,"'"));n[u]=s}),n}function trimAndSanitizeQuery(e){return e=(e!=null?e:"").trim(),(e==null?void 0:e.charAt(0))==="?"&&(e=e.substring(1,e.length)),e}function trimAndVerifyQueryElement(e,t,r){if(e=(e!=null?e:"").trim(),e==="")throw new Error("Illegal empty ".concat(t," in URL query '").concat(r,"'"));return e}function escapeIPv6Address(e){var t=e.charAt(0)==="[",r=e.charAt(e.length-1)==="]";if(!t&&!r)return"[".concat(e,"]");if(t&&r)return e;throw new Error("Illegal IPv6 address ".concat(e))}function formatHost(e){if(e===""||e==null)throw new Error("Illegal host ".concat(e));var t=e.includes(":");return t?escapeIPv6Address(e):e}function formatIPv4Address(e,t){return"".concat(e,":").concat(t)}urlUtil$2.formatIPv4Address=formatIPv4Address;function formatIPv6Address(e,t){var r=escapeIPv6Address(e);return"".concat(r,":").concat(t)}urlUtil$2.formatIPv6Address=formatIPv6Address;function defaultPortForScheme(e){return e==="http"?DEFAULT_HTTP_PORT:e==="https"?DEFAULT_HTTPS_PORT:DEFAULT_BOLT_PORT}urlUtil$2.defaultPortForScheme=defaultPortForScheme;function uriJsParse(e){function t(s,l){var c=s.indexOf(l);return c>=0?[s.substring(0,c),s[c],s.substring(c+1)]:[s,"",""]}function r(s,l){var c=s.lastIndexOf(l);return c>=0?[s.substring(0,c),s[c],s.substring(c+1)]:["","",s]}function n(s,l,c){var f=t(s,l),v=t(f[2],c);return[v[0],v[2]]}function o(s){var l={},c;c=r(s,"@"),c[1]==="@"&&(l.userInfo=decodeURIComponent(c[0]),s=c[2]);var f=__read$r(n(s,"[","]"),2),v=f[0],b=f[1];return v!==""?(l.host=v,c=t(b,":")):(c=t(s,":"),l.host=c[0]),c[1]===":"&&(l.port=c[2]),l}var a={},u;return u=t(e,":"),u[1]===":"&&(a.scheme=decodeURIComponent(u[0]),e=u[2]),u=t(e,"#"),u[1]==="#"&&(a.fragment=decodeURIComponent(u[2]),e=u[0]),u=t(e,"?"),u[1]==="?"&&(a.query=u[2],e=u[0]),e.startsWith("//")?(u=t(e.substr(2),"/"),a=__assign$e(__assign$e({},a),o(u[0])),a.path=u[1]+u[2]):a.path=e,a}var serverAddress$1={},__createBinding$6=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),__setModuleDefault$6=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$6=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding$6(t,e,r);return __setModuleDefault$6(t,e),t};Object.defineProperty(serverAddress$1,"__esModule",{value:!0});serverAddress$1.ServerAddress=void 0;var util_1$3=util$4,urlUtil$1=__importStar$6(urlUtil$2),ServerAddress$1=function(){function e(t,r,n,o){this._host=(0,util_1$3.assertString)(t,"host"),this._resolved=r!=null?(0,util_1$3.assertString)(r,"resolved"):null,this._port=(0,util_1$3.assertNumber)(n,"port"),this._hostPort=o,this._stringValue=r!=null?"".concat(o,"(").concat(r,")"):"".concat(o)}return e.prototype.host=function(){return this._host},e.prototype.resolvedHost=function(){return this._resolved!=null?this._resolved:this._host},e.prototype.port=function(){return this._port},e.prototype.resolveWith=function(t){return new e(this._host,t,this._port,this._hostPort)},e.prototype.asHostPort=function(){return this._hostPort},e.prototype.asKey=function(){return this._hostPort},e.prototype.toString=function(){return this._stringValue},e.fromUrl=function(t){var r=urlUtil$1.parseDatabaseUrl(t);return new e(r.host,null,r.port,r.hostAndPort)},e}();serverAddress$1.ServerAddress=ServerAddress$1;var resolver$1={},baseHostNameResolver={};Object.defineProperty(baseHostNameResolver,"__esModule",{value:!0});var BaseHostNameResolver$1=function(){function e(){}return e.prototype.resolve=function(){throw new Error("Abstract function")},e.prototype._resolveToItself=function(t){return Promise.resolve([t])},e}();baseHostNameResolver.default=BaseHostNameResolver$1;var configuredCustomResolver={};Object.defineProperty(configuredCustomResolver,"__esModule",{value:!0});var server_address_1=serverAddress$1;function resolveToSelf(e){return Promise.resolve([e])}var ConfiguredCustomResolver=function(){function e(t){this._resolverFunction=t!=null?t:resolveToSelf}return e.prototype.resolve=function(t){var r=this;return new Promise(function(n){return n(r._resolverFunction(t.asHostPort()))}).then(function(n){if(!Array.isArray(n))throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+"Each address is '<host>:<port>'. Got: ".concat(n));return n.map(function(o){return server_address_1.ServerAddress.fromUrl(o)})})},e}();configuredCustomResolver.default=ConfiguredCustomResolver;var __importDefault$E=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(resolver$1,"__esModule",{value:!0});resolver$1.ConfiguredCustomResolver=resolver$1.BaseHostNameResolver=void 0;var base_host_name_resolver_1=__importDefault$E(baseHostNameResolver);resolver$1.BaseHostNameResolver=base_host_name_resolver_1.default;var configured_custom_resolver_1$1=__importDefault$E(configuredCustomResolver);resolver$1.ConfiguredCustomResolver=configured_custom_resolver_1$1.default;var __createBinding$5=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),__setModuleDefault$5=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$5=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding$5(t,e,r);return __setModuleDefault$5(t,e),t};Object.defineProperty(internal,"__esModule",{value:!0});internal.objectUtil=internal.resolver=internal.serverAddress=internal.urlUtil=internal.logger=internal.transactionExecutor=internal.txConfig=internal.connectionHolder=internal.constants=internal.bookmarks=internal.observer=internal.temporalUtil=internal.util=void 0;var util=__importStar$5(util$4);internal.util=util;var temporalUtil=__importStar$5(temporalUtil$1);internal.temporalUtil=temporalUtil;var observer=__importStar$5(observers);internal.observer=observer;var bookmarks=__importStar$5(bookmarks$1);internal.bookmarks=bookmarks;var constants=__importStar$5(constants$1);internal.constants=constants;var connectionHolder=__importStar$5(connectionHolder$1);internal.connectionHolder=connectionHolder;var txConfig=__importStar$5(txConfig$1);internal.txConfig=txConfig;var transactionExecutor=__importStar$5(transactionExecutor$1);internal.transactionExecutor=transactionExecutor;var logger=__importStar$5(logger$1);internal.logger=logger;var urlUtil=__importStar$5(urlUtil$2);internal.urlUtil=urlUtil;var serverAddress=__importStar$5(serverAddress$1);internal.serverAddress=serverAddress;var resolver=__importStar$5(resolver$1);internal.resolver=resolver;var objectUtil$1=__importStar$5(objectUtil$2);internal.objectUtil=objectUtil$1;var __awaiter$a=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function s(f){try{c(n.next(f))}catch(v){u(v)}}function l(f){try{c(n.throw(f))}catch(v){u(v)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((n=n.apply(e,t||[])).next())})},__generator$c=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},__importDefault$D=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(result,"__esModule",{value:!0});var result_summary_1=__importDefault$D(resultSummary),internal_1=internal,error_1$2=error$1,EMPTY_CONNECTION_HOLDER=internal_1.connectionHolder.EMPTY_CONNECTION_HOLDER,DEFAULT_ON_ERROR=function(e){console.log("Uncaught error when processing result: "+e)},DEFAULT_ON_COMPLETED=function(e){},DEFAULT_ON_KEYS=function(e){},Result=function(){function e(t,r,n,o,a){a===void 0&&(a={high:Number.MAX_VALUE,low:Number.MAX_VALUE}),this._stack=captureStacktrace(),this._streamObserverPromise=t,this._p=null,this._query=r,this._parameters=n!=null?n:{},this._connectionHolder=o!=null?o:EMPTY_CONNECTION_HOLDER,this._keys=null,this._summary=null,this._error=null,this._watermarks=a}return e.prototype.keys=function(){var t=this;return this._keys!==null?Promise.resolve(this._keys):this._error!==null?Promise.reject(this._error):new Promise(function(r,n){t._streamObserverPromise.then(function(o){return o.subscribe(t._decorateObserver({onKeys:function(a){return r(a)},onError:function(a){return n(a)}}))}).catch(n)})},e.prototype.summary=function(){var t=this;return this._summary!==null?Promise.resolve(this._summary):this._error!==null?Promise.reject(this._error):new Promise(function(r,n){t._streamObserverPromise.then(function(o){o.cancel(),o.subscribe(t._decorateObserver({onCompleted:function(a){return r(a)},onError:function(a){return n(a)}}))}).catch(n)})},e.prototype._getOrCreatePromise=function(){var t=this;return this._p==null&&(this._p=new Promise(function(r,n){var o=[],a={onNext:function(u){o.push(u)},onCompleted:function(u){r({records:o,summary:u})},onError:function(u){n(u)}};t.subscribe(a)})),this._p},e.prototype[Symbol.asyncIterator]=function(){var t=this;if(!this.isOpen()){var r=(0,error_1$2.newError)("Result is already consumed");return{next:function(){return Promise.reject(r)},peek:function(){return Promise.reject(r)}}}var n={paused:!0,firstRun:!0,finished:!1},o=function(){var s,l;if(n.streaming!=null){var c=(l=(s=n.queuedObserver)===null||s===void 0?void 0:s.size)!==null&&l!==void 0?l:0,f=c>=t._watermarks.high,v=c<=t._watermarks.low;f&&!n.paused?(n.paused=!0,n.streaming.pause()):(v&&n.paused||n.firstRun&&!f)&&(n.firstRun=!1,n.paused=!1,n.streaming.resume())}},a=function(){return __awaiter$a(t,void 0,void 0,function(){var s;return __generator$c(this,function(l){switch(l.label){case 0:return n.queuedObserver!==void 0?[3,2]:(n.queuedObserver=this._createQueuedResultObserver(o),s=n,[4,this._subscribe(n.queuedObserver,!0).catch(function(){})]);case 1:s.streaming=l.sent(),o(),l.label=2;case 2:return[2,n.queuedObserver]}})})},u=function(s){if(s===void 0)throw(0,error_1$2.newError)("InvalidState: Result stream finished without Summary",error_1$2.PROTOCOL_ERROR);return!0};return{next:function(){return __awaiter$a(t,void 0,void 0,function(){var s,l;return __generator$c(this,function(c){switch(c.label){case 0:return n.finished&&u(n.summary)?[2,{done:!0,value:n.summary}]:[4,a()];case 1:return s=c.sent(),[4,s.dequeue()];case 2:return l=c.sent(),l.done===!0&&(n.finished=l.done,n.summary=l.value),[2,l]}})})},return:function(s){return __awaiter$a(t,void 0,void 0,function(){var l,c,f;return __generator$c(this,function(v){switch(v.label){case 0:return n.finished&&u(n.summary)?[2,{done:!0,value:s!=null?s:n.summary}]:((f=n.streaming)===null||f===void 0||f.cancel(),[4,a()]);case 1:return l=v.sent(),[4,l.dequeueUntilDone()];case 2:return c=v.sent(),n.finished=!0,c.value=s!=null?s:c.value,n.summary=c.value,[2,c]}})})},peek:function(){return __awaiter$a(t,void 0,void 0,function(){var s;return __generator$c(this,function(l){switch(l.label){case 0:return n.finished&&u(n.summary)?[2,{done:!0,value:n.summary}]:[4,a()];case 1:return s=l.sent(),[4,s.head()];case 2:return[2,l.sent()]}})})}}},e.prototype.then=function(t,r){return this._getOrCreatePromise().then(t,r)},e.prototype.catch=function(t){return this._getOrCreatePromise().catch(t)},e.prototype.finally=function(t){return this._getOrCreatePromise().finally(t)},e.prototype.subscribe=function(t){this._subscribe(t).catch(function(){})},e.prototype.isOpen=function(){return this._summary===null&&this._error===null},e.prototype._subscribe=function(t,r){r===void 0&&(r=!1);var n=this._decorateObserver(t);return this._streamObserverPromise.then(function(o){return r&&o.pause(),o.subscribe(n),o}).catch(function(o){return n.onError!=null&&n.onError(o),Promise.reject(o)})},e.prototype._decorateObserver=function(t){var r=this,n,o,a,u=(n=t.onCompleted)!==null&&n!==void 0?n:DEFAULT_ON_COMPLETED,s=(o=t.onError)!==null&&o!==void 0?o:DEFAULT_ON_ERROR,l=(a=t.onKeys)!==null&&a!==void 0?a:DEFAULT_ON_KEYS,c=function(b){r._releaseConnectionAndGetSummary(b).then(function($){return r._summary!==null?u.call(t,r._summary):(r._summary=$,u.call(t,$))}).catch(s)},f=function(b){r._connectionHolder.releaseConnection().then(function(){replaceStacktrace(b,r._stack),r._error=b,s.call(t,b)}).catch(s)},v=function(b){return r._keys=b,l.call(t,b)};return{onNext:t.onNext!=null?t.onNext.bind(t):void 0,onKeys:v,onCompleted:c,onError:f}},e.prototype._cancel=function(){this._summary===null&&this._error===null&&this._streamObserverPromise.then(function(t){return t.cancel()}).catch(function(){})},e.prototype._releaseConnectionAndGetSummary=function(t){var r=internal_1.util.validateQueryAndParameters(this._query,this._parameters,{skipAsserts:!0}),n=r.validatedQuery,o=r.params,a=this._connectionHolder;return a.getConnection().then(function(u){return a.releaseConnection().then(function(){var s;return(s=u==null?void 0:u.protocol())===null||s===void 0?void 0:s.version})},function(u){}).then(function(u){return new result_summary_1.default(n,o,t,u)})},e.prototype._createQueuedResultObserver=function(t){var r=this;function n(){var c={};return c.promise=new Promise(function(f,v){c.resolve=f,c.reject=v}),c}function o(c){return c instanceof Error}function a(){var c;return __awaiter$a(this,void 0,void 0,function(){var f;return __generator$c(this,function(v){switch(v.label){case 0:if(u.length>0){if(f=(c=u.shift())!==null&&c!==void 0?c:(0,error_1$2.newError)("Unexpected empty buffer",error_1$2.PROTOCOL_ERROR),t(),o(f))throw f;return[2,f]}return s.resolvable=n(),[4,s.resolvable.promise];case 1:return[2,v.sent()]}})})}var u=[],s={resolvable:null},l={onNext:function(c){l._push({done:!1,value:c})},onCompleted:function(c){l._push({done:!0,value:c})},onError:function(c){l._push(c)},_push:function(c){if(s.resolvable!==null){var f=s.resolvable;s.resolvable=null,o(c)?f.reject(c):f.resolve(c)}else u.push(c),t()},dequeue:a,dequeueUntilDone:function(){return __awaiter$a(r,void 0,void 0,function(){var c;return __generator$c(this,function(f){switch(f.label){case 0:return[4,a()];case 1:return c=f.sent(),c.done===!0?[2,c]:[3,0];case 2:return[2]}})})},head:function(){return __awaiter$a(r,void 0,void 0,function(){var c,c,f;return __generator$c(this,function(v){switch(v.label){case 0:if(u.length>0){if(c=u[0],o(c))throw c;return[2,c]}s.resolvable=n(),v.label=1;case 1:return v.trys.push([1,3,4,5]),[4,s.resolvable.promise];case 2:return c=v.sent(),u.unshift(c),[2,c];case 3:throw f=v.sent(),u.unshift(f),f;case 4:return t(),[7];case 5:return[2]}})})},get size(){return u.length}};return l},e}();function captureStacktrace(){var e=new Error("");return e.stack!=null?e.stack.replace(/^Error(\n\r)*/,""):null}function replaceStacktrace(e,t){t!=null&&(e.stack=e.toString()+`
`+t)}result.default=Result;var connectionProvider$1={};Object.defineProperty(connectionProvider$1,"__esModule",{value:!0});var ConnectionProvider=function(){function e(){}return e.prototype.acquireConnection=function(t){throw Error("Not implemented")},e.prototype.supportsMultiDb=function(){throw Error("Not implemented")},e.prototype.supportsTransactionConfig=function(){throw Error("Not implemented")},e.prototype.supportsUserImpersonation=function(){throw Error("Not implemented")},e.prototype.verifyConnectivityAndGetServerInfo=function(t){throw Error("Not implemented")},e.prototype.getNegotiatedProtocolVersion=function(){throw Error("Not Implemented")},e.prototype.close=function(){throw Error("Not implemented")},e}();connectionProvider$1.default=ConnectionProvider;var connection$2={};Object.defineProperty(connection$2,"__esModule",{value:!0});var Connection$1=function(){function e(){}return Object.defineProperty(e.prototype,"id",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"databaseId",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"server",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"address",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){},enumerable:!1,configurable:!0}),e.prototype.isOpen=function(){return!1},e.prototype.protocol=function(){throw Error("Not implemented")},e.prototype.connect=function(t,r){throw Error("Not implemented")},e.prototype.write=function(t,r,n){throw Error("Not implemented")},e.prototype.resetAndFlush=function(){throw Error("Not implemented")},e.prototype.hasOngoingObservableRequests=function(){throw Error("Not implemented")},e.prototype.close=function(){throw Error("Not implemented")},e.prototype._release=function(){return Promise.resolve()},e}();connection$2.default=Connection$1;var transaction={},__awaiter$9=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function s(f){try{c(n.next(f))}catch(v){u(v)}}function l(f){try{c(n.throw(f))}catch(v){u(v)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((n=n.apply(e,t||[])).next())})},__generator$b=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},__importDefault$C=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(transaction,"__esModule",{value:!0});var util_1$2=util$4,connection_holder_1$1=connectionHolder$1,bookmarks_1$2=bookmarks$1,tx_config_1$1=txConfig$1,observers_1$1=observers,error_1$1=error$1,result_1$1=__importDefault$C(result),Transaction=function(){function e(t){var r=t.connectionHolder,n=t.onClose,o=t.onBookmarks,a=t.onConnection,u=t.reactive,s=t.fetchSize,l=t.impersonatedUser,c=t.highRecordWatermark,f=t.lowRecordWatermark,v=this;this._connectionHolder=r,this._reactive=u,this._state=_states$1.ACTIVE,this._onClose=n,this._onBookmarks=o,this._onConnection=a,this._onError=this._onErrorCallback.bind(this),this._fetchSize=s,this._onComplete=this._onCompleteCallback.bind(this),this._results=[],this._impersonatedUser=l,this._lowRecordWatermak=f,this._highRecordWatermark=c,this._bookmarks=bookmarks_1$2.Bookmarks.empty(),this._acceptActive=function(){},this._activePromise=new Promise(function(b,$){v._acceptActive=b})}return e.prototype._begin=function(t,r,n){var o=this;this._connectionHolder.getConnection().then(function(a){return __awaiter$9(o,void 0,void 0,function(){var u,s=this;return __generator$b(this,function(l){switch(l.label){case 0:return this._onConnection(),a==null?[3,2]:(u=this,[4,t()]);case 1:return u._bookmarks=l.sent(),[2,a.protocol().beginTransaction({bookmarks:this._bookmarks,txConfig:r,mode:this._connectionHolder.mode(),database:this._connectionHolder.database(),impersonatedUser:this._impersonatedUser,beforeError:function(c){return n!=null&&n.onError(c),s._onError(c)},afterComplete:function(c){return n!=null&&n.onComplete(c),s._onComplete(c)}})];case 2:throw(0,error_1$1.newError)("No connection available")}})})}).catch(function(a){n!=null&&n.onError(a),o._onError(a).catch(function(){})}).finally(function(){return o._acceptActive()})},e.prototype.run=function(t,r){var n=(0,util_1$2.validateQueryAndParameters)(t,r),o=n.validatedQuery,a=n.params,u=this._state.run(o,a,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize,highRecordWatermark:this._highRecordWatermark,lowRecordWatermark:this._lowRecordWatermak,preparationJob:this._activePromise});return this._results.push(u),u},e.prototype.commit=function(){var t=this,r=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:function(n){return t._onCompleteCallback(n,t._bookmarks)},onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=r.state,this._onClose(),new Promise(function(n,o){r.result.subscribe({onCompleted:function(){return n()},onError:function(a){return o(a)}})})},e.prototype.rollback=function(){var t=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=t.state,this._onClose(),new Promise(function(r,n){t.result.subscribe({onCompleted:function(){return r()},onError:function(o){return n(o)}})})},e.prototype.isOpen=function(){return this._state===_states$1.ACTIVE},e.prototype.close=function(){return __awaiter$9(this,void 0,void 0,function(){return __generator$b(this,function(t){switch(t.label){case 0:return this.isOpen()?[4,this.rollback()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype._onErrorCallback=function(){return this._state=_states$1.FAILED,this._onClose(),this._connectionHolder.releaseConnection()},e.prototype._onCompleteCallback=function(t,r){this._onBookmarks(new bookmarks_1$2.Bookmarks(t==null?void 0:t.bookmark),r!=null?r:bookmarks_1$2.Bookmarks.empty(),t==null?void 0:t.db)},e}(),_states$1={ACTIVE:{commit:function(e){var t=e.connectionHolder,r=e.onError,n=e.onComplete,o=e.onConnection,a=e.pendingResults,u=e.preparationJob;return{result:finishTransaction(!0,t,r,n,o,a,u),state:_states$1.SUCCEEDED}},rollback:function(e){var t=e.connectionHolder,r=e.onError,n=e.onComplete,o=e.onConnection,a=e.pendingResults,u=e.preparationJob;return{result:finishTransaction(!1,t,r,n,o,a,u),state:_states$1.ROLLED_BACK}},run:function(e,t,r){var n=r.connectionHolder,o=r.onError,a=r.onComplete,u=r.onConnection,s=r.reactive,l=r.fetchSize,c=r.highRecordWatermark,f=r.lowRecordWatermark,v=r.preparationJob,b=v!=null?v:Promise.resolve(),$=n.getConnection().then(function(E){return b.then(function(){return E})}).then(function(E){if(u(),E!=null)return E.protocol().run(e,t,{bookmarks:bookmarks_1$2.Bookmarks.empty(),txConfig:tx_config_1$1.TxConfig.empty(),beforeError:o,afterComplete:a,reactive:s,fetchSize:l,highRecordWatermark:c,lowRecordWatermark:f});throw(0,error_1$1.newError)("No connection available")}).catch(function(E){return new observers_1$1.FailedObserver({error:E,onError:o})});return newCompletedResult($,e,t,n,c,f)}},FAILED:{commit:function(e){var t=e.connectionHolder,r=e.onError;return e.onComplete,{result:newCompletedResult(new observers_1$1.FailedObserver({error:(0,error_1$1.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:r}),"COMMIT",{},t,0,0),state:_states$1.FAILED}},rollback:function(e){var t=e.connectionHolder;return e.onError,e.onComplete,{result:newCompletedResult(new observers_1$1.CompletedObserver,"ROLLBACK",{},t,0,0),state:_states$1.FAILED}},run:function(e,t,r){var n=r.connectionHolder,o=r.onError;return r.onComplete,newCompletedResult(new observers_1$1.FailedObserver({error:(0,error_1$1.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:o}),e,t,n,0,0)}},SUCCEEDED:{commit:function(e){var t=e.connectionHolder,r=e.onError;return e.onComplete,{result:newCompletedResult(new observers_1$1.FailedObserver({error:(0,error_1$1.newError)("Cannot commit this transaction, because it has already been committed."),onError:r}),"COMMIT",{},connection_holder_1$1.EMPTY_CONNECTION_HOLDER,0,0),state:_states$1.SUCCEEDED,connectionHolder:t}},rollback:function(e){var t=e.connectionHolder,r=e.onError;return e.onComplete,{result:newCompletedResult(new observers_1$1.FailedObserver({error:(0,error_1$1.newError)("Cannot rollback this transaction, because it has already been committed."),onError:r}),"ROLLBACK",{},connection_holder_1$1.EMPTY_CONNECTION_HOLDER,0,0),state:_states$1.SUCCEEDED,connectionHolder:t}},run:function(e,t,r){var n=r.connectionHolder,o=r.onError;return r.onComplete,newCompletedResult(new observers_1$1.FailedObserver({error:(0,error_1$1.newError)("Cannot run query in this transaction, because it has already been committed."),onError:o}),e,t,n,0,0)}},ROLLED_BACK:{commit:function(e){var t=e.connectionHolder,r=e.onError;return e.onComplete,{result:newCompletedResult(new observers_1$1.FailedObserver({error:(0,error_1$1.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:r}),"COMMIT",{},t,0,0),state:_states$1.ROLLED_BACK}},rollback:function(e){var t=e.connectionHolder;return e.onError,e.onComplete,{result:newCompletedResult(new observers_1$1.FailedObserver({error:(0,error_1$1.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},t,0,0),state:_states$1.ROLLED_BACK}},run:function(e,t,r){var n=r.connectionHolder,o=r.onError;return r.onComplete,newCompletedResult(new observers_1$1.FailedObserver({error:(0,error_1$1.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:o}),e,t,n,0,0)}}};function finishTransaction(e,t,r,n,o,a,u){var s=u!=null?u:Promise.resolve(),l=t.getConnection().then(function(c){return s.then(function(){return c})}).then(function(c){return o(),a.forEach(function(f){return f._cancel()}),Promise.all(a.map(function(f){return f.summary()})).then(function(f){if(c!=null)return e?c.protocol().commitTransaction({beforeError:r,afterComplete:n}):c.protocol().rollbackTransaction({beforeError:r,afterComplete:n});throw(0,error_1$1.newError)("No connection available")})}).catch(function(c){return new observers_1$1.FailedObserver({error:c,onError:r})});return new result_1$1.default(l,e?"COMMIT":"ROLLBACK",{},t,{high:Number.MAX_VALUE,low:Number.MAX_VALUE})}function newCompletedResult(e,t,r,n,o,a){return n===void 0&&(n=connection_holder_1$1.EMPTY_CONNECTION_HOLDER),new result_1$1.default(Promise.resolve(e),t,r,new connection_holder_1$1.ReadOnlyConnectionHolder(n!=null?n:connection_holder_1$1.EMPTY_CONNECTION_HOLDER),{low:a,high:o})}transaction.default=Transaction;var transactionManaged={};Object.defineProperty(transactionManaged,"__esModule",{value:!0});var ManagedTransaction=function(){function e(t){var r=t.run;this._run=r}return e.fromTransaction=function(t){return new e({run:t.run.bind(t)})},e.prototype.run=function(t,r){return this._run(t,r)},e}();transactionManaged.default=ManagedTransaction;var transactionPromise={},__extends$E=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__assign$d=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign$d.apply(this,arguments)},__importDefault$B=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},_a$b;Object.defineProperty(transactionPromise,"__esModule",{value:!0});var transaction_1=__importDefault$B(transaction),TransactionPromise=function(e){__extends$E(t,e);function t(r){var n=r.connectionHolder,o=r.onClose,a=r.onBookmarks,u=r.onConnection,s=r.reactive,l=r.fetchSize,c=r.impersonatedUser,f=r.highRecordWatermark,v=r.lowRecordWatermark,b=e.call(this,{connectionHolder:n,onClose:o,onBookmarks:a,onConnection:u,reactive:s,fetchSize:l,impersonatedUser:c,highRecordWatermark:f,lowRecordWatermark:v})||this;return b[_a$b]="TransactionPromise",b}return t.prototype.then=function(r,n){return this._getOrCreateBeginPromise().then(r,n)},t.prototype.catch=function(r){return this._getOrCreateBeginPromise().catch(r)},t.prototype.finally=function(r){return this._getOrCreateBeginPromise().finally(r)},t.prototype._getOrCreateBeginPromise=function(){var r=this;return this._beginPromise==null&&(this._beginPromise=new Promise(function(n,o){r._resolve=n,r._reject=o,r._beginError!=null&&o(r._beginError),r._beginMetadata!=null&&n(r._toTransaction())})),this._beginPromise},t.prototype._toTransaction=function(){return __assign$d(__assign$d({},this),{run:e.prototype.run.bind(this),commit:e.prototype.commit.bind(this),rollback:e.prototype.rollback.bind(this),close:e.prototype.close.bind(this),isOpen:e.prototype.isOpen.bind(this),_begin:this._begin.bind(this)})},t.prototype._begin=function(r,n){return e.prototype._begin.call(this,r,n,{onError:this._onBeginError.bind(this),onComplete:this._onBeginMetadata.bind(this)})},t.prototype._onBeginError=function(r){this._beginError=r,this._reject!=null&&this._reject(r)},t.prototype._onBeginMetadata=function(r){this._beginMetadata=r!=null?r:{},this._resolve!=null&&this._resolve(this._toTransaction())},t}(transaction_1.default);_a$b=Symbol.toStringTag;transactionPromise.default=TransactionPromise;var session={},__awaiter$8=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function s(f){try{c(n.next(f))}catch(v){u(v)}}function l(f){try{c(n.throw(f))}catch(v){u(v)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((n=n.apply(e,t||[])).next())})},__generator$a=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},__read$q=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$k=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},__importDefault$A=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(session,"__esModule",{value:!0});var observers_1=observers,util_1$1=util$4,constants_1$1=constants$1,error_1=error$1,result_1=__importDefault$A(result),connection_holder_1=connectionHolder$1,transaction_executor_1=transactionExecutor$1,bookmarks_1$1=bookmarks$1,tx_config_1=txConfig$1,transaction_promise_1=__importDefault$A(transactionPromise),transaction_managed_1=__importDefault$A(transactionManaged),Session=function(){function e(t){var r=t.mode,n=t.connectionProvider,o=t.bookmarks,a=t.database,u=t.config,s=t.reactive,l=t.fetchSize,c=t.impersonatedUser,f=t.bookmarkManager;this._mode=r,this._database=a,this._reactive=s,this._fetchSize=l,this._onDatabaseNameResolved=this._onDatabaseNameResolved.bind(this),this._getConnectionAcquistionBookmarks=this._getConnectionAcquistionBookmarks.bind(this),this._readConnectionHolder=new connection_holder_1.ConnectionHolder({mode:constants_1$1.ACCESS_MODE_READ,database:a,bookmarks:o,connectionProvider:n,impersonatedUser:c,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks}),this._writeConnectionHolder=new connection_holder_1.ConnectionHolder({mode:constants_1$1.ACCESS_MODE_WRITE,database:a,bookmarks:o,connectionProvider:n,impersonatedUser:c,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks}),this._open=!0,this._hasTx=!1,this._impersonatedUser=c,this._lastBookmarks=o!=null?o:bookmarks_1$1.Bookmarks.empty(),this._configuredBookmarks=this._lastBookmarks,this._transactionExecutor=_createTransactionExecutor(u),this._databaseNameResolved=this._database!=="";var v=this._calculateWatermaks();this._lowRecordWatermark=v.low,this._highRecordWatermark=v.high,this._results=[],this._bookmarkManager=f}return e.prototype.run=function(t,r,n){var o=this,a=(0,util_1$1.validateQueryAndParameters)(t,r),u=a.validatedQuery,s=a.params,l=n!=null?new tx_config_1.TxConfig(n):tx_config_1.TxConfig.empty(),c=this._run(u,s,function(f){return __awaiter$8(o,void 0,void 0,function(){var v,b=this;return __generator$a(this,function($){switch($.label){case 0:return[4,this._bookmarks()];case 1:return v=$.sent(),this._assertSessionIsOpen(),[2,f.protocol().run(u,s,{bookmarks:v,txConfig:l,mode:this._mode,database:this._database,impersonatedUser:this._impersonatedUser,afterComplete:function(E){return b._onCompleteCallback(E,v)},reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark})]}})})});return this._results.push(c),c},e.prototype._run=function(t,r,n){var o=this._connectionHolderWithMode(this._mode),a;this._open?!this._hasTx&&o.initializeConnection()?a=o.getConnection().then(function(s){return n(s)}).catch(function(s){return Promise.resolve(new observers_1.FailedObserver({error:s}))}):a=Promise.resolve(new observers_1.FailedObserver({error:(0,error_1.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")})):a=Promise.resolve(new observers_1.FailedObserver({error:(0,error_1.newError)("Cannot run query in a closed session.")}));var u={high:this._highRecordWatermark,low:this._lowRecordWatermark};return new result_1.default(a,t,r,o,u)},e.prototype._acquireConnection=function(t){var r=this,n,o=this._connectionHolderWithMode(this._mode);return this._open?!this._hasTx&&o.initializeConnection()?n=o.getConnection().then(function(a){return t(a)}).then(function(a){return __awaiter$8(r,void 0,void 0,function(){return __generator$a(this,function(u){switch(u.label){case 0:return[4,o.releaseConnection()];case 1:return u.sent(),[2,a]}})})}):n=Promise.reject((0,error_1.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):n=Promise.reject((0,error_1.newError)("Cannot run query in a closed session.")),n},e.prototype.beginTransaction=function(t){var r=t,n=tx_config_1.TxConfig.empty();return r!=null&&(n=new tx_config_1.TxConfig(r)),this._beginTransaction(this._mode,n)},e.prototype._beginTransaction=function(t,r){var n=this;if(!this._open)throw(0,error_1.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,error_1.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var o=e._validateSessionMode(t),a=this._connectionHolderWithMode(o);a.initializeConnection(),this._hasTx=!0;var u=new transaction_promise_1.default({connectionHolder:a,impersonatedUser:this._impersonatedUser,onClose:this._transactionClosed.bind(this),onBookmarks:function(s,l,c){return n._updateBookmarks(s,l,c)},onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark});return u._begin(function(){return n._bookmarks()},r),u},e.prototype._assertSessionIsOpen=function(){if(!this._open)throw(0,error_1.newError)("You cannot run more transactions on a closed session.")},e.prototype._transactionClosed=function(){this._hasTx=!1},e.prototype.lastBookmark=function(){return this.lastBookmarks()},e.prototype.lastBookmarks=function(){return this._lastBookmarks.values()},e.prototype._bookmarks=function(){var t;return __awaiter$8(this,void 0,void 0,function(){var r;return __generator$a(this,function(n){switch(n.label){case 0:return[4,(t=this._bookmarkManager)===null||t===void 0?void 0:t.getAllBookmarks()];case 1:return r=n.sent(),r===void 0?[2,this._lastBookmarks]:[2,new bookmarks_1$1.Bookmarks(__spreadArray$k(__spreadArray$k([],__read$q(r),!1),__read$q(this._configuredBookmarks),!1))]}})})},e.prototype.readTransaction=function(t,r){var n=new tx_config_1.TxConfig(r);return this._runTransaction(constants_1$1.ACCESS_MODE_READ,n,t)},e.prototype.writeTransaction=function(t,r){var n=new tx_config_1.TxConfig(r);return this._runTransaction(constants_1$1.ACCESS_MODE_WRITE,n,t)},e.prototype._runTransaction=function(t,r,n){var o=this;return this._transactionExecutor.execute(function(){return o._beginTransaction(t,r)},n)},e.prototype.executeRead=function(t,r){var n=new tx_config_1.TxConfig(r);return this._executeInTransaction(constants_1$1.ACCESS_MODE_READ,n,t)},e.prototype.executeWrite=function(t,r){var n=new tx_config_1.TxConfig(r);return this._executeInTransaction(constants_1$1.ACCESS_MODE_WRITE,n,t)},e.prototype._executeInTransaction=function(t,r,n){var o=this;return this._transactionExecutor.execute(function(){return o._beginTransaction(t,r)},n,transaction_managed_1.default.fromTransaction)},e.prototype._onDatabaseNameResolved=function(t){if(!this._databaseNameResolved){var r=t!=null?t:"";this._database=r,this._readConnectionHolder.setDatabase(r),this._writeConnectionHolder.setDatabase(r),this._databaseNameResolved=!0}},e.prototype._getConnectionAcquistionBookmarks=function(){var t;return __awaiter$8(this,void 0,void 0,function(){var r;return __generator$a(this,function(n){switch(n.label){case 0:return[4,(t=this._bookmarkManager)===null||t===void 0?void 0:t.getBookmarks("system")];case 1:return r=n.sent(),r===void 0?[2,this._lastBookmarks]:[2,new bookmarks_1$1.Bookmarks(__spreadArray$k(__spreadArray$k([],__read$q(this._configuredBookmarks),!1),__read$q(r),!1))]}})})},e.prototype._updateBookmarks=function(t,r,n){var o,a,u;t!=null&&!t.isEmpty()&&((o=this._bookmarkManager)===null||o===void 0||o.updateBookmarks(n!=null?n:this._database,(a=r==null?void 0:r.values())!==null&&a!==void 0?a:[],(u=t==null?void 0:t.values())!==null&&u!==void 0?u:[]),this._lastBookmarks=t,this._configuredBookmarks=bookmarks_1$1.Bookmarks.empty())},e.prototype.close=function(){return __awaiter$8(this,void 0,void 0,function(){return __generator$a(this,function(t){switch(t.label){case 0:return this._open?(this._open=!1,this._results.forEach(function(r){return r._cancel()}),this._transactionExecutor.close(),[4,this._readConnectionHolder.close(this._hasTx)]):[3,3];case 1:return t.sent(),[4,this._writeConnectionHolder.close(this._hasTx)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype._connectionHolderWithMode=function(t){if(t===constants_1$1.ACCESS_MODE_READ)return this._readConnectionHolder;if(t===constants_1$1.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,error_1.newError)("Unknown access mode: "+t)},e.prototype._onCompleteCallback=function(t,r){this._updateBookmarks(new bookmarks_1$1.Bookmarks(t.bookmark),r,t.db)},e.prototype._calculateWatermaks=function(){return this._fetchSize===constants_1$1.FETCH_ALL?{low:Number.MAX_VALUE,high:Number.MAX_VALUE}:{low:.3*this._fetchSize,high:.7*this._fetchSize}},e._validateSessionMode=function(t){var r=t!=null?t:constants_1$1.ACCESS_MODE_WRITE;if(r!==constants_1$1.ACCESS_MODE_READ&&r!==constants_1$1.ACCESS_MODE_WRITE)throw(0,error_1.newError)("Illegal session mode "+r);return r},e}();function _createTransactionExecutor(e){var t,r=(t=e==null?void 0:e.maxTransactionRetryTime)!==null&&t!==void 0?t:null;return new transaction_executor_1.TransactionExecutor(r)}session.default=Session;var driver$1={},__importDefault$z=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(driver$1,"__esModule",{value:!0});driver$1.WRITE=driver$1.READ=driver$1.Driver=void 0;var bookmarks_1=bookmarks$1,configured_custom_resolver_1=__importDefault$z(configuredCustomResolver),constants_1=constants$1,logger_1=logger$1,session_1=__importDefault$z(session),util_1=util$4,DEFAULT_MAX_CONNECTION_LIFETIME=60*60*1e3,DEFAULT_FETCH_SIZE=1e3,READ$2=constants_1.ACCESS_MODE_READ;driver$1.READ=READ$2;var WRITE$2=constants_1.ACCESS_MODE_WRITE;driver$1.WRITE=WRITE$2;var idGenerator$1=0,Driver=function(){function e(t,r,n,o){r===void 0&&(r={}),o===void 0&&(o=function(u){return new session_1.default(u)}),sanitizeConfig(r);var a=logger_1.Logger.create(r);validateConfig(r,a),this._id=idGenerator$1++,this._meta=t,this._config=r,this._log=a,this._createConnectionProvider=n,this._createSession=o,this._connectionProvider=null,this._afterConstruction()}return e.prototype.verifyConnectivity=function(t){var r=t===void 0?{}:t,n=r.database,o=n===void 0?"":n,a=this._getOrCreateConnectionProvider();return a.verifyConnectivityAndGetServerInfo({database:o,accessMode:READ$2})},e.prototype.getServerInfo=function(t){var r=t===void 0?{}:t,n=r.database,o=n===void 0?"":n,a=this._getOrCreateConnectionProvider();return a.verifyConnectivityAndGetServerInfo({database:o,accessMode:READ$2})},e.prototype.supportsMultiDb=function(){var t=this._getOrCreateConnectionProvider();return t.supportsMultiDb()},e.prototype.supportsTransactionConfig=function(){var t=this._getOrCreateConnectionProvider();return t.supportsTransactionConfig()},e.prototype.supportsUserImpersonation=function(){var t=this._getOrCreateConnectionProvider();return t.supportsUserImpersonation()},e.prototype.getNegotiatedProtocolVersion=function(){var t=this._getOrCreateConnectionProvider();return t.getNegotiatedProtocolVersion()},e.prototype.isEncrypted=function(){return this._isEncrypted()},e.prototype._supportsRouting=function(){return this._meta.routing},e.prototype._isEncrypted=function(){return this._config.encrypted===util_1.ENCRYPTION_ON||this._config.encrypted===!0},e.prototype._getTrust=function(){return this._config.trust},e.prototype.session=function(t){var r=t===void 0?{}:t,n=r.defaultAccessMode,o=n===void 0?WRITE$2:n,a=r.bookmarks,u=r.database,s=u===void 0?"":u,l=r.impersonatedUser,c=r.fetchSize,f=r.bookmarkManager;return this._newSession({defaultAccessMode:o,bookmarkOrBookmarks:a,database:s,reactive:!1,impersonatedUser:l,fetchSize:validateFetchSizeValue(c,this._config.fetchSize),bookmarkManager:f})},e.prototype.close=function(){return this._log.info("Driver ".concat(this._id," closing")),this._connectionProvider!=null?this._connectionProvider.close():Promise.resolve()},e.prototype._afterConstruction=function(){this._log.info("".concat(this._meta.typename," driver ").concat(this._id," created for server address ").concat(this._meta.address.toString()))},e.prototype._newSession=function(t){var r=t.defaultAccessMode,n=t.bookmarkOrBookmarks,o=t.database,a=t.reactive,u=t.impersonatedUser,s=t.fetchSize,l=t.bookmarkManager,c=session_1.default._validateSessionMode(r),f=this._getOrCreateConnectionProvider(),v=n!=null?new bookmarks_1.Bookmarks(n):bookmarks_1.Bookmarks.empty();return this._createSession({mode:c,database:o!=null?o:"",connectionProvider:f,bookmarks:v,config:this._config,reactive:a,impersonatedUser:u,fetchSize:s,bookmarkManager:l})},e.prototype._getOrCreateConnectionProvider=function(){return this._connectionProvider==null&&(this._connectionProvider=this._createConnectionProvider(this._id,this._config,this._log,createHostNameResolver(this._config))),this._connectionProvider},e}();driver$1.Driver=Driver;function validateConfig(e,t){var r=e.resolver;if(r!=null&&typeof r!="function")throw new TypeError("Configured resolver should be a function. Got: ".concat(typeof r));return e.connectionAcquisitionTimeout<e.connectionTimeout&&t.warn('Configuration for "connectionAcquisitionTimeout" should be greater than or equal to "connectionTimeout". Otherwise, the connection acquisition timeout will take precedence for over the connection timeout in scenarios where a new connection is created while it is acquired'),e}function sanitizeConfig(e){e.maxConnectionLifetime=sanitizeIntValue(e.maxConnectionLifetime,DEFAULT_MAX_CONNECTION_LIFETIME),e.maxConnectionPoolSize=sanitizeIntValue(e.maxConnectionPoolSize,constants_1.DEFAULT_POOL_MAX_SIZE),e.connectionAcquisitionTimeout=sanitizeIntValue(e.connectionAcquisitionTimeout,constants_1.DEFAULT_POOL_ACQUISITION_TIMEOUT),e.fetchSize=validateFetchSizeValue(e.fetchSize,DEFAULT_FETCH_SIZE),e.connectionTimeout=extractConnectionTimeout(e)}function sanitizeIntValue(e,t){var r=parseInt(e,10);return r>0||r===0?r:r<0?Number.MAX_SAFE_INTEGER:t}function validateFetchSizeValue(e,t){var r=parseInt(e,10);if(r>0||r===constants_1.FETCH_ALL)return r;if(r===0||r<0)throw new Error("The fetch size can only be a positive value or ".concat(constants_1.FETCH_ALL," for ALL. However fetchSize = ").concat(r));return t}function extractConnectionTimeout(e){var t=parseInt(e.connectionTimeout,10);return t===0||!isNaN(t)&&t<0?null:isNaN(t)?constants_1.DEFAULT_CONNECTION_TIMEOUT_MILLIS:t}function createHostNameResolver(e){return new configured_custom_resolver_1.default(e.resolver)}driver$1.default=Driver;var auth$1={};Object.defineProperty(auth$1,"__esModule",{value:!0});var auth={basic:function(e,t,r){return r!=null?{scheme:"basic",principal:e,credentials:t,realm:r}:{scheme:"basic",principal:e,credentials:t}},kerberos:function(e){return{scheme:"kerberos",principal:"",credentials:e}},bearer:function(e){return{scheme:"bearer",credentials:e}},custom:function(e,t,r,n,o){var a={scheme:n,principal:e};return isNotEmpty(t)&&(a.credentials=t),isNotEmpty(r)&&(a.realm=r),isNotEmpty(o)&&(a.parameters=o),a}};function isNotEmpty(e){return!(e==null||e===""||Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length===0)}auth$1.default=auth;var bookmarkManager$1={},__awaiter$7=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function s(f){try{c(n.next(f))}catch(v){u(v)}}function l(f){try{c(n.throw(f))}catch(v){u(v)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((n=n.apply(e,t||[])).next())})},__generator$9=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},__values$b=commonjsGlobal&&commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$p=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$j=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(bookmarkManager$1,"__esModule",{value:!0});bookmarkManager$1.bookmarkManager=void 0;var BookmarkManager=function(){function e(){throw new Error("Not implemented")}return e.prototype.updateBookmarks=function(t,r,n){return __awaiter$7(this,void 0,void 0,function(){return __generator$9(this,function(o){throw new Error("Not implemented")})})},e.prototype.getBookmarks=function(t){return __awaiter$7(this,void 0,void 0,function(){return __generator$9(this,function(r){throw new Error("Not implemented")})})},e.prototype.getAllBookmarks=function(){return __awaiter$7(this,void 0,void 0,function(){return __generator$9(this,function(t){throw new Error("Not implemented")})})},e.prototype.forget=function(t){return __awaiter$7(this,void 0,void 0,function(){return __generator$9(this,function(r){throw new Error("Not implemented")})})},e}();bookmarkManager$1.default=BookmarkManager;function bookmarkManager(e){var t;e===void 0&&(e={});var r=new Map;return(t=e.initialBookmarks)===null||t===void 0||t.forEach(function(n,o){return r.set(o,new Set(n))}),new Neo4jBookmarkManager(r,e.bookmarksSupplier,e.bookmarksConsumer)}bookmarkManager$1.bookmarkManager=bookmarkManager;var Neo4jBookmarkManager=function(){function e(t,r,n){this._bookmarksPerDb=t,this._bookmarksSupplier=r,this._bookmarksConsumer=n}return e.prototype.updateBookmarks=function(t,r,n){return __awaiter$7(this,void 0,void 0,function(){var o,a,u,c,s,l,c,f,v,b,$;return __generator$9(this,function(E){switch(E.label){case 0:o=this._getOrInitializeBookmarks(t);try{for(a=__values$b(r),u=a.next();!u.done;u=a.next())c=u.value,o.delete(c)}catch(w){f={error:w}}finally{try{u&&!u.done&&(v=a.return)&&v.call(a)}finally{if(f)throw f.error}}try{for(s=__values$b(n),l=s.next();!l.done;l=s.next())c=l.value,o.add(c)}catch(w){b={error:w}}finally{try{l&&!l.done&&($=s.return)&&$.call(s)}finally{if(b)throw b.error}}return typeof this._bookmarksConsumer!="function"?[3,2]:[4,this._bookmarksConsumer(t,__spreadArray$j([],__read$p(o),!1))];case 1:E.sent(),E.label=2;case 2:return[2]}})})},e.prototype._getOrInitializeBookmarks=function(t){var r=this._bookmarksPerDb.get(t);return r===void 0&&(r=new Set,this._bookmarksPerDb.set(t,r)),r},e.prototype.getBookmarks=function(t){var r;return __awaiter$7(this,void 0,void 0,function(){var n,o,a,u,s,l,c;return __generator$9(this,function(f){switch(f.label){case 0:return n=new Set(this._bookmarksPerDb.get(t)),typeof this._bookmarksSupplier!="function"?[3,2]:[4,this._bookmarksSupplier(t)];case 1:o=(r=f.sent())!==null&&r!==void 0?r:[];try{for(a=__values$b(o),u=a.next();!u.done;u=a.next())s=u.value,n.add(s)}catch(v){l={error:v}}finally{try{u&&!u.done&&(c=a.return)&&c.call(a)}finally{if(l)throw l.error}}f.label=2;case 2:return[2,__spreadArray$j([],__read$p(n),!1)]}})})},e.prototype.getAllBookmarks=function(){var t;return __awaiter$7(this,void 0,void 0,function(){var r,n,o,a,u,s,l,b,c,f,v,b,$,E,w,A,I,R;return __generator$9(this,function(x){switch(x.label){case 0:r=new Set;try{for(n=__values$b(this._bookmarksPerDb),o=n.next();!o.done;o=n.next()){a=__read$p(o.value,2),u=a[1];try{for(s=(w=void 0,__values$b(u)),l=s.next();!l.done;l=s.next())b=l.value,r.add(b)}catch(N){w={error:N}}finally{try{l&&!l.done&&(A=s.return)&&A.call(s)}finally{if(w)throw w.error}}}}catch(N){$={error:N}}finally{try{o&&!o.done&&(E=n.return)&&E.call(n)}finally{if($)throw $.error}}return typeof this._bookmarksSupplier!="function"?[3,2]:[4,this._bookmarksSupplier()];case 1:c=(t=x.sent())!==null&&t!==void 0?t:[];try{for(f=__values$b(c),v=f.next();!v.done;v=f.next())b=v.value,r.add(b)}catch(N){I={error:N}}finally{try{v&&!v.done&&(R=f.return)&&R.call(f)}finally{if(I)throw I.error}}x.label=2;case 2:return[2,r]}})})},e.prototype.forget=function(t){return __awaiter$7(this,void 0,void 0,function(){var r,n,o,a,u;return __generator$9(this,function(s){try{for(r=__values$b(t),n=r.next();!n.done;n=r.next())o=n.value,this._bookmarksPerDb.delete(o)}catch(l){a={error:l}}finally{try{n&&!n.done&&(u=r.return)&&u.call(r)}finally{if(a)throw a.error}}return[2]})})},e}(),types$1={};Object.defineProperty(types$1,"__esModule",{value:!0});(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ae,le,H,W){W===void 0&&(W=H);var U=Object.getOwnPropertyDescriptor(le,H);(!U||("get"in U?!le.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return le[H]}}),Object.defineProperty(ae,W,U)}:function(ae,le,H,W){W===void 0&&(W=H),ae[W]=le[H]}),r=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ae,le){Object.defineProperty(ae,"default",{enumerable:!0,value:le})}:function(ae,le){ae.default=le}),n=commonjsGlobal&&commonjsGlobal.__importStar||function(ae){if(ae&&ae.__esModule)return ae;var le={};if(ae!=null)for(var H in ae)H!=="default"&&Object.prototype.hasOwnProperty.call(ae,H)&&t(le,ae,H);return r(le,ae),le},o=commonjsGlobal&&commonjsGlobal.__importDefault||function(ae){return ae&&ae.__esModule?ae:{default:ae}};Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionPromise=e.ManagedTransaction=e.Transaction=e.Connection=e.ConnectionProvider=e.Result=e.Stats=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.Notification=e.ServerInfo=e.queryType=e.ResultSummary=e.Record=e.isPathSegment=e.PathSegment=e.isPath=e.Path=e.isUnboundRelationship=e.UnboundRelationship=e.isRelationship=e.Relationship=e.isNode=e.Node=e.Time=e.LocalTime=e.LocalDateTime=e.isTime=e.isLocalTime=e.isLocalDateTime=e.isDuration=e.isDateTime=e.isDate=e.Duration=e.DateTime=e.Date=e.Point=e.isPoint=e.internal=e.toString=e.toNumber=e.inSafeRange=e.isInt=e.int=e.Integer=e.error=e.isRetriableError=e.Neo4jError=e.newError=void 0,e.bookmarkManager=e.auth=e.json=e.driver=e.types=e.Driver=e.Session=void 0;var a=error$1;Object.defineProperty(e,"newError",{enumerable:!0,get:function(){return a.newError}}),Object.defineProperty(e,"Neo4jError",{enumerable:!0,get:function(){return a.Neo4jError}}),Object.defineProperty(e,"isRetriableError",{enumerable:!0,get:function(){return a.isRetriableError}});var u=n(integer);e.Integer=u.default,Object.defineProperty(e,"int",{enumerable:!0,get:function(){return u.int}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return u.isInt}}),Object.defineProperty(e,"inSafeRange",{enumerable:!0,get:function(){return u.inSafeRange}}),Object.defineProperty(e,"toNumber",{enumerable:!0,get:function(){return u.toNumber}}),Object.defineProperty(e,"toString",{enumerable:!0,get:function(){return u.toString}});var s=temporalTypes;Object.defineProperty(e,"Date",{enumerable:!0,get:function(){return s.Date}}),Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return s.DateTime}}),Object.defineProperty(e,"Duration",{enumerable:!0,get:function(){return s.Duration}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return s.isDate}}),Object.defineProperty(e,"isDateTime",{enumerable:!0,get:function(){return s.isDateTime}}),Object.defineProperty(e,"isDuration",{enumerable:!0,get:function(){return s.isDuration}}),Object.defineProperty(e,"isLocalDateTime",{enumerable:!0,get:function(){return s.isLocalDateTime}}),Object.defineProperty(e,"isLocalTime",{enumerable:!0,get:function(){return s.isLocalTime}}),Object.defineProperty(e,"isTime",{enumerable:!0,get:function(){return s.isTime}}),Object.defineProperty(e,"LocalDateTime",{enumerable:!0,get:function(){return s.LocalDateTime}}),Object.defineProperty(e,"LocalTime",{enumerable:!0,get:function(){return s.LocalTime}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return s.Time}});var l=graphTypes;Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return l.Node}}),Object.defineProperty(e,"isNode",{enumerable:!0,get:function(){return l.isNode}}),Object.defineProperty(e,"Relationship",{enumerable:!0,get:function(){return l.Relationship}}),Object.defineProperty(e,"isRelationship",{enumerable:!0,get:function(){return l.isRelationship}}),Object.defineProperty(e,"UnboundRelationship",{enumerable:!0,get:function(){return l.UnboundRelationship}}),Object.defineProperty(e,"isUnboundRelationship",{enumerable:!0,get:function(){return l.isUnboundRelationship}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return l.Path}}),Object.defineProperty(e,"isPath",{enumerable:!0,get:function(){return l.isPath}}),Object.defineProperty(e,"PathSegment",{enumerable:!0,get:function(){return l.PathSegment}}),Object.defineProperty(e,"isPathSegment",{enumerable:!0,get:function(){return l.isPathSegment}});var c=o(record);e.Record=c.default;var f=spatialTypes;Object.defineProperty(e,"isPoint",{enumerable:!0,get:function(){return f.isPoint}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return f.Point}});var v=n(resultSummary);e.ResultSummary=v.default,Object.defineProperty(e,"queryType",{enumerable:!0,get:function(){return v.queryType}}),Object.defineProperty(e,"ServerInfo",{enumerable:!0,get:function(){return v.ServerInfo}}),Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return v.Notification}}),Object.defineProperty(e,"Plan",{enumerable:!0,get:function(){return v.Plan}}),Object.defineProperty(e,"ProfiledPlan",{enumerable:!0,get:function(){return v.ProfiledPlan}}),Object.defineProperty(e,"QueryStatistics",{enumerable:!0,get:function(){return v.QueryStatistics}}),Object.defineProperty(e,"Stats",{enumerable:!0,get:function(){return v.Stats}});var b=o(result);e.Result=b.default;var $=o(connectionProvider$1);e.ConnectionProvider=$.default;var E=o(connection$2);e.Connection=E.default;var w=o(transaction);e.Transaction=w.default;var A=o(transactionManaged);e.ManagedTransaction=A.default;var I=o(transactionPromise);e.TransactionPromise=I.default;var R=o(session);e.Session=R.default;var x=n(driver$1),N=x;e.Driver=x.default,e.driver=N;var D=o(auth$1);e.auth=D.default;var V=n(bookmarkManager$1);Object.defineProperty(e,"bookmarkManager",{enumerable:!0,get:function(){return V.bookmarkManager}});var Y=n(types$1);e.types=Y;var Q=n(json);e.json=Q;var te=n(internal);e.internal=te;var de={SERVICE_UNAVAILABLE:a.SERVICE_UNAVAILABLE,SESSION_EXPIRED:a.SESSION_EXPIRED,PROTOCOL_ERROR:a.PROTOCOL_ERROR};e.error=de;var ne={newError:a.newError,Neo4jError:a.Neo4jError,isRetriableError:a.isRetriableError,error:de,Integer:u.default,int:u.int,isInt:u.isInt,inSafeRange:u.inSafeRange,toNumber:u.toNumber,toString:u.toString,internal:te,isPoint:f.isPoint,Point:f.Point,Date:s.Date,DateTime:s.DateTime,Duration:s.Duration,isDate:s.isDate,isDateTime:s.isDateTime,isDuration:s.isDuration,isLocalDateTime:s.isLocalDateTime,isLocalTime:s.isLocalTime,isTime:s.isTime,LocalDateTime:s.LocalDateTime,LocalTime:s.LocalTime,Time:s.Time,Node:l.Node,isNode:l.isNode,Relationship:l.Relationship,isRelationship:l.isRelationship,UnboundRelationship:l.UnboundRelationship,isUnboundRelationship:l.isUnboundRelationship,Path:l.Path,isPath:l.isPath,PathSegment:l.PathSegment,isPathSegment:l.isPathSegment,Record:c.default,ResultSummary:v.default,queryType:v.queryType,ServerInfo:v.ServerInfo,Notification:v.Notification,Plan:v.Plan,ProfiledPlan:v.ProfiledPlan,QueryStatistics:v.QueryStatistics,Stats:v.Stats,Result:b.default,Transaction:w.default,ManagedTransaction:A.default,TransactionPromise:I.default,Session:R.default,Driver:x.default,Connection:E.default,types:Y,driver:N,json:Q,auth:D.default,bookmarkManager:V.bookmarkManager};e.default=ne})(lib$1);var sessionRx={},cjs={},Observable$2={},Subscriber$1={},isFunction$2={};Object.defineProperty(isFunction$2,"__esModule",{value:!0});isFunction$2.isFunction=void 0;function isFunction$1(e){return typeof e=="function"}isFunction$2.isFunction=isFunction$1;var Subscription$2={},UnsubscriptionError$1={},createErrorClass$2={};Object.defineProperty(createErrorClass$2,"__esModule",{value:!0});createErrorClass$2.createErrorClass=void 0;function createErrorClass$1(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}createErrorClass$2.createErrorClass=createErrorClass$1;Object.defineProperty(UnsubscriptionError$1,"__esModule",{value:!0});UnsubscriptionError$1.UnsubscriptionError=void 0;var createErrorClass_1$5=createErrorClass$2;UnsubscriptionError$1.UnsubscriptionError=createErrorClass_1$5.createErrorClass(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,o){return o+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});var arrRemove$2={};Object.defineProperty(arrRemove$2,"__esModule",{value:!0});arrRemove$2.arrRemove=void 0;function arrRemove$1(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}arrRemove$2.arrRemove=arrRemove$1;var __values$a=commonjsGlobal&&commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$o=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$i=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(Subscription$2,"__esModule",{value:!0});Subscription$2.isSubscription=Subscription$2.EMPTY_SUBSCRIPTION=Subscription$2.Subscription=void 0;var isFunction_1$p=isFunction$2,UnsubscriptionError_1=UnsubscriptionError$1,arrRemove_1$7=arrRemove$2,Subscription$1=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,o,a;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var s=__values$a(u),l=s.next();!l.done;l=s.next()){var c=l.value;c.remove(this)}}catch(w){t={error:w}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}else u.remove(this);var f=this.initialTeardown;if(isFunction_1$p.isFunction(f))try{f()}catch(w){a=w instanceof UnsubscriptionError_1.UnsubscriptionError?w.errors:[w]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var b=__values$a(v),$=b.next();!$.done;$=b.next()){var E=$.value;try{execFinalizer$1(E)}catch(w){a=a!=null?a:[],w instanceof UnsubscriptionError_1.UnsubscriptionError?a=__spreadArray$i(__spreadArray$i([],__read$o(a)),__read$o(w.errors)):a.push(w)}}}catch(w){n={error:w}}finally{try{$&&!$.done&&(o=b.return)&&o.call(b)}finally{if(n)throw n.error}}}if(a)throw new UnsubscriptionError_1.UnsubscriptionError(a)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)execFinalizer$1(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&arrRemove_1$7.arrRemove(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&arrRemove_1$7.arrRemove(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();Subscription$2.Subscription=Subscription$1;Subscription$2.EMPTY_SUBSCRIPTION=Subscription$1.EMPTY;function isSubscription$1(e){return e instanceof Subscription$1||e&&"closed"in e&&isFunction_1$p.isFunction(e.remove)&&isFunction_1$p.isFunction(e.add)&&isFunction_1$p.isFunction(e.unsubscribe)}Subscription$2.isSubscription=isSubscription$1;function execFinalizer$1(e){isFunction_1$p.isFunction(e)?e():e.unsubscribe()}var config$1={};Object.defineProperty(config$1,"__esModule",{value:!0});config$1.config=void 0;config$1.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var reportUnhandledError$2={},timeoutProvider$1={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__read||function(n,o){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var u=a.call(n),s,l=[],c;try{for(;(o===void 0||o-- >0)&&!(s=u.next()).done;)l.push(s.value)}catch(f){c={error:f}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(c)throw c.error}}return l},r=commonjsGlobal&&commonjsGlobal.__spreadArray||function(n,o){for(var a=0,u=o.length,s=n.length;a<u;a++,s++)n[s]=o[a];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutProvider=void 0,e.timeoutProvider={setTimeout:function(n,o){for(var a=[],u=2;u<arguments.length;u++)a[u-2]=arguments[u];var s=e.timeoutProvider.delegate;return s!=null&&s.setTimeout?s.setTimeout.apply(s,r([n,o],t(a))):setTimeout.apply(void 0,r([n,o],t(a)))},clearTimeout:function(n){var o=e.timeoutProvider.delegate;return((o==null?void 0:o.clearTimeout)||clearTimeout)(n)},delegate:void 0}})(timeoutProvider$1);Object.defineProperty(reportUnhandledError$2,"__esModule",{value:!0});reportUnhandledError$2.reportUnhandledError=void 0;var config_1$2=config$1,timeoutProvider_1=timeoutProvider$1;function reportUnhandledError$1(e){timeoutProvider_1.timeoutProvider.setTimeout(function(){var t=config_1$2.config.onUnhandledError;if(t)t(e);else throw e})}reportUnhandledError$2.reportUnhandledError=reportUnhandledError$1;var noop$2={};Object.defineProperty(noop$2,"__esModule",{value:!0});noop$2.noop=void 0;function noop$1(){}noop$2.noop=noop$1;var NotificationFactories={};Object.defineProperty(NotificationFactories,"__esModule",{value:!0});NotificationFactories.createNotification=NotificationFactories.nextNotification=NotificationFactories.errorNotification=NotificationFactories.COMPLETE_NOTIFICATION=void 0;NotificationFactories.COMPLETE_NOTIFICATION=function(){return createNotification$1("C",void 0,void 0)}();function errorNotification$1(e){return createNotification$1("E",void 0,e)}NotificationFactories.errorNotification=errorNotification$1;function nextNotification$1(e){return createNotification$1("N",e,void 0)}NotificationFactories.nextNotification=nextNotification$1;function createNotification$1(e,t,r){return{kind:e,value:t,error:r}}NotificationFactories.createNotification=createNotification$1;var errorContext$2={};Object.defineProperty(errorContext$2,"__esModule",{value:!0});errorContext$2.captureError=errorContext$2.errorContext=void 0;var config_1$1=config$1,context$1=null;function errorContext$1(e){if(config_1$1.config.useDeprecatedSynchronousErrorHandling){var t=!context$1;if(t&&(context$1={errorThrown:!1,error:null}),e(),t){var r=context$1,n=r.errorThrown,o=r.error;if(context$1=null,n)throw o}}else e()}errorContext$2.errorContext=errorContext$1;function captureError(e){config_1$1.config.useDeprecatedSynchronousErrorHandling&&context$1&&(context$1.errorThrown=!0,context$1.error=e)}errorContext$2.captureError=captureError;(function(e){var t=commonjsGlobal&&commonjsGlobal.__extends||function(){var R=function(x,N){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,V){D.__proto__=V}||function(D,V){for(var Y in V)Object.prototype.hasOwnProperty.call(V,Y)&&(D[Y]=V[Y])},R(x,N)};return function(x,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");R(x,N);function D(){this.constructor=x}x.prototype=N===null?Object.create(N):(D.prototype=N.prototype,new D)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_OBSERVER=e.SafeSubscriber=e.Subscriber=void 0;var r=isFunction$2,n=Subscription$2,o=config$1,a=reportUnhandledError$2,u=noop$2,s=NotificationFactories,l=timeoutProvider$1,c=errorContext$2,f=function(R){t(x,R);function x(N){var D=R.call(this)||this;return D.isStopped=!1,N?(D.destination=N,n.isSubscription(N)&&N.add(D)):D.destination=e.EMPTY_OBSERVER,D}return x.create=function(N,D,V){return new E(N,D,V)},x.prototype.next=function(N){this.isStopped?I(s.nextNotification(N),this):this._next(N)},x.prototype.error=function(N){this.isStopped?I(s.errorNotification(N),this):(this.isStopped=!0,this._error(N))},x.prototype.complete=function(){this.isStopped?I(s.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},x.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,R.prototype.unsubscribe.call(this),this.destination=null)},x.prototype._next=function(N){this.destination.next(N)},x.prototype._error=function(N){try{this.destination.error(N)}finally{this.unsubscribe()}},x.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},x}(n.Subscription);e.Subscriber=f;var v=Function.prototype.bind;function b(R,x){return v.call(R,x)}var $=function(){function R(x){this.partialObserver=x}return R.prototype.next=function(x){var N=this.partialObserver;if(N.next)try{N.next(x)}catch(D){w(D)}},R.prototype.error=function(x){var N=this.partialObserver;if(N.error)try{N.error(x)}catch(D){w(D)}else w(x)},R.prototype.complete=function(){var x=this.partialObserver;if(x.complete)try{x.complete()}catch(N){w(N)}},R}(),E=function(R){t(x,R);function x(N,D,V){var Y=R.call(this)||this,Q;if(r.isFunction(N)||!N)Q={next:N!=null?N:void 0,error:D!=null?D:void 0,complete:V!=null?V:void 0};else{var te;Y&&o.config.useDeprecatedNextContext?(te=Object.create(N),te.unsubscribe=function(){return Y.unsubscribe()},Q={next:N.next&&b(N.next,te),error:N.error&&b(N.error,te),complete:N.complete&&b(N.complete,te)}):Q=N}return Y.destination=new $(Q),Y}return x}(f);e.SafeSubscriber=E;function w(R){o.config.useDeprecatedSynchronousErrorHandling?c.captureError(R):a.reportUnhandledError(R)}function A(R){throw R}function I(R,x){var N=o.config.onStoppedNotification;N&&l.timeoutProvider.setTimeout(function(){return N(R,x)})}e.EMPTY_OBSERVER={closed:!0,next:u.noop,error:A,complete:u.noop}})(Subscriber$1);var observable$1={};Object.defineProperty(observable$1,"__esModule",{value:!0});observable$1.observable=void 0;observable$1.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();var pipe$2={},identity$3={};Object.defineProperty(identity$3,"__esModule",{value:!0});identity$3.identity=void 0;function identity$2(e){return e}identity$3.identity=identity$2;Object.defineProperty(pipe$2,"__esModule",{value:!0});pipe$2.pipeFromArray=pipe$2.pipe=void 0;var identity_1$e=identity$3;function pipe$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return pipeFromArray$1(e)}pipe$2.pipe=pipe$1;function pipeFromArray$1(e){return e.length===0?identity_1$e.identity:e.length===1?e[0]:function(r){return e.reduce(function(n,o){return o(n)},r)}}pipe$2.pipeFromArray=pipeFromArray$1;Object.defineProperty(Observable$2,"__esModule",{value:!0});Observable$2.Observable=void 0;var Subscriber_1$3=Subscriber$1,Subscription_1$8=Subscription$2,observable_1$2=observable$1,pipe_1$2=pipe$2,config_1=config$1,isFunction_1$o=isFunction$2,errorContext_1$1=errorContext$2,Observable$1=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var o=this,a=isSubscriber$1(t)?t:new Subscriber_1$3.SafeSubscriber(t,r,n);return errorContext_1$1.errorContext(function(){var u=o,s=u.operator,l=u.source;a.add(s?s.call(a,l):l?o._subscribe(a):o._trySubscribe(a))}),a},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=getPromiseCtor$1(r),new r(function(o,a){var u=new Subscriber_1$3.SafeSubscriber({next:function(s){try{t(s)}catch(l){a(l),u.unsubscribe()}},error:a,complete:o});n.subscribe(u)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[observable_1$2.observable]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return pipe_1$2.pipeFromArray(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=getPromiseCtor$1(t),new t(function(n,o){var a;r.subscribe(function(u){return a=u},function(u){return o(u)},function(){return n(a)})})},e.create=function(t){return new e(t)},e}();Observable$2.Observable=Observable$1;function getPromiseCtor$1(e){var t;return(t=e!=null?e:config_1.config.Promise)!==null&&t!==void 0?t:Promise}function isObserver$1(e){return e&&isFunction_1$o.isFunction(e.next)&&isFunction_1$o.isFunction(e.error)&&isFunction_1$o.isFunction(e.complete)}function isSubscriber$1(e){return e&&e instanceof Subscriber_1$3.Subscriber||isObserver$1(e)&&Subscription_1$8.isSubscription(e)}var ConnectableObservable$2={},refCount$2={},lift={};Object.defineProperty(lift,"__esModule",{value:!0});lift.operate=lift.hasLift=void 0;var isFunction_1$n=isFunction$2;function hasLift$1(e){return isFunction_1$n.isFunction(e==null?void 0:e.lift)}lift.hasLift=hasLift$1;function operate$1(e){return function(t){if(hasLift$1(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}lift.operate=operate$1;var OperatorSubscriber$2={},__extends$D=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(OperatorSubscriber$2,"__esModule",{value:!0});OperatorSubscriber$2.OperatorSubscriber=OperatorSubscriber$2.createOperatorSubscriber=void 0;var Subscriber_1$2=Subscriber$1;function createOperatorSubscriber$1(e,t,r,n,o){return new OperatorSubscriber$1(e,t,r,n,o)}OperatorSubscriber$2.createOperatorSubscriber=createOperatorSubscriber$1;var OperatorSubscriber$1=function(e){__extends$D(t,e);function t(r,n,o,a,u,s){var l=e.call(this,r)||this;return l.onFinalize=u,l.shouldUnsubscribe=s,l._next=n?function(c){try{n(c)}catch(f){r.error(f)}}:e.prototype._next,l._error=a?function(c){try{a(c)}catch(f){r.error(f)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=o?function(){try{o()}catch(c){r.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(Subscriber_1$2.Subscriber);OperatorSubscriber$2.OperatorSubscriber=OperatorSubscriber$1;Object.defineProperty(refCount$2,"__esModule",{value:!0});refCount$2.refCount=void 0;var lift_1$14=lift,OperatorSubscriber_1$U=OperatorSubscriber$2;function refCount$1(){return lift_1$14.operate(function(e,t){var r=null;e._refCount++;var n=OperatorSubscriber_1$U.createOperatorSubscriber(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){r=null;return}var o=e._connection,a=r;r=null,o&&(!a||o===a)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}refCount$2.refCount=refCount$1;var __extends$C=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ConnectableObservable$2,"__esModule",{value:!0});ConnectableObservable$2.ConnectableObservable=void 0;var Observable_1$m=Observable$2,Subscription_1$7=Subscription$2,refCount_1=refCount$2,OperatorSubscriber_1$T=OperatorSubscriber$2,lift_1$13=lift,ConnectableObservable$1=function(e){__extends$C(t,e);function t(r,n){var o=e.call(this)||this;return o.source=r,o.subjectFactory=n,o._subject=null,o._refCount=0,o._connection=null,lift_1$13.hasLift(r)&&(o.lift=r.lift),o}return t.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},t.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r==null||r.unsubscribe()},t.prototype.connect=function(){var r=this,n=this._connection;if(!n){n=this._connection=new Subscription_1$7.Subscription;var o=this.getSubject();n.add(this.source.subscribe(OperatorSubscriber_1$T.createOperatorSubscriber(o,void 0,function(){r._teardown(),o.complete()},function(a){r._teardown(),o.error(a)},function(){return r._teardown()}))),n.closed&&(this._connection=null,n=Subscription_1$7.Subscription.EMPTY)}return n},t.prototype.refCount=function(){return refCount_1.refCount()(this)},t}(Observable_1$m.Observable);ConnectableObservable$2.ConnectableObservable=ConnectableObservable$1;var animationFrames$1={},performanceTimestampProvider={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.performanceTimestampProvider=void 0,e.performanceTimestampProvider={now:function(){return(e.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}})(performanceTimestampProvider);var animationFrameProvider={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__read||function(o,a){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var s=u.call(o),l,c=[],f;try{for(;(a===void 0||a-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){f={error:v}}finally{try{l&&!l.done&&(u=s.return)&&u.call(s)}finally{if(f)throw f.error}}return c},r=commonjsGlobal&&commonjsGlobal.__spreadArray||function(o,a){for(var u=0,s=a.length,l=o.length;u<s;u++,l++)o[l]=a[u];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrameProvider=void 0;var n=Subscription$2;e.animationFrameProvider={schedule:function(o){var a=requestAnimationFrame,u=cancelAnimationFrame,s=e.animationFrameProvider.delegate;s&&(a=s.requestAnimationFrame,u=s.cancelAnimationFrame);var l=a(function(c){u=void 0,o(c)});return new n.Subscription(function(){return u==null?void 0:u(l)})},requestAnimationFrame:function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var u=e.animationFrameProvider.delegate;return((u==null?void 0:u.requestAnimationFrame)||requestAnimationFrame).apply(void 0,r([],t(o)))},cancelAnimationFrame:function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var u=e.animationFrameProvider.delegate;return((u==null?void 0:u.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,r([],t(o)))},delegate:void 0}})(animationFrameProvider);Object.defineProperty(animationFrames$1,"__esModule",{value:!0});animationFrames$1.animationFrames=void 0;var Observable_1$l=Observable$2,performanceTimestampProvider_1=performanceTimestampProvider,animationFrameProvider_1$1=animationFrameProvider;function animationFrames(e){return e?animationFramesFactory(e):DEFAULT_ANIMATION_FRAMES}animationFrames$1.animationFrames=animationFrames;function animationFramesFactory(e){return new Observable_1$l.Observable(function(t){var r=e||performanceTimestampProvider_1.performanceTimestampProvider,n=r.now(),o=0,a=function(){t.closed||(o=animationFrameProvider_1$1.animationFrameProvider.requestAnimationFrame(function(u){o=0;var s=r.now();t.next({timestamp:e?s:u,elapsed:s-n}),a()}))};return a(),function(){o&&animationFrameProvider_1$1.animationFrameProvider.cancelAnimationFrame(o)}})}var DEFAULT_ANIMATION_FRAMES=animationFramesFactory(),Subject$2={},ObjectUnsubscribedError$1={};Object.defineProperty(ObjectUnsubscribedError$1,"__esModule",{value:!0});ObjectUnsubscribedError$1.ObjectUnsubscribedError=void 0;var createErrorClass_1$4=createErrorClass$2;ObjectUnsubscribedError$1.ObjectUnsubscribedError=createErrorClass_1$4.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var __extends$B=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__values$9=commonjsGlobal&&commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Subject$2,"__esModule",{value:!0});Subject$2.AnonymousSubject=Subject$2.Subject=void 0;var Observable_1$k=Observable$2,Subscription_1$6=Subscription$2,ObjectUnsubscribedError_1=ObjectUnsubscribedError$1,arrRemove_1$6=arrRemove$2,errorContext_1=errorContext$2,Subject$1=function(e){__extends$B(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new AnonymousSubject$1(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError},t.prototype.next=function(r){var n=this;errorContext_1.errorContext(function(){var o,a;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var u=__values$9(n.currentObservers),s=u.next();!s.done;s=u.next()){var l=s.value;l.next(r)}}catch(c){o={error:c}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}}})},t.prototype.error=function(r){var n=this;errorContext_1.errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var o=n.observers;o.length;)o.shift().error(r)}})},t.prototype.complete=function(){var r=this;errorContext_1.errorContext(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,o=this,a=o.hasError,u=o.isStopped,s=o.observers;return a||u?Subscription_1$6.EMPTY_SUBSCRIPTION:(this.currentObservers=null,s.push(r),new Subscription_1$6.Subscription(function(){n.currentObservers=null,arrRemove_1$6.arrRemove(s,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,o=n.hasError,a=n.thrownError,u=n.isStopped;o?r.error(a):u&&r.complete()},t.prototype.asObservable=function(){var r=new Observable_1$k.Observable;return r.source=this,r},t.create=function(r,n){return new AnonymousSubject$1(r,n)},t}(Observable_1$k.Observable);Subject$2.Subject=Subject$1;var AnonymousSubject$1=function(e){__extends$B(t,e);function t(r,n){var o=e.call(this)||this;return o.destination=r,o.source=n,o}return t.prototype.next=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,r)},t.prototype.error=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&o!==void 0?o:Subscription_1$6.EMPTY_SUBSCRIPTION},t}(Subject$1);Subject$2.AnonymousSubject=AnonymousSubject$1;var BehaviorSubject$2={},__extends$A=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(BehaviorSubject$2,"__esModule",{value:!0});BehaviorSubject$2.BehaviorSubject=void 0;var Subject_1$e=Subject$2,BehaviorSubject$1=function(e){__extends$A(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){var r=this,n=r.hasError,o=r.thrownError,a=r._value;if(n)throw o;return this._throwIfClosed(),a},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t}(Subject_1$e.Subject);BehaviorSubject$2.BehaviorSubject=BehaviorSubject$1;var ReplaySubject$2={},dateTimestampProvider$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.dateTimestampProvider=void 0,e.dateTimestampProvider={now:function(){return(e.dateTimestampProvider.delegate||Date).now()},delegate:void 0}})(dateTimestampProvider$1);var __extends$z=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ReplaySubject$2,"__esModule",{value:!0});ReplaySubject$2.ReplaySubject=void 0;var Subject_1$d=Subject$2,dateTimestampProvider_1$2=dateTimestampProvider$1,ReplaySubject$1=function(e){__extends$z(t,e);function t(r,n,o){r===void 0&&(r=1/0),n===void 0&&(n=1/0),o===void 0&&(o=dateTimestampProvider_1$2.dateTimestampProvider);var a=e.call(this)||this;return a._bufferSize=r,a._windowTime=n,a._timestampProvider=o,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=n===1/0,a._bufferSize=Math.max(1,r),a._windowTime=Math.max(1,n),a}return t.prototype.next=function(r){var n=this,o=n.isStopped,a=n._buffer,u=n._infiniteTimeWindow,s=n._timestampProvider,l=n._windowTime;o||(a.push(r),!u&&a.push(s.now()+l)),this._trimBuffer(),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),o=this,a=o._infiniteTimeWindow,u=o._buffer,s=u.slice(),l=0;l<s.length&&!r.closed;l+=a?1:2)r.next(s[l]);return this._checkFinalizedStatuses(r),n},t.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,o=r._timestampProvider,a=r._buffer,u=r._infiniteTimeWindow,s=(u?1:2)*n;if(n<1/0&&s<a.length&&a.splice(0,a.length-s),!u){for(var l=o.now(),c=0,f=1;f<a.length&&a[f]<=l;f+=2)c=f;c&&a.splice(0,c+1)}},t}(Subject_1$d.Subject);ReplaySubject$2.ReplaySubject=ReplaySubject$1;var AsyncSubject$2={},__extends$y=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(AsyncSubject$2,"__esModule",{value:!0});AsyncSubject$2.AsyncSubject=void 0;var Subject_1$c=Subject$2,AsyncSubject$1=function(e){__extends$y(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return t.prototype._checkFinalizedStatuses=function(r){var n=this,o=n.hasError,a=n._hasValue,u=n._value,s=n.thrownError,l=n.isStopped,c=n._isComplete;o?r.error(s):(l||c)&&(a&&r.next(u),r.complete())},t.prototype.next=function(r){this.isStopped||(this._value=r,this._hasValue=!0)},t.prototype.complete=function(){var r=this,n=r._hasValue,o=r._value,a=r._isComplete;a||(this._isComplete=!0,n&&e.prototype.next.call(this,o),e.prototype.complete.call(this))},t}(Subject_1$c.Subject);AsyncSubject$2.AsyncSubject=AsyncSubject$1;var asap={},AsapAction$1={},AsyncAction$2={},Action$2={},__extends$x=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Action$2,"__esModule",{value:!0});Action$2.Action=void 0;var Subscription_1$5=Subscription$2,Action$1=function(e){__extends$x(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return this},t}(Subscription_1$5.Subscription);Action$2.Action=Action$1;var intervalProvider$1={};(function(e){var t=commonjsGlobal&&commonjsGlobal.__read||function(n,o){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var u=a.call(n),s,l=[],c;try{for(;(o===void 0||o-- >0)&&!(s=u.next()).done;)l.push(s.value)}catch(f){c={error:f}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(c)throw c.error}}return l},r=commonjsGlobal&&commonjsGlobal.__spreadArray||function(n,o){for(var a=0,u=o.length,s=n.length;a<u;a++,s++)n[s]=o[a];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.intervalProvider=void 0,e.intervalProvider={setInterval:function(n,o){for(var a=[],u=2;u<arguments.length;u++)a[u-2]=arguments[u];var s=e.intervalProvider.delegate;return s!=null&&s.setInterval?s.setInterval.apply(s,r([n,o],t(a))):setInterval.apply(void 0,r([n,o],t(a)))},clearInterval:function(n){var o=e.intervalProvider.delegate;return((o==null?void 0:o.clearInterval)||clearInterval)(n)},delegate:void 0}})(intervalProvider$1);var __extends$w=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(AsyncAction$2,"__esModule",{value:!0});AsyncAction$2.AsyncAction=void 0;var Action_1=Action$2,intervalProvider_1=intervalProvider$1,arrRemove_1$5=arrRemove$2,AsyncAction$1=function(e){__extends$w(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.pending=!1,o}return t.prototype.schedule=function(r,n){var o;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var a=this.id,u=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(u,a,n)),this.pending=!0,this.delay=n,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(u,this.id,n),this},t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),intervalProvider_1.intervalProvider.setInterval(r.flush.bind(r,this),o)},t.prototype.recycleAsyncId=function(r,n,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return n;n!=null&&intervalProvider_1.intervalProvider.clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(r,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var o=!1,a;try{this.work(r)}catch(u){o=!0,a=u||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),a},t.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,o=r.scheduler,a=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,arrRemove_1$5.arrRemove(a,this),n!=null&&(this.id=this.recycleAsyncId(o,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Action_1.Action);AsyncAction$2.AsyncAction=AsyncAction$1;var immediateProvider={},Immediate={};Object.defineProperty(Immediate,"__esModule",{value:!0});Immediate.TestTools=Immediate.Immediate=void 0;var nextHandle=1,resolved,activeHandles={};function findAndClearHandle(e){return e in activeHandles?(delete activeHandles[e],!0):!1}Immediate.Immediate={setImmediate:function(e){var t=nextHandle++;return activeHandles[t]=!0,resolved||(resolved=Promise.resolve()),resolved.then(function(){return findAndClearHandle(t)&&e()}),t},clearImmediate:function(e){findAndClearHandle(e)}};Immediate.TestTools={pending:function(){return Object.keys(activeHandles).length}};(function(e){var t=commonjsGlobal&&commonjsGlobal.__read||function(u,s){var l=typeof Symbol=="function"&&u[Symbol.iterator];if(!l)return u;var c=l.call(u),f,v=[],b;try{for(;(s===void 0||s-- >0)&&!(f=c.next()).done;)v.push(f.value)}catch($){b={error:$}}finally{try{f&&!f.done&&(l=c.return)&&l.call(c)}finally{if(b)throw b.error}}return v},r=commonjsGlobal&&commonjsGlobal.__spreadArray||function(u,s){for(var l=0,c=s.length,f=u.length;l<c;l++,f++)u[f]=s[l];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.immediateProvider=void 0;var n=Immediate,o=n.Immediate.setImmediate,a=n.Immediate.clearImmediate;e.immediateProvider={setImmediate:function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];var l=e.immediateProvider.delegate;return((l==null?void 0:l.setImmediate)||o).apply(void 0,r([],t(u)))},clearImmediate:function(u){var s=e.immediateProvider.delegate;return((s==null?void 0:s.clearImmediate)||a)(u)},delegate:void 0}})(immediateProvider);var __extends$v=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(AsapAction$1,"__esModule",{value:!0});AsapAction$1.AsapAction=void 0;var AsyncAction_1$3=AsyncAction$2,immediateProvider_1=immediateProvider,AsapAction=function(e){__extends$v(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o}return t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,r,n,o):(r.actions.push(this),r._scheduled||(r._scheduled=immediateProvider_1.immediateProvider.setImmediate(r.flush.bind(r,void 0))))},t.prototype.recycleAsyncId=function(r,n,o){var a;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,o);var u=r.actions;n!=null&&((a=u[u.length-1])===null||a===void 0?void 0:a.id)!==n&&(immediateProvider_1.immediateProvider.clearImmediate(n),r._scheduled=void 0)},t}(AsyncAction_1$3.AsyncAction);AsapAction$1.AsapAction=AsapAction;var AsapScheduler$1={},AsyncScheduler$2={},Scheduler$2={};Object.defineProperty(Scheduler$2,"__esModule",{value:!0});Scheduler$2.Scheduler=void 0;var dateTimestampProvider_1$1=dateTimestampProvider$1,Scheduler$1=function(){function e(t,r){r===void 0&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,t).schedule(n,r)},e.now=dateTimestampProvider_1$1.dateTimestampProvider.now,e}();Scheduler$2.Scheduler=Scheduler$1;var __extends$u=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(AsyncScheduler$2,"__esModule",{value:!0});AsyncScheduler$2.AsyncScheduler=void 0;var Scheduler_1=Scheduler$2,AsyncScheduler$1=function(e){__extends$u(t,e);function t(r,n){n===void 0&&(n=Scheduler_1.Scheduler.now);var o=e.call(this,r,n)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var o;this._active=!0;do if(o=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,o){for(;r=n.shift();)r.unsubscribe();throw o}},t}(Scheduler_1.Scheduler);AsyncScheduler$2.AsyncScheduler=AsyncScheduler$1;var __extends$t=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(AsapScheduler$1,"__esModule",{value:!0});AsapScheduler$1.AsapScheduler=void 0;var AsyncScheduler_1$3=AsyncScheduler$2,AsapScheduler=function(e){__extends$t(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var o=this.actions,a;r=r||o.shift();do if(a=r.execute(r.state,r.delay))break;while((r=o[0])&&r.id===n&&o.shift());if(this._active=!1,a){for(;(r=o[0])&&r.id===n&&o.shift();)r.unsubscribe();throw a}},t}(AsyncScheduler_1$3.AsyncScheduler);AsapScheduler$1.AsapScheduler=AsapScheduler;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.asap=e.asapScheduler=void 0;var t=AsapAction$1,r=AsapScheduler$1;e.asapScheduler=new r.AsapScheduler(t.AsapAction),e.asap=e.asapScheduler})(asap);var async$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.async=e.asyncScheduler=void 0;var t=AsyncAction$2,r=AsyncScheduler$2;e.asyncScheduler=new r.AsyncScheduler(t.AsyncAction),e.async=e.asyncScheduler})(async$1);var queue={},QueueAction$1={},__extends$s=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(QueueAction$1,"__esModule",{value:!0});QueueAction$1.QueueAction=void 0;var AsyncAction_1$2=AsyncAction$2,QueueAction=function(e){__extends$s(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o}return t.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?e.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},t.prototype.execute=function(r,n){return n>0||this.closed?e.prototype.execute.call(this,r,n):this._execute(r,n)},t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),o!=null&&o>0||o==null&&this.delay>0?e.prototype.requestAsyncId.call(this,r,n,o):(r.flush(this),0)},t}(AsyncAction_1$2.AsyncAction);QueueAction$1.QueueAction=QueueAction;var QueueScheduler$1={},__extends$r=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(QueueScheduler$1,"__esModule",{value:!0});QueueScheduler$1.QueueScheduler=void 0;var AsyncScheduler_1$2=AsyncScheduler$2,QueueScheduler=function(e){__extends$r(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(AsyncScheduler_1$2.AsyncScheduler);QueueScheduler$1.QueueScheduler=QueueScheduler;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.queue=e.queueScheduler=void 0;var t=QueueAction$1,r=QueueScheduler$1;e.queueScheduler=new r.QueueScheduler(t.QueueAction),e.queue=e.queueScheduler})(queue);var animationFrame={},AnimationFrameAction$1={},__extends$q=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(AnimationFrameAction$1,"__esModule",{value:!0});AnimationFrameAction$1.AnimationFrameAction=void 0;var AsyncAction_1$1=AsyncAction$2,animationFrameProvider_1=animationFrameProvider,AnimationFrameAction=function(e){__extends$q(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o}return t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,r,n,o):(r.actions.push(this),r._scheduled||(r._scheduled=animationFrameProvider_1.animationFrameProvider.requestAnimationFrame(function(){return r.flush(void 0)})))},t.prototype.recycleAsyncId=function(r,n,o){var a;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,o);var u=r.actions;n!=null&&((a=u[u.length-1])===null||a===void 0?void 0:a.id)!==n&&(animationFrameProvider_1.animationFrameProvider.cancelAnimationFrame(n),r._scheduled=void 0)},t}(AsyncAction_1$1.AsyncAction);AnimationFrameAction$1.AnimationFrameAction=AnimationFrameAction;var AnimationFrameScheduler$1={},__extends$p=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(AnimationFrameScheduler$1,"__esModule",{value:!0});AnimationFrameScheduler$1.AnimationFrameScheduler=void 0;var AsyncScheduler_1$1=AsyncScheduler$2,AnimationFrameScheduler=function(e){__extends$p(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var o=this.actions,a;r=r||o.shift();do if(a=r.execute(r.state,r.delay))break;while((r=o[0])&&r.id===n&&o.shift());if(this._active=!1,a){for(;(r=o[0])&&r.id===n&&o.shift();)r.unsubscribe();throw a}},t}(AsyncScheduler_1$1.AsyncScheduler);AnimationFrameScheduler$1.AnimationFrameScheduler=AnimationFrameScheduler;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrame=e.animationFrameScheduler=void 0;var t=AnimationFrameAction$1,r=AnimationFrameScheduler$1;e.animationFrameScheduler=new r.AnimationFrameScheduler(t.AnimationFrameAction),e.animationFrame=e.animationFrameScheduler})(animationFrame);var VirtualTimeScheduler$1={},__extends$o=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(VirtualTimeScheduler$1,"__esModule",{value:!0});VirtualTimeScheduler$1.VirtualAction=VirtualTimeScheduler$1.VirtualTimeScheduler=void 0;var AsyncAction_1=AsyncAction$2,Subscription_1$4=Subscription$2,AsyncScheduler_1=AsyncScheduler$2,VirtualTimeScheduler=function(e){__extends$o(t,e);function t(r,n){r===void 0&&(r=VirtualAction),n===void 0&&(n=1/0);var o=e.call(this,r,function(){return o.frame})||this;return o.maxFrames=n,o.frame=0,o.index=-1,o}return t.prototype.flush=function(){for(var r=this,n=r.actions,o=r.maxFrames,a,u;(u=n[0])&&u.delay<=o&&(n.shift(),this.frame=u.delay,!(a=u.execute(u.state,u.delay))););if(a){for(;u=n.shift();)u.unsubscribe();throw a}},t.frameTimeFactor=10,t}(AsyncScheduler_1.AsyncScheduler);VirtualTimeScheduler$1.VirtualTimeScheduler=VirtualTimeScheduler;var VirtualAction=function(e){__extends$o(t,e);function t(r,n,o){o===void 0&&(o=r.index+=1);var a=e.call(this,r,n)||this;return a.scheduler=r,a.work=n,a.index=o,a.active=!0,a.index=r.index=o,a}return t.prototype.schedule=function(r,n){if(n===void 0&&(n=0),Number.isFinite(n)){if(!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(r,n)}else return Subscription_1$4.Subscription.EMPTY},t.prototype.requestAsyncId=function(r,n,o){o===void 0&&(o=0),this.delay=r.frame+o;var a=r.actions;return a.push(this),a.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(r,n,o){},t.prototype._execute=function(r,n){if(this.active===!0)return e.prototype._execute.call(this,r,n)},t.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},t}(AsyncAction_1.AsyncAction);VirtualTimeScheduler$1.VirtualAction=VirtualAction;var Notification$1={},empty={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.empty=e.EMPTY=void 0;var t=Observable$2;e.EMPTY=new t.Observable(function(o){return o.complete()});function r(o){return o?n(o):e.EMPTY}e.empty=r;function n(o){return new t.Observable(function(a){return o.schedule(function(){return a.complete()})})}})(empty);var of$2={},args={},isScheduler$2={};Object.defineProperty(isScheduler$2,"__esModule",{value:!0});isScheduler$2.isScheduler=void 0;var isFunction_1$m=isFunction$2;function isScheduler$1(e){return e&&isFunction_1$m.isFunction(e.schedule)}isScheduler$2.isScheduler=isScheduler$1;Object.defineProperty(args,"__esModule",{value:!0});args.popNumber=args.popScheduler=args.popResultSelector=void 0;var isFunction_1$l=isFunction$2,isScheduler_1$3=isScheduler$2;function last$4(e){return e[e.length-1]}function popResultSelector$1(e){return isFunction_1$l.isFunction(last$4(e))?e.pop():void 0}args.popResultSelector=popResultSelector$1;function popScheduler$1(e){return isScheduler_1$3.isScheduler(last$4(e))?e.pop():void 0}args.popScheduler=popScheduler$1;function popNumber$1(e,t){return typeof last$4(e)=="number"?e.pop():t}args.popNumber=popNumber$1;var from$2={},scheduled$2={},scheduleObservable$2={},innerFrom$2={},isArrayLike$1={};Object.defineProperty(isArrayLike$1,"__esModule",{value:!0});isArrayLike$1.isArrayLike=void 0;isArrayLike$1.isArrayLike=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};var isPromise$2={};Object.defineProperty(isPromise$2,"__esModule",{value:!0});isPromise$2.isPromise=void 0;var isFunction_1$k=isFunction$2;function isPromise$1(e){return isFunction_1$k.isFunction(e==null?void 0:e.then)}isPromise$2.isPromise=isPromise$1;var isInteropObservable$2={};Object.defineProperty(isInteropObservable$2,"__esModule",{value:!0});isInteropObservable$2.isInteropObservable=void 0;var observable_1$1=observable$1,isFunction_1$j=isFunction$2;function isInteropObservable$1(e){return isFunction_1$j.isFunction(e[observable_1$1.observable])}isInteropObservable$2.isInteropObservable=isInteropObservable$1;var isAsyncIterable$2={};Object.defineProperty(isAsyncIterable$2,"__esModule",{value:!0});isAsyncIterable$2.isAsyncIterable=void 0;var isFunction_1$i=isFunction$2;function isAsyncIterable$1(e){return Symbol.asyncIterator&&isFunction_1$i.isFunction(e==null?void 0:e[Symbol.asyncIterator])}isAsyncIterable$2.isAsyncIterable=isAsyncIterable$1;var throwUnobservableError={};Object.defineProperty(throwUnobservableError,"__esModule",{value:!0});throwUnobservableError.createInvalidObservableTypeError=void 0;function createInvalidObservableTypeError$1(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}throwUnobservableError.createInvalidObservableTypeError=createInvalidObservableTypeError$1;var isIterable$3={},iterator$1={};Object.defineProperty(iterator$1,"__esModule",{value:!0});iterator$1.iterator=iterator$1.getSymbolIterator=void 0;function getSymbolIterator$1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}iterator$1.getSymbolIterator=getSymbolIterator$1;iterator$1.iterator=getSymbolIterator$1();Object.defineProperty(isIterable$3,"__esModule",{value:!0});isIterable$3.isIterable=void 0;var iterator_1$1=iterator$1,isFunction_1$h=isFunction$2;function isIterable$2(e){return isFunction_1$h.isFunction(e==null?void 0:e[iterator_1$1.iterator])}isIterable$3.isIterable=isIterable$2;var isReadableStreamLike$2={},__generator$8=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},__await$1=commonjsGlobal&&commonjsGlobal.__await||function(e){return this instanceof __await$1?(this.v=e,this):new __await$1(e)},__asyncGenerator$1=commonjsGlobal&&commonjsGlobal.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,a=[];return o={},u("next"),u("throw"),u("return"),o[Symbol.asyncIterator]=function(){return this},o;function u(b){n[b]&&(o[b]=function($){return new Promise(function(E,w){a.push([b,$,E,w])>1||s(b,$)})})}function s(b,$){try{l(n[b]($))}catch(E){v(a[0][3],E)}}function l(b){b.value instanceof __await$1?Promise.resolve(b.value.v).then(c,f):v(a[0][2],b)}function c(b){s("next",b)}function f(b){s("throw",b)}function v(b,$){b($),a.shift(),a.length&&s(a[0][0],a[0][1])}};Object.defineProperty(isReadableStreamLike$2,"__esModule",{value:!0});isReadableStreamLike$2.isReadableStreamLike=isReadableStreamLike$2.readableStreamLikeToAsyncGenerator=void 0;var isFunction_1$g=isFunction$2;function readableStreamLikeToAsyncGenerator$1(e){return __asyncGenerator$1(this,arguments,function(){var r,n,o,a;return __generator$8(this,function(u){switch(u.label){case 0:r=e.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,__await$1(r.read())];case 3:return n=u.sent(),o=n.value,a=n.done,a?[4,__await$1(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,__await$1(o)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}isReadableStreamLike$2.readableStreamLikeToAsyncGenerator=readableStreamLikeToAsyncGenerator$1;function isReadableStreamLike$1(e){return isFunction_1$g.isFunction(e==null?void 0:e.getReader)}isReadableStreamLike$2.isReadableStreamLike=isReadableStreamLike$1;var __awaiter$6=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function s(f){try{c(n.next(f))}catch(v){u(v)}}function l(f){try{c(n.throw(f))}catch(v){u(v)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((n=n.apply(e,t||[])).next())})},__generator$7=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},__asyncValues$1=commonjsGlobal&&commonjsGlobal.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values$8=="function"?__values$8(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(u){return new Promise(function(s,l){u=e[a](u),o(s,l,u.done,u.value)})}}function o(a,u,s,l){Promise.resolve(l).then(function(c){a({value:c,done:s})},u)}},__values$8=commonjsGlobal&&commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(innerFrom$2,"__esModule",{value:!0});innerFrom$2.fromReadableStreamLike=innerFrom$2.fromAsyncIterable=innerFrom$2.fromIterable=innerFrom$2.fromPromise=innerFrom$2.fromArrayLike=innerFrom$2.fromInteropObservable=innerFrom$2.innerFrom=void 0;var isArrayLike_1$2=isArrayLike$1,isPromise_1$1=isPromise$2,Observable_1$j=Observable$2,isInteropObservable_1$1=isInteropObservable$2,isAsyncIterable_1$1=isAsyncIterable$2,throwUnobservableError_1$1=throwUnobservableError,isIterable_1$1=isIterable$3,isReadableStreamLike_1$2=isReadableStreamLike$2,isFunction_1$f=isFunction$2,reportUnhandledError_1=reportUnhandledError$2,observable_1=observable$1;function innerFrom$1(e){if(e instanceof Observable_1$j.Observable)return e;if(e!=null){if(isInteropObservable_1$1.isInteropObservable(e))return fromInteropObservable$1(e);if(isArrayLike_1$2.isArrayLike(e))return fromArrayLike$1(e);if(isPromise_1$1.isPromise(e))return fromPromise$1(e);if(isAsyncIterable_1$1.isAsyncIterable(e))return fromAsyncIterable$1(e);if(isIterable_1$1.isIterable(e))return fromIterable$1(e);if(isReadableStreamLike_1$2.isReadableStreamLike(e))return fromReadableStreamLike$1(e)}throw throwUnobservableError_1$1.createInvalidObservableTypeError(e)}innerFrom$2.innerFrom=innerFrom$1;function fromInteropObservable$1(e){return new Observable_1$j.Observable(function(t){var r=e[observable_1.observable]();if(isFunction_1$f.isFunction(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}innerFrom$2.fromInteropObservable=fromInteropObservable$1;function fromArrayLike$1(e){return new Observable_1$j.Observable(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}innerFrom$2.fromArrayLike=fromArrayLike$1;function fromPromise$1(e){return new Observable_1$j.Observable(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,reportUnhandledError_1.reportUnhandledError)})}innerFrom$2.fromPromise=fromPromise$1;function fromIterable$1(e){return new Observable_1$j.Observable(function(t){var r,n;try{for(var o=__values$8(e),a=o.next();!a.done;a=o.next()){var u=a.value;if(t.next(u),t.closed)return}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}t.complete()})}innerFrom$2.fromIterable=fromIterable$1;function fromAsyncIterable$1(e){return new Observable_1$j.Observable(function(t){process$1(e,t).catch(function(r){return t.error(r)})})}innerFrom$2.fromAsyncIterable=fromAsyncIterable$1;function fromReadableStreamLike$1(e){return fromAsyncIterable$1(isReadableStreamLike_1$2.readableStreamLikeToAsyncGenerator(e))}innerFrom$2.fromReadableStreamLike=fromReadableStreamLike$1;function process$1(e,t){var r,n,o,a;return __awaiter$6(this,void 0,void 0,function(){var u,s;return __generator$7(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),r=__asyncValues$1(e),l.label=1;case 1:return[4,r.next()];case 2:if(n=l.sent(),!!n.done)return[3,4];if(u=n.value,t.next(u),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),o={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(a=r.return)?[4,a.call(r)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}var observeOn$2={},executeSchedule$2={};Object.defineProperty(executeSchedule$2,"__esModule",{value:!0});executeSchedule$2.executeSchedule=void 0;function executeSchedule$1(e,t,r,n,o){n===void 0&&(n=0),o===void 0&&(o=!1);var a=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(a),!o)return a}executeSchedule$2.executeSchedule=executeSchedule$1;Object.defineProperty(observeOn$2,"__esModule",{value:!0});observeOn$2.observeOn=void 0;var executeSchedule_1$6=executeSchedule$2,lift_1$12=lift,OperatorSubscriber_1$S=OperatorSubscriber$2;function observeOn$1(e,t){return t===void 0&&(t=0),lift_1$12.operate(function(r,n){r.subscribe(OperatorSubscriber_1$S.createOperatorSubscriber(n,function(o){return executeSchedule_1$6.executeSchedule(n,e,function(){return n.next(o)},t)},function(){return executeSchedule_1$6.executeSchedule(n,e,function(){return n.complete()},t)},function(o){return executeSchedule_1$6.executeSchedule(n,e,function(){return n.error(o)},t)}))})}observeOn$2.observeOn=observeOn$1;var subscribeOn$2={};Object.defineProperty(subscribeOn$2,"__esModule",{value:!0});subscribeOn$2.subscribeOn=void 0;var lift_1$11=lift;function subscribeOn$1(e,t){return t===void 0&&(t=0),lift_1$11.operate(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}subscribeOn$2.subscribeOn=subscribeOn$1;Object.defineProperty(scheduleObservable$2,"__esModule",{value:!0});scheduleObservable$2.scheduleObservable=void 0;var innerFrom_1$u=innerFrom$2,observeOn_1$2=observeOn$2,subscribeOn_1$2=subscribeOn$2;function scheduleObservable$1(e,t){return innerFrom_1$u.innerFrom(e).pipe(subscribeOn_1$2.subscribeOn(t),observeOn_1$2.observeOn(t))}scheduleObservable$2.scheduleObservable=scheduleObservable$1;var schedulePromise$2={};Object.defineProperty(schedulePromise$2,"__esModule",{value:!0});schedulePromise$2.schedulePromise=void 0;var innerFrom_1$t=innerFrom$2,observeOn_1$1=observeOn$2,subscribeOn_1$1=subscribeOn$2;function schedulePromise$1(e,t){return innerFrom_1$t.innerFrom(e).pipe(subscribeOn_1$1.subscribeOn(t),observeOn_1$1.observeOn(t))}schedulePromise$2.schedulePromise=schedulePromise$1;var scheduleArray$2={};Object.defineProperty(scheduleArray$2,"__esModule",{value:!0});scheduleArray$2.scheduleArray=void 0;var Observable_1$i=Observable$2;function scheduleArray$1(e,t){return new Observable_1$i.Observable(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}scheduleArray$2.scheduleArray=scheduleArray$1;var scheduleIterable$2={};Object.defineProperty(scheduleIterable$2,"__esModule",{value:!0});scheduleIterable$2.scheduleIterable=void 0;var Observable_1$h=Observable$2,iterator_1=iterator$1,isFunction_1$e=isFunction$2,executeSchedule_1$5=executeSchedule$2;function scheduleIterable$1(e,t){return new Observable_1$h.Observable(function(r){var n;return executeSchedule_1$5.executeSchedule(r,t,function(){n=e[iterator_1.iterator](),executeSchedule_1$5.executeSchedule(r,t,function(){var o,a,u;try{o=n.next(),a=o.value,u=o.done}catch(s){r.error(s);return}u?r.complete():r.next(a)},0,!0)}),function(){return isFunction_1$e.isFunction(n==null?void 0:n.return)&&n.return()}})}scheduleIterable$2.scheduleIterable=scheduleIterable$1;var scheduleAsyncIterable$2={};Object.defineProperty(scheduleAsyncIterable$2,"__esModule",{value:!0});scheduleAsyncIterable$2.scheduleAsyncIterable=void 0;var Observable_1$g=Observable$2,executeSchedule_1$4=executeSchedule$2;function scheduleAsyncIterable$1(e,t){if(!e)throw new Error("Iterable cannot be null");return new Observable_1$g.Observable(function(r){executeSchedule_1$4.executeSchedule(r,t,function(){var n=e[Symbol.asyncIterator]();executeSchedule_1$4.executeSchedule(r,t,function(){n.next().then(function(o){o.done?r.complete():r.next(o.value)})},0,!0)})})}scheduleAsyncIterable$2.scheduleAsyncIterable=scheduleAsyncIterable$1;var scheduleReadableStreamLike$2={};Object.defineProperty(scheduleReadableStreamLike$2,"__esModule",{value:!0});scheduleReadableStreamLike$2.scheduleReadableStreamLike=void 0;var scheduleAsyncIterable_1$1=scheduleAsyncIterable$2,isReadableStreamLike_1$1=isReadableStreamLike$2;function scheduleReadableStreamLike$1(e,t){return scheduleAsyncIterable_1$1.scheduleAsyncIterable(isReadableStreamLike_1$1.readableStreamLikeToAsyncGenerator(e),t)}scheduleReadableStreamLike$2.scheduleReadableStreamLike=scheduleReadableStreamLike$1;Object.defineProperty(scheduled$2,"__esModule",{value:!0});scheduled$2.scheduled=void 0;var scheduleObservable_1=scheduleObservable$2,schedulePromise_1=schedulePromise$2,scheduleArray_1=scheduleArray$2,scheduleIterable_1$1=scheduleIterable$2,scheduleAsyncIterable_1=scheduleAsyncIterable$2,isInteropObservable_1=isInteropObservable$2,isPromise_1=isPromise$2,isArrayLike_1$1=isArrayLike$1,isIterable_1=isIterable$3,isAsyncIterable_1=isAsyncIterable$2,throwUnobservableError_1=throwUnobservableError,isReadableStreamLike_1=isReadableStreamLike$2,scheduleReadableStreamLike_1=scheduleReadableStreamLike$2;function scheduled$1(e,t){if(e!=null){if(isInteropObservable_1.isInteropObservable(e))return scheduleObservable_1.scheduleObservable(e,t);if(isArrayLike_1$1.isArrayLike(e))return scheduleArray_1.scheduleArray(e,t);if(isPromise_1.isPromise(e))return schedulePromise_1.schedulePromise(e,t);if(isAsyncIterable_1.isAsyncIterable(e))return scheduleAsyncIterable_1.scheduleAsyncIterable(e,t);if(isIterable_1.isIterable(e))return scheduleIterable_1$1.scheduleIterable(e,t);if(isReadableStreamLike_1.isReadableStreamLike(e))return scheduleReadableStreamLike_1.scheduleReadableStreamLike(e,t)}throw throwUnobservableError_1.createInvalidObservableTypeError(e)}scheduled$2.scheduled=scheduled$1;Object.defineProperty(from$2,"__esModule",{value:!0});from$2.from=void 0;var scheduled_1=scheduled$2,innerFrom_1$s=innerFrom$2;function from$1(e,t){return t?scheduled_1.scheduled(e,t):innerFrom_1$s.innerFrom(e)}from$2.from=from$1;Object.defineProperty(of$2,"__esModule",{value:!0});of$2.of=void 0;var args_1$c=args,from_1$6=from$2;function of$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=args_1$c.popScheduler(e);return from_1$6.from(e,r)}of$2.of=of$1;var throwError$2={};Object.defineProperty(throwError$2,"__esModule",{value:!0});throwError$2.throwError=void 0;var Observable_1$f=Observable$2,isFunction_1$d=isFunction$2;function throwError$1(e,t){var r=isFunction_1$d.isFunction(e)?e:function(){return e},n=function(o){return o.error(r())};return new Observable_1$f.Observable(t?function(o){return t.schedule(n,0,o)}:n)}throwError$2.throwError=throwError$1;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.observeNotification=e.Notification=e.NotificationKind=void 0;var t=empty,r=of$2,n=throwError$2,o=isFunction$2;(function(s){s.NEXT="N",s.ERROR="E",s.COMPLETE="C"})(e.NotificationKind||(e.NotificationKind={}));var a=function(){function s(l,c,f){this.kind=l,this.value=c,this.error=f,this.hasValue=l==="N"}return s.prototype.observe=function(l){return u(this,l)},s.prototype.do=function(l,c,f){var v=this,b=v.kind,$=v.value,E=v.error;return b==="N"?l==null?void 0:l($):b==="E"?c==null?void 0:c(E):f==null?void 0:f()},s.prototype.accept=function(l,c,f){var v;return o.isFunction((v=l)===null||v===void 0?void 0:v.next)?this.observe(l):this.do(l,c,f)},s.prototype.toObservable=function(){var l=this,c=l.kind,f=l.value,v=l.error,b=c==="N"?r.of(f):c==="E"?n.throwError(function(){return v}):c==="C"?t.EMPTY:0;if(!b)throw new TypeError("Unexpected notification kind "+c);return b},s.createNext=function(l){return new s("N",l)},s.createError=function(l){return new s("E",void 0,l)},s.createComplete=function(){return s.completeNotification},s.completeNotification=new s("C"),s}();e.Notification=a;function u(s,l){var c,f,v,b=s,$=b.kind,E=b.value,w=b.error;if(typeof $!="string")throw new TypeError('Invalid notification, missing "kind"');$==="N"?(c=l.next)===null||c===void 0||c.call(l,E):$==="E"?(f=l.error)===null||f===void 0||f.call(l,w):(v=l.complete)===null||v===void 0||v.call(l)}e.observeNotification=u})(Notification$1);var isObservable$1={};Object.defineProperty(isObservable$1,"__esModule",{value:!0});isObservable$1.isObservable=void 0;var Observable_1$e=Observable$2,isFunction_1$c=isFunction$2;function isObservable(e){return!!e&&(e instanceof Observable_1$e.Observable||isFunction_1$c.isFunction(e.lift)&&isFunction_1$c.isFunction(e.subscribe))}isObservable$1.isObservable=isObservable;var lastValueFrom$1={},EmptyError$1={};Object.defineProperty(EmptyError$1,"__esModule",{value:!0});EmptyError$1.EmptyError=void 0;var createErrorClass_1$3=createErrorClass$2;EmptyError$1.EmptyError=createErrorClass_1$3.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});Object.defineProperty(lastValueFrom$1,"__esModule",{value:!0});lastValueFrom$1.lastValueFrom=void 0;var EmptyError_1$5=EmptyError$1;function lastValueFrom(e,t){var r=typeof t=="object";return new Promise(function(n,o){var a=!1,u;e.subscribe({next:function(s){u=s,a=!0},error:o,complete:function(){a?n(u):r?n(t.defaultValue):o(new EmptyError_1$5.EmptyError)}})})}lastValueFrom$1.lastValueFrom=lastValueFrom;var firstValueFrom$1={};Object.defineProperty(firstValueFrom$1,"__esModule",{value:!0});firstValueFrom$1.firstValueFrom=void 0;var EmptyError_1$4=EmptyError$1,Subscriber_1$1=Subscriber$1;function firstValueFrom(e,t){var r=typeof t=="object";return new Promise(function(n,o){var a=new Subscriber_1$1.SafeSubscriber({next:function(u){n(u),a.unsubscribe()},error:o,complete:function(){r?n(t.defaultValue):o(new EmptyError_1$4.EmptyError)}});e.subscribe(a)})}firstValueFrom$1.firstValueFrom=firstValueFrom;var ArgumentOutOfRangeError$1={};Object.defineProperty(ArgumentOutOfRangeError$1,"__esModule",{value:!0});ArgumentOutOfRangeError$1.ArgumentOutOfRangeError=void 0;var createErrorClass_1$2=createErrorClass$2;ArgumentOutOfRangeError$1.ArgumentOutOfRangeError=createErrorClass_1$2.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}});var NotFoundError$1={};Object.defineProperty(NotFoundError$1,"__esModule",{value:!0});NotFoundError$1.NotFoundError=void 0;var createErrorClass_1$1=createErrorClass$2;NotFoundError$1.NotFoundError=createErrorClass_1$1.createErrorClass(function(e){return function(r){e(this),this.name="NotFoundError",this.message=r}});var SequenceError$1={};Object.defineProperty(SequenceError$1,"__esModule",{value:!0});SequenceError$1.SequenceError=void 0;var createErrorClass_1=createErrorClass$2;SequenceError$1.SequenceError=createErrorClass_1.createErrorClass(function(e){return function(r){e(this),this.name="SequenceError",this.message=r}});var timeout$1={},isDate={};Object.defineProperty(isDate,"__esModule",{value:!0});isDate.isValidDate=void 0;function isValidDate$1(e){return e instanceof Date&&!isNaN(e)}isDate.isValidDate=isValidDate$1;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeout=e.TimeoutError=void 0;var t=async$1,r=isDate,n=lift,o=innerFrom$2,a=createErrorClass$2,u=OperatorSubscriber$2,s=executeSchedule$2;e.TimeoutError=a.createErrorClass(function(f){return function(b){b===void 0&&(b=null),f(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=b}});function l(f,v){var b=r.isValidDate(f)?{first:f}:typeof f=="number"?{each:f}:f,$=b.first,E=b.each,w=b.with,A=w===void 0?c:w,I=b.scheduler,R=I===void 0?v!=null?v:t.asyncScheduler:I,x=b.meta,N=x===void 0?null:x;if($==null&&E==null)throw new TypeError("No timeout provided.");return n.operate(function(D,V){var Y,Q,te=null,de=0,ne=function(ae){Q=s.executeSchedule(V,R,function(){try{Y.unsubscribe(),o.innerFrom(A({meta:N,lastValue:te,seen:de})).subscribe(V)}catch(le){V.error(le)}},ae)};Y=D.subscribe(u.createOperatorSubscriber(V,function(ae){Q==null||Q.unsubscribe(),de++,V.next(te=ae),E>0&&ne(E)},void 0,void 0,function(){Q!=null&&Q.closed||Q==null||Q.unsubscribe(),te=null})),!de&&ne($!=null?typeof $=="number"?$:+$-R.now():E)})}e.timeout=l;function c(f){throw new e.TimeoutError(f)}})(timeout$1);var bindCallback$1={},bindCallbackInternals$1={},mapOneOrManyArgs$2={},map$2={};Object.defineProperty(map$2,"__esModule",{value:!0});map$2.map=void 0;var lift_1$10=lift,OperatorSubscriber_1$R=OperatorSubscriber$2;function map$1(e,t){return lift_1$10.operate(function(r,n){var o=0;r.subscribe(OperatorSubscriber_1$R.createOperatorSubscriber(n,function(a){n.next(e.call(t,a,o++))}))})}map$2.map=map$1;var __read$n=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$h=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(mapOneOrManyArgs$2,"__esModule",{value:!0});mapOneOrManyArgs$2.mapOneOrManyArgs=void 0;var map_1$5=map$2,isArray$5=Array.isArray;function callOrApply$1(e,t){return isArray$5(t)?e.apply(void 0,__spreadArray$h([],__read$n(t))):e(t)}function mapOneOrManyArgs$1(e){return map_1$5.map(function(t){return callOrApply$1(e,t)})}mapOneOrManyArgs$2.mapOneOrManyArgs=mapOneOrManyArgs$1;var __read$m=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$g=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(bindCallbackInternals$1,"__esModule",{value:!0});bindCallbackInternals$1.bindCallbackInternals=void 0;var isScheduler_1$2=isScheduler$2,Observable_1$d=Observable$2,subscribeOn_1=subscribeOn$2,mapOneOrManyArgs_1$6=mapOneOrManyArgs$2,observeOn_1=observeOn$2,AsyncSubject_1$1=AsyncSubject$2;function bindCallbackInternals(e,t,r,n){if(r)if(isScheduler_1$2.isScheduler(r))n=r;else return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return bindCallbackInternals(e,t,n).apply(this,o).pipe(mapOneOrManyArgs_1$6.mapOneOrManyArgs(r))};return n?function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return bindCallbackInternals(e,t).apply(this,o).pipe(subscribeOn_1.subscribeOn(n),observeOn_1.observeOn(n))}:function(){for(var o=this,a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var s=new AsyncSubject_1$1.AsyncSubject,l=!0;return new Observable_1$d.Observable(function(c){var f=s.subscribe(c);if(l){l=!1;var v=!1,b=!1;t.apply(o,__spreadArray$g(__spreadArray$g([],__read$m(a)),[function(){for(var $=[],E=0;E<arguments.length;E++)$[E]=arguments[E];if(e){var w=$.shift();if(w!=null){s.error(w);return}}s.next(1<$.length?$:$[0]),b=!0,v&&s.complete()}])),b&&s.complete(),v=!0}return f})}}bindCallbackInternals$1.bindCallbackInternals=bindCallbackInternals;Object.defineProperty(bindCallback$1,"__esModule",{value:!0});bindCallback$1.bindCallback=void 0;var bindCallbackInternals_1$1=bindCallbackInternals$1;function bindCallback(e,t,r){return bindCallbackInternals_1$1.bindCallbackInternals(!1,e,t,r)}bindCallback$1.bindCallback=bindCallback;var bindNodeCallback$1={};Object.defineProperty(bindNodeCallback$1,"__esModule",{value:!0});bindNodeCallback$1.bindNodeCallback=void 0;var bindCallbackInternals_1=bindCallbackInternals$1;function bindNodeCallback(e,t,r){return bindCallbackInternals_1.bindCallbackInternals(!0,e,t,r)}bindNodeCallback$1.bindNodeCallback=bindNodeCallback;var combineLatest$5={},argsArgArrayOrObject$2={};Object.defineProperty(argsArgArrayOrObject$2,"__esModule",{value:!0});argsArgArrayOrObject$2.argsArgArrayOrObject=void 0;var isArray$4=Array.isArray,getPrototypeOf$1=Object.getPrototypeOf,objectProto$1=Object.prototype,getKeys$1=Object.keys;function argsArgArrayOrObject$1(e){if(e.length===1){var t=e[0];if(isArray$4(t))return{args:t,keys:null};if(isPOJO$1(t)){var r=getKeys$1(t);return{args:r.map(function(n){return t[n]}),keys:r}}}return{args:e,keys:null}}argsArgArrayOrObject$2.argsArgArrayOrObject=argsArgArrayOrObject$1;function isPOJO$1(e){return e&&typeof e=="object"&&getPrototypeOf$1(e)===objectProto$1}var createObject$2={};Object.defineProperty(createObject$2,"__esModule",{value:!0});createObject$2.createObject=void 0;function createObject$1(e,t){return e.reduce(function(r,n,o){return r[n]=t[o],r},{})}createObject$2.createObject=createObject$1;Object.defineProperty(combineLatest$5,"__esModule",{value:!0});combineLatest$5.combineLatestInit=combineLatest$5.combineLatest=void 0;var Observable_1$c=Observable$2,argsArgArrayOrObject_1$1=argsArgArrayOrObject$2,from_1$5=from$2,identity_1$d=identity$3,mapOneOrManyArgs_1$5=mapOneOrManyArgs$2,args_1$b=args,createObject_1$1=createObject$2,OperatorSubscriber_1$Q=OperatorSubscriber$2,executeSchedule_1$3=executeSchedule$2;function combineLatest$4(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=args_1$b.popScheduler(e),n=args_1$b.popResultSelector(e),o=argsArgArrayOrObject_1$1.argsArgArrayOrObject(e),a=o.args,u=o.keys;if(a.length===0)return from_1$5.from([],r);var s=new Observable_1$c.Observable(combineLatestInit$1(a,r,u?function(l){return createObject_1$1.createObject(u,l)}:identity_1$d.identity));return n?s.pipe(mapOneOrManyArgs_1$5.mapOneOrManyArgs(n)):s}combineLatest$5.combineLatest=combineLatest$4;function combineLatestInit$1(e,t,r){return r===void 0&&(r=identity_1$d.identity),function(n){maybeSchedule$1(t,function(){for(var o=e.length,a=new Array(o),u=o,s=o,l=function(f){maybeSchedule$1(t,function(){var v=from_1$5.from(e[f],t),b=!1;v.subscribe(OperatorSubscriber_1$Q.createOperatorSubscriber(n,function($){a[f]=$,b||(b=!0,s--),s||n.next(r(a.slice()))},function(){--u||n.complete()}))},n)},c=0;c<o;c++)l(c)},n)}}combineLatest$5.combineLatestInit=combineLatestInit$1;function maybeSchedule$1(e,t,r){e?executeSchedule_1$3.executeSchedule(r,e,t):t()}var concat$5={},concatAll$2={},mergeAll$2={},mergeMap$2={},mergeInternals$2={};Object.defineProperty(mergeInternals$2,"__esModule",{value:!0});mergeInternals$2.mergeInternals=void 0;var innerFrom_1$r=innerFrom$2,executeSchedule_1$2=executeSchedule$2,OperatorSubscriber_1$P=OperatorSubscriber$2;function mergeInternals$1(e,t,r,n,o,a,u,s){var l=[],c=0,f=0,v=!1,b=function(){v&&!l.length&&!c&&t.complete()},$=function(w){return c<n?E(w):l.push(w)},E=function(w){a&&t.next(w),c++;var A=!1;innerFrom_1$r.innerFrom(r(w,f++)).subscribe(OperatorSubscriber_1$P.createOperatorSubscriber(t,function(I){o==null||o(I),a?$(I):t.next(I)},function(){A=!0},void 0,function(){if(A)try{c--;for(var I=function(){var R=l.shift();u?executeSchedule_1$2.executeSchedule(t,u,function(){return E(R)}):E(R)};l.length&&c<n;)I();b()}catch(R){t.error(R)}}))};return e.subscribe(OperatorSubscriber_1$P.createOperatorSubscriber(t,$,function(){v=!0,b()})),function(){s==null||s()}}mergeInternals$2.mergeInternals=mergeInternals$1;Object.defineProperty(mergeMap$2,"__esModule",{value:!0});mergeMap$2.mergeMap=void 0;var map_1$4=map$2,innerFrom_1$q=innerFrom$2,lift_1$$=lift,mergeInternals_1$2=mergeInternals$2,isFunction_1$b=isFunction$2;function mergeMap$1(e,t,r){return r===void 0&&(r=1/0),isFunction_1$b.isFunction(t)?mergeMap$1(function(n,o){return map_1$4.map(function(a,u){return t(n,a,o,u)})(innerFrom_1$q.innerFrom(e(n,o)))},r):(typeof t=="number"&&(r=t),lift_1$$.operate(function(n,o){return mergeInternals_1$2.mergeInternals(n,o,e,r)}))}mergeMap$2.mergeMap=mergeMap$1;Object.defineProperty(mergeAll$2,"__esModule",{value:!0});mergeAll$2.mergeAll=void 0;var mergeMap_1$6=mergeMap$2,identity_1$c=identity$3;function mergeAll$1(e){return e===void 0&&(e=1/0),mergeMap_1$6.mergeMap(identity_1$c.identity,e)}mergeAll$2.mergeAll=mergeAll$1;Object.defineProperty(concatAll$2,"__esModule",{value:!0});concatAll$2.concatAll=void 0;var mergeAll_1$2=mergeAll$2;function concatAll$1(){return mergeAll_1$2.mergeAll(1)}concatAll$2.concatAll=concatAll$1;Object.defineProperty(concat$5,"__esModule",{value:!0});concat$5.concat=void 0;var concatAll_1$1=concatAll$2,args_1$a=args,from_1$4=from$2;function concat$4(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return concatAll_1$1.concatAll()(from_1$4.from(e,args_1$a.popScheduler(e)))}concat$5.concat=concat$4;var connectable$1={},defer$1={};Object.defineProperty(defer$1,"__esModule",{value:!0});defer$1.defer=void 0;var Observable_1$b=Observable$2,innerFrom_1$p=innerFrom$2;function defer(e){return new Observable_1$b.Observable(function(t){innerFrom_1$p.innerFrom(e()).subscribe(t)})}defer$1.defer=defer;Object.defineProperty(connectable$1,"__esModule",{value:!0});connectable$1.connectable=void 0;var Subject_1$b=Subject$2,Observable_1$a=Observable$2,defer_1$2=defer$1,DEFAULT_CONFIG$2={connector:function(){return new Subject_1$b.Subject},resetOnDisconnect:!0};function connectable(e,t){t===void 0&&(t=DEFAULT_CONFIG$2);var r=null,n=t.connector,o=t.resetOnDisconnect,a=o===void 0?!0:o,u=n(),s=new Observable_1$a.Observable(function(l){return u.subscribe(l)});return s.connect=function(){return(!r||r.closed)&&(r=defer_1$2.defer(function(){return e}).subscribe(u),a&&r.add(function(){return u=n()})),r},s}connectable$1.connectable=connectable;var forkJoin$1={};Object.defineProperty(forkJoin$1,"__esModule",{value:!0});forkJoin$1.forkJoin=void 0;var Observable_1$9=Observable$2,argsArgArrayOrObject_1=argsArgArrayOrObject$2,innerFrom_1$o=innerFrom$2,args_1$9=args,OperatorSubscriber_1$O=OperatorSubscriber$2,mapOneOrManyArgs_1$4=mapOneOrManyArgs$2,createObject_1=createObject$2;function forkJoin(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=args_1$9.popResultSelector(e),n=argsArgArrayOrObject_1.argsArgArrayOrObject(e),o=n.args,a=n.keys,u=new Observable_1$9.Observable(function(s){var l=o.length;if(!l){s.complete();return}for(var c=new Array(l),f=l,v=l,b=function(E){var w=!1;innerFrom_1$o.innerFrom(o[E]).subscribe(OperatorSubscriber_1$O.createOperatorSubscriber(s,function(A){w||(w=!0,v--),c[E]=A},function(){return f--},void 0,function(){(!f||!w)&&(v||s.next(a?createObject_1.createObject(a,c):c),s.complete())}))},$=0;$<l;$++)b($)});return r?u.pipe(mapOneOrManyArgs_1$4.mapOneOrManyArgs(r)):u}forkJoin$1.forkJoin=forkJoin;var fromEvent$1={},__read$l=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a};Object.defineProperty(fromEvent$1,"__esModule",{value:!0});fromEvent$1.fromEvent=void 0;var innerFrom_1$n=innerFrom$2,Observable_1$8=Observable$2,mergeMap_1$5=mergeMap$2,isArrayLike_1=isArrayLike$1,isFunction_1$a=isFunction$2,mapOneOrManyArgs_1$3=mapOneOrManyArgs$2,nodeEventEmitterMethods=["addListener","removeListener"],eventTargetMethods=["addEventListener","removeEventListener"],jqueryMethods=["on","off"];function fromEvent(e,t,r,n){if(isFunction_1$a.isFunction(r)&&(n=r,r=void 0),n)return fromEvent(e,t,r).pipe(mapOneOrManyArgs_1$3.mapOneOrManyArgs(n));var o=__read$l(isEventTarget(e)?eventTargetMethods.map(function(s){return function(l){return e[s](t,l,r)}}):isNodeStyleEventEmitter(e)?nodeEventEmitterMethods.map(toCommonHandlerRegistry(e,t)):isJQueryStyleEventEmitter(e)?jqueryMethods.map(toCommonHandlerRegistry(e,t)):[],2),a=o[0],u=o[1];if(!a&&isArrayLike_1.isArrayLike(e))return mergeMap_1$5.mergeMap(function(s){return fromEvent(s,t,r)})(innerFrom_1$n.innerFrom(e));if(!a)throw new TypeError("Invalid event target");return new Observable_1$8.Observable(function(s){var l=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return s.next(1<c.length?c:c[0])};return a(l),function(){return u(l)}})}fromEvent$1.fromEvent=fromEvent;function toCommonHandlerRegistry(e,t){return function(r){return function(n){return e[r](t,n)}}}function isNodeStyleEventEmitter(e){return isFunction_1$a.isFunction(e.addListener)&&isFunction_1$a.isFunction(e.removeListener)}function isJQueryStyleEventEmitter(e){return isFunction_1$a.isFunction(e.on)&&isFunction_1$a.isFunction(e.off)}function isEventTarget(e){return isFunction_1$a.isFunction(e.addEventListener)&&isFunction_1$a.isFunction(e.removeEventListener)}var fromEventPattern$1={};Object.defineProperty(fromEventPattern$1,"__esModule",{value:!0});fromEventPattern$1.fromEventPattern=void 0;var Observable_1$7=Observable$2,isFunction_1$9=isFunction$2,mapOneOrManyArgs_1$2=mapOneOrManyArgs$2;function fromEventPattern(e,t,r){return r?fromEventPattern(e,t).pipe(mapOneOrManyArgs_1$2.mapOneOrManyArgs(r)):new Observable_1$7.Observable(function(n){var o=function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return n.next(u.length===1?u[0]:u)},a=e(o);return isFunction_1$9.isFunction(t)?function(){return t(o,a)}:void 0})}fromEventPattern$1.fromEventPattern=fromEventPattern;var generate$1={},__generator$6=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(generate$1,"__esModule",{value:!0});generate$1.generate=void 0;var identity_1$b=identity$3,isScheduler_1$1=isScheduler$2,defer_1$1=defer$1,scheduleIterable_1=scheduleIterable$2;function generate(e,t,r,n,o){var a,u,s,l;arguments.length===1?(a=e,l=a.initialState,t=a.condition,r=a.iterate,u=a.resultSelector,s=u===void 0?identity_1$b.identity:u,o=a.scheduler):(l=e,!n||isScheduler_1$1.isScheduler(n)?(s=identity_1$b.identity,o=n):s=n);function c(){var f;return __generator$6(this,function(v){switch(v.label){case 0:f=l,v.label=1;case 1:return!t||t(f)?[4,s(f)]:[3,4];case 2:v.sent(),v.label=3;case 3:return f=r(f),[3,1];case 4:return[2]}})}return defer_1$1.defer(o?function(){return scheduleIterable_1.scheduleIterable(c(),o)}:c)}generate$1.generate=generate;var iif$1={};Object.defineProperty(iif$1,"__esModule",{value:!0});iif$1.iif=void 0;var defer_1=defer$1;function iif(e,t,r){return defer_1.defer(function(){return e()?t:r})}iif$1.iif=iif;var interval$2={},timer$2={};Object.defineProperty(timer$2,"__esModule",{value:!0});timer$2.timer=void 0;var Observable_1$6=Observable$2,async_1$a=async$1,isScheduler_1=isScheduler$2,isDate_1$1=isDate;function timer$1(e,t,r){e===void 0&&(e=0),r===void 0&&(r=async_1$a.async);var n=-1;return t!=null&&(isScheduler_1.isScheduler(t)?r=t:n=t),new Observable_1$6.Observable(function(o){var a=isDate_1$1.isValidDate(e)?+e-r.now():e;a<0&&(a=0);var u=0;return r.schedule(function(){o.closed||(o.next(u++),0<=n?this.schedule(void 0,n):o.complete())},a)})}timer$2.timer=timer$1;Object.defineProperty(interval$2,"__esModule",{value:!0});interval$2.interval=void 0;var async_1$9=async$1,timer_1$5=timer$2;function interval$1(e,t){return e===void 0&&(e=0),t===void 0&&(t=async_1$9.asyncScheduler),e<0&&(e=0),timer_1$5.timer(e,e,t)}interval$2.interval=interval$1;var merge$4={};Object.defineProperty(merge$4,"__esModule",{value:!0});merge$4.merge=void 0;var mergeAll_1$1=mergeAll$2,innerFrom_1$m=innerFrom$2,empty_1$7=empty,args_1$8=args,from_1$3=from$2;function merge$3(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=args_1$8.popScheduler(e),n=args_1$8.popNumber(e,1/0),o=e;return o.length?o.length===1?innerFrom_1$m.innerFrom(o[0]):mergeAll_1$1.mergeAll(n)(from_1$3.from(o,r)):empty_1$7.EMPTY}merge$4.merge=merge$3;var never={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.never=e.NEVER=void 0;var t=Observable$2,r=noop$2;e.NEVER=new t.Observable(r.noop);function n(){return e.NEVER}e.never=n})(never);var onErrorResumeNext$4={},onErrorResumeNext$3={},argsOrArgArray$2={};Object.defineProperty(argsOrArgArray$2,"__esModule",{value:!0});argsOrArgArray$2.argsOrArgArray=void 0;var isArray$3=Array.isArray;function argsOrArgArray$1(e){return e.length===1&&isArray$3(e[0])?e[0]:e}argsOrArgArray$2.argsOrArgArray=argsOrArgArray$1;var __read$k=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$f=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(onErrorResumeNext$3,"__esModule",{value:!0});onErrorResumeNext$3.onErrorResumeNext=void 0;var lift_1$_=lift,innerFrom_1$l=innerFrom$2,argsOrArgArray_1$5=argsOrArgArray$2,OperatorSubscriber_1$N=OperatorSubscriber$2,noop_1$c=noop$2;function onErrorResumeNext$2(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=argsOrArgArray_1$5.argsOrArgArray(e);return lift_1$_.operate(function(n,o){var a=__spreadArray$f([n],__read$k(r)),u=function(){if(!o.closed)if(a.length>0){var s=void 0;try{s=innerFrom_1$l.innerFrom(a.shift())}catch{u();return}var l=OperatorSubscriber_1$N.createOperatorSubscriber(o,void 0,noop_1$c.noop,noop_1$c.noop);s.subscribe(l),l.add(u)}else o.complete()};u()})}onErrorResumeNext$3.onErrorResumeNext=onErrorResumeNext$2;Object.defineProperty(onErrorResumeNext$4,"__esModule",{value:!0});onErrorResumeNext$4.onErrorResumeNext=void 0;var empty_1$6=empty,onErrorResumeNext_1=onErrorResumeNext$3,argsOrArgArray_1$4=argsOrArgArray$2;function onErrorResumeNext$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return onErrorResumeNext_1.onErrorResumeNext(argsOrArgArray_1$4.argsOrArgArray(e))(empty_1$6.EMPTY)}onErrorResumeNext$4.onErrorResumeNext=onErrorResumeNext$1;var pairs$1={};Object.defineProperty(pairs$1,"__esModule",{value:!0});pairs$1.pairs=void 0;var from_1$2=from$2;function pairs(e,t){return from_1$2.from(Object.entries(e),t)}pairs$1.pairs=pairs;var partition$2={},not$2={};Object.defineProperty(not$2,"__esModule",{value:!0});not$2.not=void 0;function not$1(e,t){return function(r,n){return!e.call(t,r,n)}}not$2.not=not$1;var filter$2={};Object.defineProperty(filter$2,"__esModule",{value:!0});filter$2.filter=void 0;var lift_1$Z=lift,OperatorSubscriber_1$M=OperatorSubscriber$2;function filter$1(e,t){return lift_1$Z.operate(function(r,n){var o=0;r.subscribe(OperatorSubscriber_1$M.createOperatorSubscriber(n,function(a){return e.call(t,a,o++)&&n.next(a)}))})}filter$2.filter=filter$1;Object.defineProperty(partition$2,"__esModule",{value:!0});partition$2.partition=void 0;var not_1=not$2,filter_1$4=filter$2,innerFrom_1$k=innerFrom$2;function partition$1(e,t,r){return[filter_1$4.filter(t,r)(innerFrom_1$k.innerFrom(e)),filter_1$4.filter(not_1.not(t,r))(innerFrom_1$k.innerFrom(e))]}partition$2.partition=partition$1;var race$2={};Object.defineProperty(race$2,"__esModule",{value:!0});race$2.raceInit=race$2.race=void 0;var Observable_1$5=Observable$2,innerFrom_1$j=innerFrom$2,argsOrArgArray_1$3=argsOrArgArray$2,OperatorSubscriber_1$L=OperatorSubscriber$2;function race$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=argsOrArgArray_1$3.argsOrArgArray(e),e.length===1?innerFrom_1$j.innerFrom(e[0]):new Observable_1$5.Observable(raceInit$1(e))}race$2.race=race$1;function raceInit$1(e){return function(t){for(var r=[],n=function(a){r.push(innerFrom_1$j.innerFrom(e[a]).subscribe(OperatorSubscriber_1$L.createOperatorSubscriber(t,function(u){if(r){for(var s=0;s<r.length;s++)s!==a&&r[s].unsubscribe();r=null}t.next(u)})))},o=0;r&&!t.closed&&o<e.length;o++)n(o)}}race$2.raceInit=raceInit$1;var range$1={};Object.defineProperty(range$1,"__esModule",{value:!0});range$1.range=void 0;var Observable_1$4=Observable$2,empty_1$5=empty;function range(e,t,r){if(t==null&&(t=e,e=0),t<=0)return empty_1$5.EMPTY;var n=t+e;return new Observable_1$4.Observable(r?function(o){var a=e;return r.schedule(function(){a<n?(o.next(a++),this.schedule()):o.complete()})}:function(o){for(var a=e;a<n&&!o.closed;)o.next(a++);o.complete()})}range$1.range=range;var using$1={};Object.defineProperty(using$1,"__esModule",{value:!0});using$1.using=void 0;var Observable_1$3=Observable$2,innerFrom_1$i=innerFrom$2,empty_1$4=empty;function using(e,t){return new Observable_1$3.Observable(function(r){var n=e(),o=t(n),a=o?innerFrom_1$i.innerFrom(o):empty_1$4.EMPTY;return a.subscribe(r),function(){n&&n.unsubscribe()}})}using$1.using=using;var zip$5={},__read$j=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$e=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(zip$5,"__esModule",{value:!0});zip$5.zip=void 0;var Observable_1$2=Observable$2,innerFrom_1$h=innerFrom$2,argsOrArgArray_1$2=argsOrArgArray$2,empty_1$3=empty,OperatorSubscriber_1$K=OperatorSubscriber$2,args_1$7=args;function zip$4(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=args_1$7.popResultSelector(e),n=argsOrArgArray_1$2.argsOrArgArray(e);return n.length?new Observable_1$2.Observable(function(o){var a=n.map(function(){return[]}),u=n.map(function(){return!1});o.add(function(){a=u=null});for(var s=function(c){innerFrom_1$h.innerFrom(n[c]).subscribe(OperatorSubscriber_1$K.createOperatorSubscriber(o,function(f){if(a[c].push(f),a.every(function(b){return b.length})){var v=a.map(function(b){return b.shift()});o.next(r?r.apply(void 0,__spreadArray$e([],__read$j(v))):v),a.some(function(b,$){return!b.length&&u[$]})&&o.complete()}},function(){u[c]=!0,!a[c].length&&o.complete()}))},l=0;!o.closed&&l<n.length;l++)s(l);return function(){a=u=null}}):empty_1$3.EMPTY}zip$5.zip=zip$4;var types={};Object.defineProperty(types,"__esModule",{value:!0});var audit$2={};Object.defineProperty(audit$2,"__esModule",{value:!0});audit$2.audit=void 0;var lift_1$Y=lift,innerFrom_1$g=innerFrom$2,OperatorSubscriber_1$J=OperatorSubscriber$2;function audit$1(e){return lift_1$Y.operate(function(t,r){var n=!1,o=null,a=null,u=!1,s=function(){if(a==null||a.unsubscribe(),a=null,n){n=!1;var c=o;o=null,r.next(c)}u&&r.complete()},l=function(){a=null,u&&r.complete()};t.subscribe(OperatorSubscriber_1$J.createOperatorSubscriber(r,function(c){n=!0,o=c,a||innerFrom_1$g.innerFrom(e(c)).subscribe(a=OperatorSubscriber_1$J.createOperatorSubscriber(r,s,l))},function(){u=!0,(!n||!a||a.closed)&&r.complete()}))})}audit$2.audit=audit$1;var auditTime$2={};Object.defineProperty(auditTime$2,"__esModule",{value:!0});auditTime$2.auditTime=void 0;var async_1$8=async$1,audit_1=audit$2,timer_1$4=timer$2;function auditTime$1(e,t){return t===void 0&&(t=async_1$8.asyncScheduler),audit_1.audit(function(){return timer_1$4.timer(e,t)})}auditTime$2.auditTime=auditTime$1;var buffer$3={};Object.defineProperty(buffer$3,"__esModule",{value:!0});buffer$3.buffer=void 0;var lift_1$X=lift,noop_1$b=noop$2,OperatorSubscriber_1$I=OperatorSubscriber$2;function buffer$2(e){return lift_1$X.operate(function(t,r){var n=[];return t.subscribe(OperatorSubscriber_1$I.createOperatorSubscriber(r,function(o){return n.push(o)},function(){r.next(n),r.complete()})),e.subscribe(OperatorSubscriber_1$I.createOperatorSubscriber(r,function(){var o=n;n=[],r.next(o)},noop_1$b.noop)),function(){n=null}})}buffer$3.buffer=buffer$2;var bufferCount$2={},__values$7=commonjsGlobal&&commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(bufferCount$2,"__esModule",{value:!0});bufferCount$2.bufferCount=void 0;var lift_1$W=lift,OperatorSubscriber_1$H=OperatorSubscriber$2,arrRemove_1$4=arrRemove$2;function bufferCount$1(e,t){return t===void 0&&(t=null),t=t!=null?t:e,lift_1$W.operate(function(r,n){var o=[],a=0;r.subscribe(OperatorSubscriber_1$H.createOperatorSubscriber(n,function(u){var s,l,c,f,v=null;a++%t===0&&o.push([]);try{for(var b=__values$7(o),$=b.next();!$.done;$=b.next()){var E=$.value;E.push(u),e<=E.length&&(v=v!=null?v:[],v.push(E))}}catch(I){s={error:I}}finally{try{$&&!$.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}if(v)try{for(var w=__values$7(v),A=w.next();!A.done;A=w.next()){var E=A.value;arrRemove_1$4.arrRemove(o,E),n.next(E)}}catch(I){c={error:I}}finally{try{A&&!A.done&&(f=w.return)&&f.call(w)}finally{if(c)throw c.error}}},function(){var u,s;try{for(var l=__values$7(o),c=l.next();!c.done;c=l.next()){var f=c.value;n.next(f)}}catch(v){u={error:v}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(u)throw u.error}}n.complete()},void 0,function(){o=null}))})}bufferCount$2.bufferCount=bufferCount$1;var bufferTime$2={},__values$6=commonjsGlobal&&commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(bufferTime$2,"__esModule",{value:!0});bufferTime$2.bufferTime=void 0;var Subscription_1$3=Subscription$2,lift_1$V=lift,OperatorSubscriber_1$G=OperatorSubscriber$2,arrRemove_1$3=arrRemove$2,async_1$7=async$1,args_1$6=args,executeSchedule_1$1=executeSchedule$2;function bufferTime$1(e){for(var t,r,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var a=(t=args_1$6.popScheduler(n))!==null&&t!==void 0?t:async_1$7.asyncScheduler,u=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return lift_1$V.operate(function(l,c){var f=[],v=!1,b=function(w){var A=w.buffer,I=w.subs;I.unsubscribe(),arrRemove_1$3.arrRemove(f,w),c.next(A),v&&$()},$=function(){if(f){var w=new Subscription_1$3.Subscription;c.add(w);var A=[],I={buffer:A,subs:w};f.push(I),executeSchedule_1$1.executeSchedule(w,a,function(){return b(I)},e)}};u!==null&&u>=0?executeSchedule_1$1.executeSchedule(c,a,$,u,!0):v=!0,$();var E=OperatorSubscriber_1$G.createOperatorSubscriber(c,function(w){var A,I,R=f.slice();try{for(var x=__values$6(R),N=x.next();!N.done;N=x.next()){var D=N.value,V=D.buffer;V.push(w),s<=V.length&&b(D)}}catch(Y){A={error:Y}}finally{try{N&&!N.done&&(I=x.return)&&I.call(x)}finally{if(A)throw A.error}}},function(){for(;f!=null&&f.length;)c.next(f.shift().buffer);E==null||E.unsubscribe(),c.complete(),c.unsubscribe()},void 0,function(){return f=null});l.subscribe(E)})}bufferTime$2.bufferTime=bufferTime$1;var bufferToggle$2={},__values$5=commonjsGlobal&&commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(bufferToggle$2,"__esModule",{value:!0});bufferToggle$2.bufferToggle=void 0;var Subscription_1$2=Subscription$2,lift_1$U=lift,innerFrom_1$f=innerFrom$2,OperatorSubscriber_1$F=OperatorSubscriber$2,noop_1$a=noop$2,arrRemove_1$2=arrRemove$2;function bufferToggle$1(e,t){return lift_1$U.operate(function(r,n){var o=[];innerFrom_1$f.innerFrom(e).subscribe(OperatorSubscriber_1$F.createOperatorSubscriber(n,function(a){var u=[];o.push(u);var s=new Subscription_1$2.Subscription,l=function(){arrRemove_1$2.arrRemove(o,u),n.next(u),s.unsubscribe()};s.add(innerFrom_1$f.innerFrom(t(a)).subscribe(OperatorSubscriber_1$F.createOperatorSubscriber(n,l,noop_1$a.noop)))},noop_1$a.noop)),r.subscribe(OperatorSubscriber_1$F.createOperatorSubscriber(n,function(a){var u,s;try{for(var l=__values$5(o),c=l.next();!c.done;c=l.next()){var f=c.value;f.push(a)}}catch(v){u={error:v}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(u)throw u.error}}},function(){for(;o.length>0;)n.next(o.shift());n.complete()}))})}bufferToggle$2.bufferToggle=bufferToggle$1;var bufferWhen$2={};Object.defineProperty(bufferWhen$2,"__esModule",{value:!0});bufferWhen$2.bufferWhen=void 0;var lift_1$T=lift,noop_1$9=noop$2,OperatorSubscriber_1$E=OperatorSubscriber$2,innerFrom_1$e=innerFrom$2;function bufferWhen$1(e){return lift_1$T.operate(function(t,r){var n=null,o=null,a=function(){o==null||o.unsubscribe();var u=n;n=[],u&&r.next(u),innerFrom_1$e.innerFrom(e()).subscribe(o=OperatorSubscriber_1$E.createOperatorSubscriber(r,a,noop_1$9.noop))};a(),t.subscribe(OperatorSubscriber_1$E.createOperatorSubscriber(r,function(u){return n==null?void 0:n.push(u)},function(){n&&r.next(n),r.complete()},void 0,function(){return n=o=null}))})}bufferWhen$2.bufferWhen=bufferWhen$1;var catchError$2={};Object.defineProperty(catchError$2,"__esModule",{value:!0});catchError$2.catchError=void 0;var innerFrom_1$d=innerFrom$2,OperatorSubscriber_1$D=OperatorSubscriber$2,lift_1$S=lift;function catchError$1(e){return lift_1$S.operate(function(t,r){var n=null,o=!1,a;n=t.subscribe(OperatorSubscriber_1$D.createOperatorSubscriber(r,void 0,void 0,function(u){a=innerFrom_1$d.innerFrom(e(u,catchError$1(e)(t))),n?(n.unsubscribe(),n=null,a.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,a.subscribe(r))})}catchError$2.catchError=catchError$1;var combineAll$1={},combineLatestAll$2={},joinAllInternals$2={},toArray$2={},reduce$2={},scanInternals$2={};Object.defineProperty(scanInternals$2,"__esModule",{value:!0});scanInternals$2.scanInternals=void 0;var OperatorSubscriber_1$C=OperatorSubscriber$2;function scanInternals$1(e,t,r,n,o){return function(a,u){var s=r,l=t,c=0;a.subscribe(OperatorSubscriber_1$C.createOperatorSubscriber(u,function(f){var v=c++;l=s?e(l,f,v):(s=!0,f),n&&u.next(l)},o&&function(){s&&u.next(l),u.complete()}))}}scanInternals$2.scanInternals=scanInternals$1;Object.defineProperty(reduce$2,"__esModule",{value:!0});reduce$2.reduce=void 0;var scanInternals_1$1=scanInternals$2,lift_1$R=lift;function reduce$1(e,t){return lift_1$R.operate(scanInternals_1$1.scanInternals(e,t,arguments.length>=2,!1,!0))}reduce$2.reduce=reduce$1;Object.defineProperty(toArray$2,"__esModule",{value:!0});toArray$2.toArray=void 0;var reduce_1$3=reduce$2,lift_1$Q=lift,arrReducer$1=function(e,t){return e.push(t),e};function toArray$1(){return lift_1$Q.operate(function(e,t){reduce_1$3.reduce(arrReducer$1,[])(e).subscribe(t)})}toArray$2.toArray=toArray$1;Object.defineProperty(joinAllInternals$2,"__esModule",{value:!0});joinAllInternals$2.joinAllInternals=void 0;var identity_1$a=identity$3,mapOneOrManyArgs_1$1=mapOneOrManyArgs$2,pipe_1$1=pipe$2,mergeMap_1$4=mergeMap$2,toArray_1=toArray$2;function joinAllInternals$1(e,t){return pipe_1$1.pipe(toArray_1.toArray(),mergeMap_1$4.mergeMap(function(r){return e(r)}),t?mapOneOrManyArgs_1$1.mapOneOrManyArgs(t):identity_1$a.identity)}joinAllInternals$2.joinAllInternals=joinAllInternals$1;Object.defineProperty(combineLatestAll$2,"__esModule",{value:!0});combineLatestAll$2.combineLatestAll=void 0;var combineLatest_1$2=combineLatest$5,joinAllInternals_1$1=joinAllInternals$2;function combineLatestAll$1(e){return joinAllInternals_1$1.joinAllInternals(combineLatest_1$2.combineLatest,e)}combineLatestAll$2.combineLatestAll=combineLatestAll$1;Object.defineProperty(combineAll$1,"__esModule",{value:!0});combineAll$1.combineAll=void 0;var combineLatestAll_1=combineLatestAll$2;combineAll$1.combineAll=combineLatestAll_1.combineLatestAll;var combineLatestWith$2={},combineLatest$3={},__read$i=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$d=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(combineLatest$3,"__esModule",{value:!0});combineLatest$3.combineLatest=void 0;var combineLatest_1$1=combineLatest$5,lift_1$P=lift,argsOrArgArray_1$1=argsOrArgArray$2,mapOneOrManyArgs_1=mapOneOrManyArgs$2,pipe_1=pipe$2,args_1$5=args;function combineLatest$2(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=args_1$5.popResultSelector(e);return r?pipe_1.pipe(combineLatest$2.apply(void 0,__spreadArray$d([],__read$i(e))),mapOneOrManyArgs_1.mapOneOrManyArgs(r)):lift_1$P.operate(function(n,o){combineLatest_1$1.combineLatestInit(__spreadArray$d([n],__read$i(argsOrArgArray_1$1.argsOrArgArray(e))))(o)})}combineLatest$3.combineLatest=combineLatest$2;var __read$h=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$c=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(combineLatestWith$2,"__esModule",{value:!0});combineLatestWith$2.combineLatestWith=void 0;var combineLatest_1=combineLatest$3;function combineLatestWith$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return combineLatest_1.combineLatest.apply(void 0,__spreadArray$c([],__read$h(e)))}combineLatestWith$2.combineLatestWith=combineLatestWith$1;var concatMap$2={};Object.defineProperty(concatMap$2,"__esModule",{value:!0});concatMap$2.concatMap=void 0;var mergeMap_1$3=mergeMap$2,isFunction_1$8=isFunction$2;function concatMap$1(e,t){return isFunction_1$8.isFunction(t)?mergeMap_1$3.mergeMap(e,t,1):mergeMap_1$3.mergeMap(e,1)}concatMap$2.concatMap=concatMap$1;var concatMapTo$2={};Object.defineProperty(concatMapTo$2,"__esModule",{value:!0});concatMapTo$2.concatMapTo=void 0;var concatMap_1=concatMap$2,isFunction_1$7=isFunction$2;function concatMapTo$1(e,t){return isFunction_1$7.isFunction(t)?concatMap_1.concatMap(function(){return e},t):concatMap_1.concatMap(function(){return e})}concatMapTo$2.concatMapTo=concatMapTo$1;var concatWith$2={},concat$3={},__read$g=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$b=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(concat$3,"__esModule",{value:!0});concat$3.concat=void 0;var lift_1$O=lift,concatAll_1=concatAll$2,args_1$4=args,from_1$1=from$2;function concat$2(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=args_1$4.popScheduler(e);return lift_1$O.operate(function(n,o){concatAll_1.concatAll()(from_1$1.from(__spreadArray$b([n],__read$g(e)),r)).subscribe(o)})}concat$3.concat=concat$2;var __read$f=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$a=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(concatWith$2,"__esModule",{value:!0});concatWith$2.concatWith=void 0;var concat_1$3=concat$3;function concatWith$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return concat_1$3.concat.apply(void 0,__spreadArray$a([],__read$f(e)))}concatWith$2.concatWith=concatWith$1;var connect$2={},fromSubscribable$2={};Object.defineProperty(fromSubscribable$2,"__esModule",{value:!0});fromSubscribable$2.fromSubscribable=void 0;var Observable_1$1=Observable$2;function fromSubscribable$1(e){return new Observable_1$1.Observable(function(t){return e.subscribe(t)})}fromSubscribable$2.fromSubscribable=fromSubscribable$1;Object.defineProperty(connect$2,"__esModule",{value:!0});connect$2.connect=void 0;var Subject_1$a=Subject$2,innerFrom_1$c=innerFrom$2,lift_1$N=lift,fromSubscribable_1=fromSubscribable$2,DEFAULT_CONFIG$1={connector:function(){return new Subject_1$a.Subject}};function connect$1(e,t){t===void 0&&(t=DEFAULT_CONFIG$1);var r=t.connector;return lift_1$N.operate(function(n,o){var a=r();innerFrom_1$c.innerFrom(e(fromSubscribable_1.fromSubscribable(a))).subscribe(o),o.add(n.subscribe(a))})}connect$2.connect=connect$1;var count$2={};Object.defineProperty(count$2,"__esModule",{value:!0});count$2.count=void 0;var reduce_1$2=reduce$2;function count$1(e){return reduce_1$2.reduce(function(t,r,n){return!e||e(r,n)?t+1:t},0)}count$2.count=count$1;var debounce$2={};Object.defineProperty(debounce$2,"__esModule",{value:!0});debounce$2.debounce=void 0;var lift_1$M=lift,noop_1$8=noop$2,OperatorSubscriber_1$B=OperatorSubscriber$2,innerFrom_1$b=innerFrom$2;function debounce$1(e){return lift_1$M.operate(function(t,r){var n=!1,o=null,a=null,u=function(){if(a==null||a.unsubscribe(),a=null,n){n=!1;var s=o;o=null,r.next(s)}};t.subscribe(OperatorSubscriber_1$B.createOperatorSubscriber(r,function(s){a==null||a.unsubscribe(),n=!0,o=s,a=OperatorSubscriber_1$B.createOperatorSubscriber(r,u,noop_1$8.noop),innerFrom_1$b.innerFrom(e(s)).subscribe(a)},function(){u(),r.complete()},void 0,function(){o=a=null}))})}debounce$2.debounce=debounce$1;var debounceTime$2={};Object.defineProperty(debounceTime$2,"__esModule",{value:!0});debounceTime$2.debounceTime=void 0;var async_1$6=async$1,lift_1$L=lift,OperatorSubscriber_1$A=OperatorSubscriber$2;function debounceTime$1(e,t){return t===void 0&&(t=async_1$6.asyncScheduler),lift_1$L.operate(function(r,n){var o=null,a=null,u=null,s=function(){if(o){o.unsubscribe(),o=null;var c=a;a=null,n.next(c)}};function l(){var c=u+e,f=t.now();if(f<c){o=this.schedule(void 0,c-f),n.add(o);return}s()}r.subscribe(OperatorSubscriber_1$A.createOperatorSubscriber(n,function(c){a=c,u=t.now(),o||(o=t.schedule(l,e),n.add(o))},function(){s(),n.complete()},void 0,function(){a=o=null}))})}debounceTime$2.debounceTime=debounceTime$1;var defaultIfEmpty$2={};Object.defineProperty(defaultIfEmpty$2,"__esModule",{value:!0});defaultIfEmpty$2.defaultIfEmpty=void 0;var lift_1$K=lift,OperatorSubscriber_1$z=OperatorSubscriber$2;function defaultIfEmpty$1(e){return lift_1$K.operate(function(t,r){var n=!1;t.subscribe(OperatorSubscriber_1$z.createOperatorSubscriber(r,function(o){n=!0,r.next(o)},function(){n||r.next(e),r.complete()}))})}defaultIfEmpty$2.defaultIfEmpty=defaultIfEmpty$1;var delay$2={},delayWhen$2={},take$2={};Object.defineProperty(take$2,"__esModule",{value:!0});take$2.take=void 0;var empty_1$2=empty,lift_1$J=lift,OperatorSubscriber_1$y=OperatorSubscriber$2;function take$1(e){return e<=0?function(){return empty_1$2.EMPTY}:lift_1$J.operate(function(t,r){var n=0;t.subscribe(OperatorSubscriber_1$y.createOperatorSubscriber(r,function(o){++n<=e&&(r.next(o),e<=n&&r.complete())}))})}take$2.take=take$1;var ignoreElements$2={};Object.defineProperty(ignoreElements$2,"__esModule",{value:!0});ignoreElements$2.ignoreElements=void 0;var lift_1$I=lift,OperatorSubscriber_1$x=OperatorSubscriber$2,noop_1$7=noop$2;function ignoreElements$1(){return lift_1$I.operate(function(e,t){e.subscribe(OperatorSubscriber_1$x.createOperatorSubscriber(t,noop_1$7.noop))})}ignoreElements$2.ignoreElements=ignoreElements$1;var mapTo$2={};Object.defineProperty(mapTo$2,"__esModule",{value:!0});mapTo$2.mapTo=void 0;var map_1$3=map$2;function mapTo$1(e){return map_1$3.map(function(){return e})}mapTo$2.mapTo=mapTo$1;Object.defineProperty(delayWhen$2,"__esModule",{value:!0});delayWhen$2.delayWhen=void 0;var concat_1$2=concat$5,take_1$2=take$2,ignoreElements_1=ignoreElements$2,mapTo_1=mapTo$2,mergeMap_1$2=mergeMap$2;function delayWhen$1(e,t){return t?function(r){return concat_1$2.concat(t.pipe(take_1$2.take(1),ignoreElements_1.ignoreElements()),r.pipe(delayWhen$1(e)))}:mergeMap_1$2.mergeMap(function(r,n){return e(r,n).pipe(take_1$2.take(1),mapTo_1.mapTo(r))})}delayWhen$2.delayWhen=delayWhen$1;Object.defineProperty(delay$2,"__esModule",{value:!0});delay$2.delay=void 0;var async_1$5=async$1,delayWhen_1=delayWhen$2,timer_1$3=timer$2;function delay$1(e,t){t===void 0&&(t=async_1$5.asyncScheduler);var r=timer_1$3.timer(e,t);return delayWhen_1.delayWhen(function(){return r})}delay$2.delay=delay$1;var dematerialize$2={};Object.defineProperty(dematerialize$2,"__esModule",{value:!0});dematerialize$2.dematerialize=void 0;var Notification_1$1=Notification$1,lift_1$H=lift,OperatorSubscriber_1$w=OperatorSubscriber$2;function dematerialize$1(){return lift_1$H.operate(function(e,t){e.subscribe(OperatorSubscriber_1$w.createOperatorSubscriber(t,function(r){return Notification_1$1.observeNotification(r,t)}))})}dematerialize$2.dematerialize=dematerialize$1;var distinct$2={};Object.defineProperty(distinct$2,"__esModule",{value:!0});distinct$2.distinct=void 0;var lift_1$G=lift,OperatorSubscriber_1$v=OperatorSubscriber$2,noop_1$6=noop$2;function distinct$1(e,t){return lift_1$G.operate(function(r,n){var o=new Set;r.subscribe(OperatorSubscriber_1$v.createOperatorSubscriber(n,function(a){var u=e?e(a):a;o.has(u)||(o.add(u),n.next(a))})),t==null||t.subscribe(OperatorSubscriber_1$v.createOperatorSubscriber(n,function(){return o.clear()},noop_1$6.noop))})}distinct$2.distinct=distinct$1;var distinctUntilChanged$2={};Object.defineProperty(distinctUntilChanged$2,"__esModule",{value:!0});distinctUntilChanged$2.distinctUntilChanged=void 0;var identity_1$9=identity$3,lift_1$F=lift,OperatorSubscriber_1$u=OperatorSubscriber$2;function distinctUntilChanged$1(e,t){return t===void 0&&(t=identity_1$9.identity),e=e!=null?e:defaultCompare$1,lift_1$F.operate(function(r,n){var o,a=!0;r.subscribe(OperatorSubscriber_1$u.createOperatorSubscriber(n,function(u){var s=t(u);(a||!e(o,s))&&(a=!1,o=s,n.next(u))}))})}distinctUntilChanged$2.distinctUntilChanged=distinctUntilChanged$1;function defaultCompare$1(e,t){return e===t}var distinctUntilKeyChanged$2={};Object.defineProperty(distinctUntilKeyChanged$2,"__esModule",{value:!0});distinctUntilKeyChanged$2.distinctUntilKeyChanged=void 0;var distinctUntilChanged_1=distinctUntilChanged$2;function distinctUntilKeyChanged$1(e,t){return distinctUntilChanged_1.distinctUntilChanged(function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}distinctUntilKeyChanged$2.distinctUntilKeyChanged=distinctUntilKeyChanged$1;var elementAt$2={},throwIfEmpty$2={};Object.defineProperty(throwIfEmpty$2,"__esModule",{value:!0});throwIfEmpty$2.throwIfEmpty=void 0;var EmptyError_1$3=EmptyError$1,lift_1$E=lift,OperatorSubscriber_1$t=OperatorSubscriber$2;function throwIfEmpty$1(e){return e===void 0&&(e=defaultErrorFactory$1),lift_1$E.operate(function(t,r){var n=!1;t.subscribe(OperatorSubscriber_1$t.createOperatorSubscriber(r,function(o){n=!0,r.next(o)},function(){return n?r.complete():r.error(e())}))})}throwIfEmpty$2.throwIfEmpty=throwIfEmpty$1;function defaultErrorFactory$1(){return new EmptyError_1$3.EmptyError}Object.defineProperty(elementAt$2,"__esModule",{value:!0});elementAt$2.elementAt=void 0;var ArgumentOutOfRangeError_1=ArgumentOutOfRangeError$1,filter_1$3=filter$2,throwIfEmpty_1$2=throwIfEmpty$2,defaultIfEmpty_1$2=defaultIfEmpty$2,take_1$1=take$2;function elementAt$1(e,t){if(e<0)throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;var r=arguments.length>=2;return function(n){return n.pipe(filter_1$3.filter(function(o,a){return a===e}),take_1$1.take(1),r?defaultIfEmpty_1$2.defaultIfEmpty(t):throwIfEmpty_1$2.throwIfEmpty(function(){return new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError}))}}elementAt$2.elementAt=elementAt$1;var endWith$2={},__read$e=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$9=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(endWith$2,"__esModule",{value:!0});endWith$2.endWith=void 0;var concat_1$1=concat$5,of_1=of$2;function endWith$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return concat_1$1.concat(r,of_1.of.apply(void 0,__spreadArray$9([],__read$e(e))))}}endWith$2.endWith=endWith$1;var every$2={};Object.defineProperty(every$2,"__esModule",{value:!0});every$2.every=void 0;var lift_1$D=lift,OperatorSubscriber_1$s=OperatorSubscriber$2;function every$1(e,t){return lift_1$D.operate(function(r,n){var o=0;r.subscribe(OperatorSubscriber_1$s.createOperatorSubscriber(n,function(a){e.call(t,a,o++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}every$2.every=every$1;var exhaust$1={},exhaustAll$2={},exhaustMap$2={};Object.defineProperty(exhaustMap$2,"__esModule",{value:!0});exhaustMap$2.exhaustMap=void 0;var map_1$2=map$2,innerFrom_1$a=innerFrom$2,lift_1$C=lift,OperatorSubscriber_1$r=OperatorSubscriber$2;function exhaustMap$1(e,t){return t?function(r){return r.pipe(exhaustMap$1(function(n,o){return innerFrom_1$a.innerFrom(e(n,o)).pipe(map_1$2.map(function(a,u){return t(n,a,o,u)}))}))}:lift_1$C.operate(function(r,n){var o=0,a=null,u=!1;r.subscribe(OperatorSubscriber_1$r.createOperatorSubscriber(n,function(s){a||(a=OperatorSubscriber_1$r.createOperatorSubscriber(n,void 0,function(){a=null,u&&n.complete()}),innerFrom_1$a.innerFrom(e(s,o++)).subscribe(a))},function(){u=!0,!a&&n.complete()}))})}exhaustMap$2.exhaustMap=exhaustMap$1;Object.defineProperty(exhaustAll$2,"__esModule",{value:!0});exhaustAll$2.exhaustAll=void 0;var exhaustMap_1=exhaustMap$2,identity_1$8=identity$3;function exhaustAll$1(){return exhaustMap_1.exhaustMap(identity_1$8.identity)}exhaustAll$2.exhaustAll=exhaustAll$1;Object.defineProperty(exhaust$1,"__esModule",{value:!0});exhaust$1.exhaust=void 0;var exhaustAll_1=exhaustAll$2;exhaust$1.exhaust=exhaustAll_1.exhaustAll;var expand$2={};Object.defineProperty(expand$2,"__esModule",{value:!0});expand$2.expand=void 0;var lift_1$B=lift,mergeInternals_1$1=mergeInternals$2;function expand$1(e,t,r){return t===void 0&&(t=1/0),t=(t||0)<1?1/0:t,lift_1$B.operate(function(n,o){return mergeInternals_1$1.mergeInternals(n,o,e,t,void 0,!0,r)})}expand$2.expand=expand$1;var finalize$2={};Object.defineProperty(finalize$2,"__esModule",{value:!0});finalize$2.finalize=void 0;var lift_1$A=lift;function finalize$1(e){return lift_1$A.operate(function(t,r){try{t.subscribe(r)}finally{r.add(e)}})}finalize$2.finalize=finalize$1;var find$2={};Object.defineProperty(find$2,"__esModule",{value:!0});find$2.createFind=find$2.find=void 0;var lift_1$z=lift,OperatorSubscriber_1$q=OperatorSubscriber$2;function find$1(e,t){return lift_1$z.operate(createFind$1(e,t,"value"))}find$2.find=find$1;function createFind$1(e,t,r){var n=r==="index";return function(o,a){var u=0;o.subscribe(OperatorSubscriber_1$q.createOperatorSubscriber(a,function(s){var l=u++;e.call(t,s,l,o)&&(a.next(n?l:s),a.complete())},function(){a.next(n?-1:void 0),a.complete()}))}}find$2.createFind=createFind$1;var findIndex$2={};Object.defineProperty(findIndex$2,"__esModule",{value:!0});findIndex$2.findIndex=void 0;var lift_1$y=lift,find_1=find$2;function findIndex$1(e,t){return lift_1$y.operate(find_1.createFind(e,t,"index"))}findIndex$2.findIndex=findIndex$1;var first$2={};Object.defineProperty(first$2,"__esModule",{value:!0});first$2.first=void 0;var EmptyError_1$2=EmptyError$1,filter_1$2=filter$2,take_1=take$2,defaultIfEmpty_1$1=defaultIfEmpty$2,throwIfEmpty_1$1=throwIfEmpty$2,identity_1$7=identity$3;function first$1(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?filter_1$2.filter(function(o,a){return e(o,a,n)}):identity_1$7.identity,take_1.take(1),r?defaultIfEmpty_1$1.defaultIfEmpty(t):throwIfEmpty_1$1.throwIfEmpty(function(){return new EmptyError_1$2.EmptyError}))}}first$2.first=first$1;var groupBy$2={};Object.defineProperty(groupBy$2,"__esModule",{value:!0});groupBy$2.groupBy=void 0;var Observable_1=Observable$2,innerFrom_1$9=innerFrom$2,Subject_1$9=Subject$2,lift_1$x=lift,OperatorSubscriber_1$p=OperatorSubscriber$2;function groupBy$1(e,t,r,n){return lift_1$x.operate(function(o,a){var u;!t||typeof t=="function"?u=t:(r=t.duration,u=t.element,n=t.connector);var s=new Map,l=function(E){s.forEach(E),E(a)},c=function(E){return l(function(w){return w.error(E)})},f=0,v=!1,b=new OperatorSubscriber_1$p.OperatorSubscriber(a,function(E){try{var w=e(E),A=s.get(w);if(!A){s.set(w,A=n?n():new Subject_1$9.Subject);var I=$(w,A);if(a.next(I),r){var R=OperatorSubscriber_1$p.createOperatorSubscriber(A,function(){A.complete(),R==null||R.unsubscribe()},void 0,void 0,function(){return s.delete(w)});b.add(innerFrom_1$9.innerFrom(r(I)).subscribe(R))}}A.next(u?u(E):E)}catch(x){c(x)}},function(){return l(function(E){return E.complete()})},c,function(){return s.clear()},function(){return v=!0,f===0});o.subscribe(b);function $(E,w){var A=new Observable_1.Observable(function(I){f++;var R=w.subscribe(I);return function(){R.unsubscribe(),--f===0&&v&&b.unsubscribe()}});return A.key=E,A}})}groupBy$2.groupBy=groupBy$1;var isEmpty$2={};Object.defineProperty(isEmpty$2,"__esModule",{value:!0});isEmpty$2.isEmpty=void 0;var lift_1$w=lift,OperatorSubscriber_1$o=OperatorSubscriber$2;function isEmpty$1(){return lift_1$w.operate(function(e,t){e.subscribe(OperatorSubscriber_1$o.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}isEmpty$2.isEmpty=isEmpty$1;var last$3={},takeLast$2={},__values$4=commonjsGlobal&&commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(takeLast$2,"__esModule",{value:!0});takeLast$2.takeLast=void 0;var empty_1$1=empty,lift_1$v=lift,OperatorSubscriber_1$n=OperatorSubscriber$2;function takeLast$1(e){return e<=0?function(){return empty_1$1.EMPTY}:lift_1$v.operate(function(t,r){var n=[];t.subscribe(OperatorSubscriber_1$n.createOperatorSubscriber(r,function(o){n.push(o),e<n.length&&n.shift()},function(){var o,a;try{for(var u=__values$4(n),s=u.next();!s.done;s=u.next()){var l=s.value;r.next(l)}}catch(c){o={error:c}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}r.complete()},void 0,function(){n=null}))})}takeLast$2.takeLast=takeLast$1;Object.defineProperty(last$3,"__esModule",{value:!0});last$3.last=void 0;var EmptyError_1$1=EmptyError$1,filter_1$1=filter$2,takeLast_1=takeLast$2,throwIfEmpty_1=throwIfEmpty$2,defaultIfEmpty_1=defaultIfEmpty$2,identity_1$6=identity$3;function last$2(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?filter_1$1.filter(function(o,a){return e(o,a,n)}):identity_1$6.identity,takeLast_1.takeLast(1),r?defaultIfEmpty_1.defaultIfEmpty(t):throwIfEmpty_1.throwIfEmpty(function(){return new EmptyError_1$1.EmptyError}))}}last$3.last=last$2;var materialize$2={};Object.defineProperty(materialize$2,"__esModule",{value:!0});materialize$2.materialize=void 0;var Notification_1=Notification$1,lift_1$u=lift,OperatorSubscriber_1$m=OperatorSubscriber$2;function materialize$1(){return lift_1$u.operate(function(e,t){e.subscribe(OperatorSubscriber_1$m.createOperatorSubscriber(t,function(r){t.next(Notification_1.Notification.createNext(r))},function(){t.next(Notification_1.Notification.createComplete()),t.complete()},function(r){t.next(Notification_1.Notification.createError(r)),t.complete()}))})}materialize$2.materialize=materialize$1;var max$2={};Object.defineProperty(max$2,"__esModule",{value:!0});max$2.max=void 0;var reduce_1$1=reduce$2,isFunction_1$6=isFunction$2;function max$1(e){return reduce_1$1.reduce(isFunction_1$6.isFunction(e)?function(t,r){return e(t,r)>0?t:r}:function(t,r){return t>r?t:r})}max$2.max=max$1;var flatMap$1={};Object.defineProperty(flatMap$1,"__esModule",{value:!0});flatMap$1.flatMap=void 0;var mergeMap_1$1=mergeMap$2;flatMap$1.flatMap=mergeMap_1$1.mergeMap;var mergeMapTo$2={};Object.defineProperty(mergeMapTo$2,"__esModule",{value:!0});mergeMapTo$2.mergeMapTo=void 0;var mergeMap_1=mergeMap$2,isFunction_1$5=isFunction$2;function mergeMapTo$1(e,t,r){return r===void 0&&(r=1/0),isFunction_1$5.isFunction(t)?mergeMap_1.mergeMap(function(){return e},t,r):(typeof t=="number"&&(r=t),mergeMap_1.mergeMap(function(){return e},r))}mergeMapTo$2.mergeMapTo=mergeMapTo$1;var mergeScan$2={};Object.defineProperty(mergeScan$2,"__esModule",{value:!0});mergeScan$2.mergeScan=void 0;var lift_1$t=lift,mergeInternals_1=mergeInternals$2;function mergeScan$1(e,t,r){return r===void 0&&(r=1/0),lift_1$t.operate(function(n,o){var a=t;return mergeInternals_1.mergeInternals(n,o,function(u,s){return e(a,u,s)},r,function(u){a=u},!1,void 0,function(){return a=null})})}mergeScan$2.mergeScan=mergeScan$1;var mergeWith$2={},merge$2={},__read$d=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$8=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(merge$2,"__esModule",{value:!0});merge$2.merge=void 0;var lift_1$s=lift,argsOrArgArray_1=argsOrArgArray$2,mergeAll_1=mergeAll$2,args_1$3=args,from_1=from$2;function merge$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=args_1$3.popScheduler(e),n=args_1$3.popNumber(e,1/0);return e=argsOrArgArray_1.argsOrArgArray(e),lift_1$s.operate(function(o,a){mergeAll_1.mergeAll(n)(from_1.from(__spreadArray$8([o],__read$d(e)),r)).subscribe(a)})}merge$2.merge=merge$1;var __read$c=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$7=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(mergeWith$2,"__esModule",{value:!0});mergeWith$2.mergeWith=void 0;var merge_1=merge$2;function mergeWith$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return merge_1.merge.apply(void 0,__spreadArray$7([],__read$c(e)))}mergeWith$2.mergeWith=mergeWith$1;var min$2={};Object.defineProperty(min$2,"__esModule",{value:!0});min$2.min=void 0;var reduce_1=reduce$2,isFunction_1$4=isFunction$2;function min$1(e){return reduce_1.reduce(isFunction_1$4.isFunction(e)?function(t,r){return e(t,r)<0?t:r}:function(t,r){return t<r?t:r})}min$2.min=min$1;var multicast$2={};Object.defineProperty(multicast$2,"__esModule",{value:!0});multicast$2.multicast=void 0;var ConnectableObservable_1$2=ConnectableObservable$2,isFunction_1$3=isFunction$2,connect_1$1=connect$2;function multicast$1(e,t){var r=isFunction_1$3.isFunction(e)?e:function(){return e};return isFunction_1$3.isFunction(t)?connect_1$1.connect(t,{connector:r}):function(n){return new ConnectableObservable_1$2.ConnectableObservable(n,r)}}multicast$2.multicast=multicast$1;var pairwise$2={};Object.defineProperty(pairwise$2,"__esModule",{value:!0});pairwise$2.pairwise=void 0;var lift_1$r=lift,OperatorSubscriber_1$l=OperatorSubscriber$2;function pairwise$1(){return lift_1$r.operate(function(e,t){var r,n=!1;e.subscribe(OperatorSubscriber_1$l.createOperatorSubscriber(t,function(o){var a=r;r=o,n&&t.next([a,o]),n=!0}))})}pairwise$2.pairwise=pairwise$1;var pluck$2={};Object.defineProperty(pluck$2,"__esModule",{value:!0});pluck$2.pluck=void 0;var map_1$1=map$2;function pluck$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(r===0)throw new Error("list of properties cannot be empty.");return map_1$1.map(function(n){for(var o=n,a=0;a<r;a++){var u=o==null?void 0:o[e[a]];if(typeof u!="undefined")o=u;else return}return o})}pluck$2.pluck=pluck$1;var publish$2={};Object.defineProperty(publish$2,"__esModule",{value:!0});publish$2.publish=void 0;var Subject_1$8=Subject$2,multicast_1$1=multicast$2,connect_1=connect$2;function publish$1(e){return e?function(t){return connect_1.connect(e)(t)}:function(t){return multicast_1$1.multicast(new Subject_1$8.Subject)(t)}}publish$2.publish=publish$1;var publishBehavior$2={};Object.defineProperty(publishBehavior$2,"__esModule",{value:!0});publishBehavior$2.publishBehavior=void 0;var BehaviorSubject_1=BehaviorSubject$2,ConnectableObservable_1$1=ConnectableObservable$2;function publishBehavior$1(e){return function(t){var r=new BehaviorSubject_1.BehaviorSubject(e);return new ConnectableObservable_1$1.ConnectableObservable(t,function(){return r})}}publishBehavior$2.publishBehavior=publishBehavior$1;var publishLast$2={};Object.defineProperty(publishLast$2,"__esModule",{value:!0});publishLast$2.publishLast=void 0;var AsyncSubject_1=AsyncSubject$2,ConnectableObservable_1=ConnectableObservable$2;function publishLast$1(){return function(e){var t=new AsyncSubject_1.AsyncSubject;return new ConnectableObservable_1.ConnectableObservable(e,function(){return t})}}publishLast$2.publishLast=publishLast$1;var publishReplay$2={};Object.defineProperty(publishReplay$2,"__esModule",{value:!0});publishReplay$2.publishReplay=void 0;var ReplaySubject_1$1=ReplaySubject$2,multicast_1=multicast$2,isFunction_1$2=isFunction$2;function publishReplay$1(e,t,r,n){r&&!isFunction_1$2.isFunction(r)&&(n=r);var o=isFunction_1$2.isFunction(r)?r:void 0;return function(a){return multicast_1.multicast(new ReplaySubject_1$1.ReplaySubject(e,t,n),o)(a)}}publishReplay$2.publishReplay=publishReplay$1;var raceWith$2={},__read$b=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$6=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(raceWith$2,"__esModule",{value:!0});raceWith$2.raceWith=void 0;var race_1=race$2,lift_1$q=lift,identity_1$5=identity$3;function raceWith$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?lift_1$q.operate(function(r,n){race_1.raceInit(__spreadArray$6([r],__read$b(e)))(n)}):identity_1$5.identity}raceWith$2.raceWith=raceWith$1;var repeat$2={};Object.defineProperty(repeat$2,"__esModule",{value:!0});repeat$2.repeat=void 0;var empty_1=empty,lift_1$p=lift,OperatorSubscriber_1$k=OperatorSubscriber$2,innerFrom_1$8=innerFrom$2,timer_1$2=timer$2;function repeat$1(e){var t,r=1/0,n;return e!=null&&(typeof e=="object"?(t=e.count,r=t===void 0?1/0:t,n=e.delay):r=e),r<=0?function(){return empty_1.EMPTY}:lift_1$p.operate(function(o,a){var u=0,s,l=function(){if(s==null||s.unsubscribe(),s=null,n!=null){var f=typeof n=="number"?timer_1$2.timer(n):innerFrom_1$8.innerFrom(n(u)),v=OperatorSubscriber_1$k.createOperatorSubscriber(a,function(){v.unsubscribe(),c()});f.subscribe(v)}else c()},c=function(){var f=!1;s=o.subscribe(OperatorSubscriber_1$k.createOperatorSubscriber(a,void 0,function(){++u<r?s?l():f=!0:a.complete()})),f&&l()};c()})}repeat$2.repeat=repeat$1;var repeatWhen$2={};Object.defineProperty(repeatWhen$2,"__esModule",{value:!0});repeatWhen$2.repeatWhen=void 0;var Subject_1$7=Subject$2,lift_1$o=lift,OperatorSubscriber_1$j=OperatorSubscriber$2;function repeatWhen$1(e){return lift_1$o.operate(function(t,r){var n,o=!1,a,u=!1,s=!1,l=function(){return s&&u&&(r.complete(),!0)},c=function(){return a||(a=new Subject_1$7.Subject,e(a).subscribe(OperatorSubscriber_1$j.createOperatorSubscriber(r,function(){n?f():o=!0},function(){u=!0,l()}))),a},f=function(){s=!1,n=t.subscribe(OperatorSubscriber_1$j.createOperatorSubscriber(r,void 0,function(){s=!0,!l()&&c().next()})),o&&(n.unsubscribe(),n=null,o=!1,f())};f()})}repeatWhen$2.repeatWhen=repeatWhen$1;var retry$2={};Object.defineProperty(retry$2,"__esModule",{value:!0});retry$2.retry=void 0;var lift_1$n=lift,OperatorSubscriber_1$i=OperatorSubscriber$2,identity_1$4=identity$3,timer_1$1=timer$2,innerFrom_1$7=innerFrom$2;function retry$1(e){e===void 0&&(e=1/0);var t;e&&typeof e=="object"?t=e:t={count:e};var r=t.count,n=r===void 0?1/0:r,o=t.delay,a=t.resetOnSuccess,u=a===void 0?!1:a;return n<=0?identity_1$4.identity:lift_1$n.operate(function(s,l){var c=0,f,v=function(){var b=!1;f=s.subscribe(OperatorSubscriber_1$i.createOperatorSubscriber(l,function($){u&&(c=0),l.next($)},void 0,function($){if(c++<n){var E=function(){f?(f.unsubscribe(),f=null,v()):b=!0};if(o!=null){var w=typeof o=="number"?timer_1$1.timer(o):innerFrom_1$7.innerFrom(o($,c)),A=OperatorSubscriber_1$i.createOperatorSubscriber(l,function(){A.unsubscribe(),E()},function(){l.complete()});w.subscribe(A)}else E()}else l.error($)})),b&&(f.unsubscribe(),f=null,v())};v()})}retry$2.retry=retry$1;var retryWhen$2={};Object.defineProperty(retryWhen$2,"__esModule",{value:!0});retryWhen$2.retryWhen=void 0;var Subject_1$6=Subject$2,lift_1$m=lift,OperatorSubscriber_1$h=OperatorSubscriber$2;function retryWhen$1(e){return lift_1$m.operate(function(t,r){var n,o=!1,a,u=function(){n=t.subscribe(OperatorSubscriber_1$h.createOperatorSubscriber(r,void 0,void 0,function(s){a||(a=new Subject_1$6.Subject,e(a).subscribe(OperatorSubscriber_1$h.createOperatorSubscriber(r,function(){return n?u():o=!0}))),a&&a.next(s)})),o&&(n.unsubscribe(),n=null,o=!1,u())};u()})}retryWhen$2.retryWhen=retryWhen$1;var sample$2={};Object.defineProperty(sample$2,"__esModule",{value:!0});sample$2.sample=void 0;var lift_1$l=lift,noop_1$5=noop$2,OperatorSubscriber_1$g=OperatorSubscriber$2;function sample$1(e){return lift_1$l.operate(function(t,r){var n=!1,o=null;t.subscribe(OperatorSubscriber_1$g.createOperatorSubscriber(r,function(a){n=!0,o=a})),e.subscribe(OperatorSubscriber_1$g.createOperatorSubscriber(r,function(){if(n){n=!1;var a=o;o=null,r.next(a)}},noop_1$5.noop))})}sample$2.sample=sample$1;var sampleTime$2={};Object.defineProperty(sampleTime$2,"__esModule",{value:!0});sampleTime$2.sampleTime=void 0;var async_1$4=async$1,sample_1=sample$2,interval_1=interval$2;function sampleTime$1(e,t){return t===void 0&&(t=async_1$4.asyncScheduler),sample_1.sample(interval_1.interval(e,t))}sampleTime$2.sampleTime=sampleTime$1;var scan$2={};Object.defineProperty(scan$2,"__esModule",{value:!0});scan$2.scan=void 0;var lift_1$k=lift,scanInternals_1=scanInternals$2;function scan$1(e,t){return lift_1$k.operate(scanInternals_1.scanInternals(e,t,arguments.length>=2,!0))}scan$2.scan=scan$1;var sequenceEqual$2={};Object.defineProperty(sequenceEqual$2,"__esModule",{value:!0});sequenceEqual$2.sequenceEqual=void 0;var lift_1$j=lift,OperatorSubscriber_1$f=OperatorSubscriber$2;function sequenceEqual$1(e,t){return t===void 0&&(t=function(r,n){return r===n}),lift_1$j.operate(function(r,n){var o=createState$1(),a=createState$1(),u=function(l){n.next(l),n.complete()},s=function(l,c){var f=OperatorSubscriber_1$f.createOperatorSubscriber(n,function(v){var b=c.buffer,$=c.complete;b.length===0?$?u(!1):l.buffer.push(v):!t(v,b.shift())&&u(!1)},function(){l.complete=!0;var v=c.complete,b=c.buffer;v&&u(b.length===0),f==null||f.unsubscribe()});return f};r.subscribe(s(o,a)),e.subscribe(s(a,o))})}sequenceEqual$2.sequenceEqual=sequenceEqual$1;function createState$1(){return{buffer:[],complete:!1}}var share$2={},__read$a=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$5=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(share$2,"__esModule",{value:!0});share$2.share=void 0;var innerFrom_1$6=innerFrom$2,Subject_1$5=Subject$2,Subscriber_1=Subscriber$1,lift_1$i=lift;function share$1(e){e===void 0&&(e={});var t=e.connector,r=t===void 0?function(){return new Subject_1$5.Subject}:t,n=e.resetOnError,o=n===void 0?!0:n,a=e.resetOnComplete,u=a===void 0?!0:a,s=e.resetOnRefCountZero,l=s===void 0?!0:s;return function(c){var f,v,b,$=0,E=!1,w=!1,A=function(){v==null||v.unsubscribe(),v=void 0},I=function(){A(),f=b=void 0,E=w=!1},R=function(){var x=f;I(),x==null||x.unsubscribe()};return lift_1$i.operate(function(x,N){$++,!w&&!E&&A();var D=b=b!=null?b:r();N.add(function(){$--,$===0&&!w&&!E&&(v=handleReset$1(R,l))}),D.subscribe(N),!f&&$>0&&(f=new Subscriber_1.SafeSubscriber({next:function(V){return D.next(V)},error:function(V){w=!0,A(),v=handleReset$1(I,o,V),D.error(V)},complete:function(){E=!0,A(),v=handleReset$1(I,u),D.complete()}}),innerFrom_1$6.innerFrom(x).subscribe(f))})(c)}}share$2.share=share$1;function handleReset$1(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(t===!0){e();return}if(t!==!1){var o=new Subscriber_1.SafeSubscriber({next:function(){o.unsubscribe(),e()}});return t.apply(void 0,__spreadArray$5([],__read$a(r))).subscribe(o)}}var shareReplay$2={};Object.defineProperty(shareReplay$2,"__esModule",{value:!0});shareReplay$2.shareReplay=void 0;var ReplaySubject_1=ReplaySubject$2,share_1=share$2;function shareReplay$1(e,t,r){var n,o,a,u,s=!1;return e&&typeof e=="object"?(n=e.bufferSize,u=n===void 0?1/0:n,o=e.windowTime,t=o===void 0?1/0:o,a=e.refCount,s=a===void 0?!1:a,r=e.scheduler):u=e!=null?e:1/0,share_1.share({connector:function(){return new ReplaySubject_1.ReplaySubject(u,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}shareReplay$2.shareReplay=shareReplay$1;var single$2={};Object.defineProperty(single$2,"__esModule",{value:!0});single$2.single=void 0;var EmptyError_1=EmptyError$1,SequenceError_1=SequenceError$1,NotFoundError_1=NotFoundError$1,lift_1$h=lift,OperatorSubscriber_1$e=OperatorSubscriber$2;function single$1(e){return lift_1$h.operate(function(t,r){var n=!1,o,a=!1,u=0;t.subscribe(OperatorSubscriber_1$e.createOperatorSubscriber(r,function(s){a=!0,(!e||e(s,u++,t))&&(n&&r.error(new SequenceError_1.SequenceError("Too many matching values")),n=!0,o=s)},function(){n?(r.next(o),r.complete()):r.error(a?new NotFoundError_1.NotFoundError("No matching values"):new EmptyError_1.EmptyError)}))})}single$2.single=single$1;var skip$2={};Object.defineProperty(skip$2,"__esModule",{value:!0});skip$2.skip=void 0;var filter_1=filter$2;function skip$1(e){return filter_1.filter(function(t,r){return e<=r})}skip$2.skip=skip$1;var skipLast$2={};Object.defineProperty(skipLast$2,"__esModule",{value:!0});skipLast$2.skipLast=void 0;var identity_1$3=identity$3,lift_1$g=lift,OperatorSubscriber_1$d=OperatorSubscriber$2;function skipLast$1(e){return e<=0?identity_1$3.identity:lift_1$g.operate(function(t,r){var n=new Array(e),o=0;return t.subscribe(OperatorSubscriber_1$d.createOperatorSubscriber(r,function(a){var u=o++;if(u<e)n[u]=a;else{var s=u%e,l=n[s];n[s]=a,r.next(l)}})),function(){n=null}})}skipLast$2.skipLast=skipLast$1;var skipUntil$2={};Object.defineProperty(skipUntil$2,"__esModule",{value:!0});skipUntil$2.skipUntil=void 0;var lift_1$f=lift,OperatorSubscriber_1$c=OperatorSubscriber$2,innerFrom_1$5=innerFrom$2,noop_1$4=noop$2;function skipUntil$1(e){return lift_1$f.operate(function(t,r){var n=!1,o=OperatorSubscriber_1$c.createOperatorSubscriber(r,function(){o==null||o.unsubscribe(),n=!0},noop_1$4.noop);innerFrom_1$5.innerFrom(e).subscribe(o),t.subscribe(OperatorSubscriber_1$c.createOperatorSubscriber(r,function(a){return n&&r.next(a)}))})}skipUntil$2.skipUntil=skipUntil$1;var skipWhile$2={};Object.defineProperty(skipWhile$2,"__esModule",{value:!0});skipWhile$2.skipWhile=void 0;var lift_1$e=lift,OperatorSubscriber_1$b=OperatorSubscriber$2;function skipWhile$1(e){return lift_1$e.operate(function(t,r){var n=!1,o=0;t.subscribe(OperatorSubscriber_1$b.createOperatorSubscriber(r,function(a){return(n||(n=!e(a,o++)))&&r.next(a)}))})}skipWhile$2.skipWhile=skipWhile$1;var startWith$2={};Object.defineProperty(startWith$2,"__esModule",{value:!0});startWith$2.startWith=void 0;var concat_1=concat$5,args_1$2=args,lift_1$d=lift;function startWith$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=args_1$2.popScheduler(e);return lift_1$d.operate(function(n,o){(r?concat_1.concat(e,n,r):concat_1.concat(e,n)).subscribe(o)})}startWith$2.startWith=startWith$1;var switchAll$2={},switchMap$2={};Object.defineProperty(switchMap$2,"__esModule",{value:!0});switchMap$2.switchMap=void 0;var innerFrom_1$4=innerFrom$2,lift_1$c=lift,OperatorSubscriber_1$a=OperatorSubscriber$2;function switchMap$1(e,t){return lift_1$c.operate(function(r,n){var o=null,a=0,u=!1,s=function(){return u&&!o&&n.complete()};r.subscribe(OperatorSubscriber_1$a.createOperatorSubscriber(n,function(l){o==null||o.unsubscribe();var c=0,f=a++;innerFrom_1$4.innerFrom(e(l,f)).subscribe(o=OperatorSubscriber_1$a.createOperatorSubscriber(n,function(v){return n.next(t?t(l,v,f,c++):v)},function(){o=null,s()}))},function(){u=!0,s()}))})}switchMap$2.switchMap=switchMap$1;Object.defineProperty(switchAll$2,"__esModule",{value:!0});switchAll$2.switchAll=void 0;var switchMap_1$2=switchMap$2,identity_1$2=identity$3;function switchAll$1(){return switchMap_1$2.switchMap(identity_1$2.identity)}switchAll$2.switchAll=switchAll$1;var switchMapTo$2={};Object.defineProperty(switchMapTo$2,"__esModule",{value:!0});switchMapTo$2.switchMapTo=void 0;var switchMap_1$1=switchMap$2,isFunction_1$1=isFunction$2;function switchMapTo$1(e,t){return isFunction_1$1.isFunction(t)?switchMap_1$1.switchMap(function(){return e},t):switchMap_1$1.switchMap(function(){return e})}switchMapTo$2.switchMapTo=switchMapTo$1;var switchScan$2={};Object.defineProperty(switchScan$2,"__esModule",{value:!0});switchScan$2.switchScan=void 0;var switchMap_1=switchMap$2,lift_1$b=lift;function switchScan$1(e,t){return lift_1$b.operate(function(r,n){var o=t;return switchMap_1.switchMap(function(a,u){return e(o,a,u)},function(a,u){return o=u,u})(r).subscribe(n),function(){o=null}})}switchScan$2.switchScan=switchScan$1;var takeUntil$2={};Object.defineProperty(takeUntil$2,"__esModule",{value:!0});takeUntil$2.takeUntil=void 0;var lift_1$a=lift,OperatorSubscriber_1$9=OperatorSubscriber$2,innerFrom_1$3=innerFrom$2,noop_1$3=noop$2;function takeUntil$1(e){return lift_1$a.operate(function(t,r){innerFrom_1$3.innerFrom(e).subscribe(OperatorSubscriber_1$9.createOperatorSubscriber(r,function(){return r.complete()},noop_1$3.noop)),!r.closed&&t.subscribe(r)})}takeUntil$2.takeUntil=takeUntil$1;var takeWhile$2={};Object.defineProperty(takeWhile$2,"__esModule",{value:!0});takeWhile$2.takeWhile=void 0;var lift_1$9=lift,OperatorSubscriber_1$8=OperatorSubscriber$2;function takeWhile$1(e,t){return t===void 0&&(t=!1),lift_1$9.operate(function(r,n){var o=0;r.subscribe(OperatorSubscriber_1$8.createOperatorSubscriber(n,function(a){var u=e(a,o++);(u||t)&&n.next(a),!u&&n.complete()}))})}takeWhile$2.takeWhile=takeWhile$1;var tap$2={};Object.defineProperty(tap$2,"__esModule",{value:!0});tap$2.tap=void 0;var isFunction_1=isFunction$2,lift_1$8=lift,OperatorSubscriber_1$7=OperatorSubscriber$2,identity_1$1=identity$3;function tap$1(e,t,r){var n=isFunction_1.isFunction(e)||t||r?{next:e,error:t,complete:r}:e;return n?lift_1$8.operate(function(o,a){var u;(u=n.subscribe)===null||u===void 0||u.call(n);var s=!0;o.subscribe(OperatorSubscriber_1$7.createOperatorSubscriber(a,function(l){var c;(c=n.next)===null||c===void 0||c.call(n,l),a.next(l)},function(){var l;s=!1,(l=n.complete)===null||l===void 0||l.call(n),a.complete()},function(l){var c;s=!1,(c=n.error)===null||c===void 0||c.call(n,l),a.error(l)},function(){var l,c;s&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):identity_1$1.identity}tap$2.tap=tap$1;var throttle$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=e.defaultThrottleConfig=void 0;var t=lift,r=OperatorSubscriber$2,n=innerFrom$2;e.defaultThrottleConfig={leading:!0,trailing:!1};function o(a,u){return u===void 0&&(u=e.defaultThrottleConfig),t.operate(function(s,l){var c=u.leading,f=u.trailing,v=!1,b=null,$=null,E=!1,w=function(){$==null||$.unsubscribe(),$=null,f&&(R(),E&&l.complete())},A=function(){$=null,E&&l.complete()},I=function(x){return $=n.innerFrom(a(x)).subscribe(r.createOperatorSubscriber(l,w,A))},R=function(){if(v){v=!1;var x=b;b=null,l.next(x),!E&&I(x)}};s.subscribe(r.createOperatorSubscriber(l,function(x){v=!0,b=x,!($&&!$.closed)&&(c?R():I(x))},function(){E=!0,!(f&&v&&$&&!$.closed)&&l.complete()}))})}e.throttle=o})(throttle$1);var throttleTime$2={};Object.defineProperty(throttleTime$2,"__esModule",{value:!0});throttleTime$2.throttleTime=void 0;var async_1$3=async$1,throttle_1=throttle$1,timer_1=timer$2;function throttleTime$1(e,t,r){t===void 0&&(t=async_1$3.asyncScheduler),r===void 0&&(r=throttle_1.defaultThrottleConfig);var n=timer_1.timer(e,t);return throttle_1.throttle(function(){return n},r)}throttleTime$2.throttleTime=throttleTime$1;var timeInterval$2={};Object.defineProperty(timeInterval$2,"__esModule",{value:!0});timeInterval$2.TimeInterval=timeInterval$2.timeInterval=void 0;var async_1$2=async$1,lift_1$7=lift,OperatorSubscriber_1$6=OperatorSubscriber$2;function timeInterval$1(e){return e===void 0&&(e=async_1$2.asyncScheduler),lift_1$7.operate(function(t,r){var n=e.now();t.subscribe(OperatorSubscriber_1$6.createOperatorSubscriber(r,function(o){var a=e.now(),u=a-n;n=a,r.next(new TimeInterval$1(o,u))}))})}timeInterval$2.timeInterval=timeInterval$1;var TimeInterval$1=function(){function e(t,r){this.value=t,this.interval=r}return e}();timeInterval$2.TimeInterval=TimeInterval$1;var timeoutWith$2={};Object.defineProperty(timeoutWith$2,"__esModule",{value:!0});timeoutWith$2.timeoutWith=void 0;var async_1$1=async$1,isDate_1=isDate,timeout_1=timeout$1;function timeoutWith$1(e,t,r){var n,o,a;if(r=r!=null?r:async_1$1.async,isDate_1.isValidDate(e)?n=e:typeof e=="number"&&(o=e),t)a=function(){return t};else throw new TypeError("No observable provided to switch to");if(n==null&&o==null)throw new TypeError("No timeout provided.");return timeout_1.timeout({first:n,each:o,scheduler:r,with:a})}timeoutWith$2.timeoutWith=timeoutWith$1;var timestamp$2={};Object.defineProperty(timestamp$2,"__esModule",{value:!0});timestamp$2.timestamp=void 0;var dateTimestampProvider_1=dateTimestampProvider$1,map_1=map$2;function timestamp$1(e){return e===void 0&&(e=dateTimestampProvider_1.dateTimestampProvider),map_1.map(function(t){return{value:t,timestamp:e.now()}})}timestamp$2.timestamp=timestamp$1;var window$3={};Object.defineProperty(window$3,"__esModule",{value:!0});window$3.window=void 0;var Subject_1$4=Subject$2,lift_1$6=lift,OperatorSubscriber_1$5=OperatorSubscriber$2,noop_1$2=noop$2;function window$2(e){return lift_1$6.operate(function(t,r){var n=new Subject_1$4.Subject;r.next(n.asObservable());var o=function(a){n.error(a),r.error(a)};return t.subscribe(OperatorSubscriber_1$5.createOperatorSubscriber(r,function(a){return n==null?void 0:n.next(a)},function(){n.complete(),r.complete()},o)),e.subscribe(OperatorSubscriber_1$5.createOperatorSubscriber(r,function(){n.complete(),r.next(n=new Subject_1$4.Subject)},noop_1$2.noop,o)),function(){n==null||n.unsubscribe(),n=null}})}window$3.window=window$2;var windowCount$2={},__values$3=commonjsGlobal&&commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(windowCount$2,"__esModule",{value:!0});windowCount$2.windowCount=void 0;var Subject_1$3=Subject$2,lift_1$5=lift,OperatorSubscriber_1$4=OperatorSubscriber$2;function windowCount$1(e,t){t===void 0&&(t=0);var r=t>0?t:e;return lift_1$5.operate(function(n,o){var a=[new Subject_1$3.Subject],u=0;o.next(a[0].asObservable()),n.subscribe(OperatorSubscriber_1$4.createOperatorSubscriber(o,function(s){var l,c;try{for(var f=__values$3(a),v=f.next();!v.done;v=f.next()){var b=v.value;b.next(s)}}catch(w){l={error:w}}finally{try{v&&!v.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}var $=u-e+1;if($>=0&&$%r===0&&a.shift().complete(),++u%r===0){var E=new Subject_1$3.Subject;a.push(E),o.next(E.asObservable())}},function(){for(;a.length>0;)a.shift().complete();o.complete()},function(s){for(;a.length>0;)a.shift().error(s);o.error(s)},function(){a=null}))})}windowCount$2.windowCount=windowCount$1;var windowTime$2={};Object.defineProperty(windowTime$2,"__esModule",{value:!0});windowTime$2.windowTime=void 0;var Subject_1$2=Subject$2,async_1=async$1,Subscription_1$1=Subscription$2,lift_1$4=lift,OperatorSubscriber_1$3=OperatorSubscriber$2,arrRemove_1$1=arrRemove$2,args_1$1=args,executeSchedule_1=executeSchedule$2;function windowTime$1(e){for(var t,r,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var a=(t=args_1$1.popScheduler(n))!==null&&t!==void 0?t:async_1.asyncScheduler,u=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return lift_1$4.operate(function(l,c){var f=[],v=!1,b=function(A){var I=A.window,R=A.subs;I.complete(),R.unsubscribe(),arrRemove_1$1.arrRemove(f,A),v&&$()},$=function(){if(f){var A=new Subscription_1$1.Subscription;c.add(A);var I=new Subject_1$2.Subject,R={window:I,subs:A,seen:0};f.push(R),c.next(I.asObservable()),executeSchedule_1.executeSchedule(A,a,function(){return b(R)},e)}};u!==null&&u>=0?executeSchedule_1.executeSchedule(c,a,$,u,!0):v=!0,$();var E=function(A){return f.slice().forEach(A)},w=function(A){E(function(I){var R=I.window;return A(R)}),A(c),c.unsubscribe()};return l.subscribe(OperatorSubscriber_1$3.createOperatorSubscriber(c,function(A){E(function(I){I.window.next(A),s<=++I.seen&&b(I)})},function(){return w(function(A){return A.complete()})},function(A){return w(function(I){return I.error(A)})})),function(){f=null}})}windowTime$2.windowTime=windowTime$1;var windowToggle$2={},__values$2=commonjsGlobal&&commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(windowToggle$2,"__esModule",{value:!0});windowToggle$2.windowToggle=void 0;var Subject_1$1=Subject$2,Subscription_1=Subscription$2,lift_1$3=lift,innerFrom_1$2=innerFrom$2,OperatorSubscriber_1$2=OperatorSubscriber$2,noop_1$1=noop$2,arrRemove_1=arrRemove$2;function windowToggle$1(e,t){return lift_1$3.operate(function(r,n){var o=[],a=function(u){for(;0<o.length;)o.shift().error(u);n.error(u)};innerFrom_1$2.innerFrom(e).subscribe(OperatorSubscriber_1$2.createOperatorSubscriber(n,function(u){var s=new Subject_1$1.Subject;o.push(s);var l=new Subscription_1.Subscription,c=function(){arrRemove_1.arrRemove(o,s),s.complete(),l.unsubscribe()},f;try{f=innerFrom_1$2.innerFrom(t(u))}catch(v){a(v);return}n.next(s.asObservable()),l.add(f.subscribe(OperatorSubscriber_1$2.createOperatorSubscriber(n,c,noop_1$1.noop,a)))},noop_1$1.noop)),r.subscribe(OperatorSubscriber_1$2.createOperatorSubscriber(n,function(u){var s,l,c=o.slice();try{for(var f=__values$2(c),v=f.next();!v.done;v=f.next()){var b=v.value;b.next(u)}}catch($){s={error:$}}finally{try{v&&!v.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}},function(){for(;0<o.length;)o.shift().complete();n.complete()},a,function(){for(;0<o.length;)o.shift().unsubscribe()}))})}windowToggle$2.windowToggle=windowToggle$1;var windowWhen$2={};Object.defineProperty(windowWhen$2,"__esModule",{value:!0});windowWhen$2.windowWhen=void 0;var Subject_1=Subject$2,lift_1$2=lift,OperatorSubscriber_1$1=OperatorSubscriber$2,innerFrom_1$1=innerFrom$2;function windowWhen$1(e){return lift_1$2.operate(function(t,r){var n,o,a=function(s){n.error(s),r.error(s)},u=function(){o==null||o.unsubscribe(),n==null||n.complete(),n=new Subject_1.Subject,r.next(n.asObservable());var s;try{s=innerFrom_1$1.innerFrom(e())}catch(l){a(l);return}s.subscribe(o=OperatorSubscriber_1$1.createOperatorSubscriber(r,u,u,a))};u(),t.subscribe(OperatorSubscriber_1$1.createOperatorSubscriber(r,function(s){return n.next(s)},function(){n.complete(),r.complete()},a,function(){o==null||o.unsubscribe(),n=null}))})}windowWhen$2.windowWhen=windowWhen$1;var withLatestFrom$2={},__read$9=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$4=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(withLatestFrom$2,"__esModule",{value:!0});withLatestFrom$2.withLatestFrom=void 0;var lift_1$1=lift,OperatorSubscriber_1=OperatorSubscriber$2,innerFrom_1=innerFrom$2,identity_1=identity$3,noop_1=noop$2,args_1=args;function withLatestFrom$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=args_1.popResultSelector(e);return lift_1$1.operate(function(n,o){for(var a=e.length,u=new Array(a),s=e.map(function(){return!1}),l=!1,c=function(v){innerFrom_1.innerFrom(e[v]).subscribe(OperatorSubscriber_1.createOperatorSubscriber(o,function(b){u[v]=b,!l&&!s[v]&&(s[v]=!0,(l=s.every(identity_1.identity))&&(s=null))},noop_1.noop))},f=0;f<a;f++)c(f);n.subscribe(OperatorSubscriber_1.createOperatorSubscriber(o,function(v){if(l){var b=__spreadArray$4([v],__read$9(u));o.next(r?r.apply(void 0,__spreadArray$4([],__read$9(b))):b)}}))})}withLatestFrom$2.withLatestFrom=withLatestFrom$1;var zipAll$2={};Object.defineProperty(zipAll$2,"__esModule",{value:!0});zipAll$2.zipAll=void 0;var zip_1$2=zip$5,joinAllInternals_1=joinAllInternals$2;function zipAll$1(e){return joinAllInternals_1.joinAllInternals(zip_1$2.zip,e)}zipAll$2.zipAll=zipAll$1;var zipWith$2={},zip$3={},__read$8=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$3=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(zip$3,"__esModule",{value:!0});zip$3.zip=void 0;var zip_1$1=zip$5,lift_1=lift;function zip$2(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return lift_1.operate(function(r,n){zip_1$1.zip.apply(void 0,__spreadArray$3([r],__read$8(e))).subscribe(n)})}zip$3.zip=zip$2;var __read$7=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray$2=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(zipWith$2,"__esModule",{value:!0});zipWith$2.zipWith=void 0;var zip_1=zip$3;function zipWith$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return zip_1.zip.apply(void 0,__spreadArray$2([],__read$7(e)))}zipWith$2.zipWith=zipWith$1;(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(He,Le,Ce,qe){qe===void 0&&(qe=Ce),Object.defineProperty(He,qe,{enumerable:!0,get:function(){return Le[Ce]}})}:function(He,Le,Ce,qe){qe===void 0&&(qe=Ce),He[qe]=Le[Ce]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(He,Le){for(var Ce in He)Ce!=="default"&&!Object.prototype.hasOwnProperty.call(Le,Ce)&&t(Le,He,Ce)};Object.defineProperty(e,"__esModule",{value:!0}),e.interval=e.iif=e.generate=e.fromEventPattern=e.fromEvent=e.from=e.forkJoin=e.empty=e.defer=e.connectable=e.concat=e.combineLatest=e.bindNodeCallback=e.bindCallback=e.UnsubscriptionError=e.TimeoutError=e.SequenceError=e.ObjectUnsubscribedError=e.NotFoundError=e.EmptyError=e.ArgumentOutOfRangeError=e.firstValueFrom=e.lastValueFrom=e.isObservable=e.identity=e.noop=e.pipe=e.NotificationKind=e.Notification=e.Subscriber=e.Subscription=e.Scheduler=e.VirtualAction=e.VirtualTimeScheduler=e.animationFrameScheduler=e.animationFrame=e.queueScheduler=e.queue=e.asyncScheduler=e.async=e.asapScheduler=e.asap=e.AsyncSubject=e.ReplaySubject=e.BehaviorSubject=e.Subject=e.animationFrames=e.observable=e.ConnectableObservable=e.Observable=void 0,e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.combineLatestWith=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=e.config=e.NEVER=e.EMPTY=e.scheduled=e.zip=e.using=e.timer=e.throwError=e.range=e.race=e.partition=e.pairs=e.onErrorResumeNext=e.of=e.never=e.merge=void 0,e.switchMapTo=e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.pairwise=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=e.mergeAll=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=void 0,e.zipWith=e.zipAll=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=void 0;var n=Observable$2;Object.defineProperty(e,"Observable",{enumerable:!0,get:function(){return n.Observable}});var o=ConnectableObservable$2;Object.defineProperty(e,"ConnectableObservable",{enumerable:!0,get:function(){return o.ConnectableObservable}});var a=observable$1;Object.defineProperty(e,"observable",{enumerable:!0,get:function(){return a.observable}});var u=animationFrames$1;Object.defineProperty(e,"animationFrames",{enumerable:!0,get:function(){return u.animationFrames}});var s=Subject$2;Object.defineProperty(e,"Subject",{enumerable:!0,get:function(){return s.Subject}});var l=BehaviorSubject$2;Object.defineProperty(e,"BehaviorSubject",{enumerable:!0,get:function(){return l.BehaviorSubject}});var c=ReplaySubject$2;Object.defineProperty(e,"ReplaySubject",{enumerable:!0,get:function(){return c.ReplaySubject}});var f=AsyncSubject$2;Object.defineProperty(e,"AsyncSubject",{enumerable:!0,get:function(){return f.AsyncSubject}});var v=asap;Object.defineProperty(e,"asap",{enumerable:!0,get:function(){return v.asap}}),Object.defineProperty(e,"asapScheduler",{enumerable:!0,get:function(){return v.asapScheduler}});var b=async$1;Object.defineProperty(e,"async",{enumerable:!0,get:function(){return b.async}}),Object.defineProperty(e,"asyncScheduler",{enumerable:!0,get:function(){return b.asyncScheduler}});var $=queue;Object.defineProperty(e,"queue",{enumerable:!0,get:function(){return $.queue}}),Object.defineProperty(e,"queueScheduler",{enumerable:!0,get:function(){return $.queueScheduler}});var E=animationFrame;Object.defineProperty(e,"animationFrame",{enumerable:!0,get:function(){return E.animationFrame}}),Object.defineProperty(e,"animationFrameScheduler",{enumerable:!0,get:function(){return E.animationFrameScheduler}});var w=VirtualTimeScheduler$1;Object.defineProperty(e,"VirtualTimeScheduler",{enumerable:!0,get:function(){return w.VirtualTimeScheduler}}),Object.defineProperty(e,"VirtualAction",{enumerable:!0,get:function(){return w.VirtualAction}});var A=Scheduler$2;Object.defineProperty(e,"Scheduler",{enumerable:!0,get:function(){return A.Scheduler}});var I=Subscription$2;Object.defineProperty(e,"Subscription",{enumerable:!0,get:function(){return I.Subscription}});var R=Subscriber$1;Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return R.Subscriber}});var x=Notification$1;Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return x.Notification}}),Object.defineProperty(e,"NotificationKind",{enumerable:!0,get:function(){return x.NotificationKind}});var N=pipe$2;Object.defineProperty(e,"pipe",{enumerable:!0,get:function(){return N.pipe}});var D=noop$2;Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return D.noop}});var V=identity$3;Object.defineProperty(e,"identity",{enumerable:!0,get:function(){return V.identity}});var Y=isObservable$1;Object.defineProperty(e,"isObservable",{enumerable:!0,get:function(){return Y.isObservable}});var Q=lastValueFrom$1;Object.defineProperty(e,"lastValueFrom",{enumerable:!0,get:function(){return Q.lastValueFrom}});var te=firstValueFrom$1;Object.defineProperty(e,"firstValueFrom",{enumerable:!0,get:function(){return te.firstValueFrom}});var de=ArgumentOutOfRangeError$1;Object.defineProperty(e,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return de.ArgumentOutOfRangeError}});var ne=EmptyError$1;Object.defineProperty(e,"EmptyError",{enumerable:!0,get:function(){return ne.EmptyError}});var ae=NotFoundError$1;Object.defineProperty(e,"NotFoundError",{enumerable:!0,get:function(){return ae.NotFoundError}});var le=ObjectUnsubscribedError$1;Object.defineProperty(e,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return le.ObjectUnsubscribedError}});var H=SequenceError$1;Object.defineProperty(e,"SequenceError",{enumerable:!0,get:function(){return H.SequenceError}});var W=timeout$1;Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return W.TimeoutError}});var U=UnsubscriptionError$1;Object.defineProperty(e,"UnsubscriptionError",{enumerable:!0,get:function(){return U.UnsubscriptionError}});var B=bindCallback$1;Object.defineProperty(e,"bindCallback",{enumerable:!0,get:function(){return B.bindCallback}});var Z=bindNodeCallback$1;Object.defineProperty(e,"bindNodeCallback",{enumerable:!0,get:function(){return Z.bindNodeCallback}});var K=combineLatest$5;Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return K.combineLatest}});var J=concat$5;Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return J.concat}});var ie=connectable$1;Object.defineProperty(e,"connectable",{enumerable:!0,get:function(){return ie.connectable}});var oe=defer$1;Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return oe.defer}});var _e=empty;Object.defineProperty(e,"empty",{enumerable:!0,get:function(){return _e.empty}});var M=forkJoin$1;Object.defineProperty(e,"forkJoin",{enumerable:!0,get:function(){return M.forkJoin}});var G=from$2;Object.defineProperty(e,"from",{enumerable:!0,get:function(){return G.from}});var z=fromEvent$1;Object.defineProperty(e,"fromEvent",{enumerable:!0,get:function(){return z.fromEvent}});var ee=fromEventPattern$1;Object.defineProperty(e,"fromEventPattern",{enumerable:!0,get:function(){return ee.fromEventPattern}});var re=generate$1;Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return re.generate}});var me=iif$1;Object.defineProperty(e,"iif",{enumerable:!0,get:function(){return me.iif}});var ge=interval$2;Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return ge.interval}});var Ee=merge$4;Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return Ee.merge}});var Pe=never;Object.defineProperty(e,"never",{enumerable:!0,get:function(){return Pe.never}});var Oe=of$2;Object.defineProperty(e,"of",{enumerable:!0,get:function(){return Oe.of}});var Re=onErrorResumeNext$4;Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return Re.onErrorResumeNext}});var _r=pairs$1;Object.defineProperty(e,"pairs",{enumerable:!0,get:function(){return _r.pairs}});var Ue=partition$2;Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return Ue.partition}});var Ne=race$2;Object.defineProperty(e,"race",{enumerable:!0,get:function(){return Ne.race}});var vr=range$1;Object.defineProperty(e,"range",{enumerable:!0,get:function(){return vr.range}});var De=throwError$2;Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return De.throwError}});var we=timer$2;Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return we.timer}});var Be=using$1;Object.defineProperty(e,"using",{enumerable:!0,get:function(){return Be.using}});var Ie=zip$5;Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return Ie.zip}});var Ye=scheduled$2;Object.defineProperty(e,"scheduled",{enumerable:!0,get:function(){return Ye.scheduled}});var pr=empty;Object.defineProperty(e,"EMPTY",{enumerable:!0,get:function(){return pr.EMPTY}});var je=never;Object.defineProperty(e,"NEVER",{enumerable:!0,get:function(){return je.NEVER}}),r(types,e);var hr=config$1;Object.defineProperty(e,"config",{enumerable:!0,get:function(){return hr.config}});var g=audit$2;Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return g.audit}});var _=auditTime$2;Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return _.auditTime}});var m=buffer$3;Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return m.buffer}});var S=bufferCount$2;Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return S.bufferCount}});var C=bufferTime$2;Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return C.bufferTime}});var L=bufferToggle$2;Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return L.bufferToggle}});var F=bufferWhen$2;Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return F.bufferWhen}});var ce=catchError$2;Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return ce.catchError}});var be=combineAll$1;Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return be.combineAll}});var ve=combineLatestAll$2;Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return ve.combineLatestAll}});var pe=combineLatestWith$2;Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return pe.combineLatestWith}});var fe=concatAll$2;Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return fe.concatAll}});var _t=concatMap$2;Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return _t.concatMap}});var Ir=concatMapTo$2;Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return Ir.concatMapTo}});var vt=concatWith$2;Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return vt.concatWith}});var jr=connect$2;Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return jr.connect}});var Rr=count$2;Object.defineProperty(e,"count",{enumerable:!0,get:function(){return Rr.count}});var Cr=debounce$2;Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return Cr.debounce}});var xr=debounceTime$2;Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return xr.debounceTime}});var mr=defaultIfEmpty$2;Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return mr.defaultIfEmpty}});var Mr=delay$2;Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return Mr.delay}});var Nr=delayWhen$2;Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return Nr.delayWhen}});var pt=dematerialize$2;Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return pt.dematerialize}});var br=distinct$2;Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return br.distinct}});var nr=distinctUntilChanged$2;Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return nr.distinctUntilChanged}});var ht=distinctUntilKeyChanged$2;Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return ht.distinctUntilKeyChanged}});var Qe=elementAt$2;Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return Qe.elementAt}});var yr=endWith$2;Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return yr.endWith}});var gr=every$2;Object.defineProperty(e,"every",{enumerable:!0,get:function(){return gr.every}});var Dr=exhaust$1;Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return Dr.exhaust}});var $r=exhaustAll$2;Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return $r.exhaustAll}});var mt=exhaustMap$2;Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return mt.exhaustMap}});var Ge=expand$2;Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return Ge.expand}});var Ke=filter$2;Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return Ke.filter}});var bt=finalize$2;Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return bt.finalize}});var Or=find$2;Object.defineProperty(e,"find",{enumerable:!0,get:function(){return Or.find}});var kr=findIndex$2;Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return kr.findIndex}});var Lr=first$2;Object.defineProperty(e,"first",{enumerable:!0,get:function(){return Lr.first}});var Fr=groupBy$2;Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return Fr.groupBy}});var Ur=ignoreElements$2;Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return Ur.ignoreElements}});var Br=isEmpty$2;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return Br.isEmpty}});var or=last$3;Object.defineProperty(e,"last",{enumerable:!0,get:function(){return or.last}});var ir=map$2;Object.defineProperty(e,"map",{enumerable:!0,get:function(){return ir.map}});var yt=mapTo$2;Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return yt.mapTo}});var ke=materialize$2;Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return ke.materialize}});var gt=max$2;Object.defineProperty(e,"max",{enumerable:!0,get:function(){return gt.max}});var Er=mergeAll$2;Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return Er.mergeAll}});var Gr=flatMap$1;Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return Gr.flatMap}});var $t=mergeMap$2;Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return $t.mergeMap}});var ar=mergeMapTo$2;Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return ar.mergeMapTo}});var Ot=mergeScan$2;Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return Ot.mergeScan}});var Et=mergeWith$2;Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return Et.mergeWith}});var St=min$2;Object.defineProperty(e,"min",{enumerable:!0,get:function(){return St.min}});var Sr=multicast$2;Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return Sr.multicast}});var wt=observeOn$2;Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return wt.observeOn}});var Tt=pairwise$2;Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return Tt.pairwise}});var Vr=pluck$2;Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return Vr.pluck}});var Wr=publish$2;Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return Wr.publish}});var wr=publishBehavior$2;Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return wr.publishBehavior}});var Pt=publishLast$2;Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return Pt.publishLast}});var Je=publishReplay$2;Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return Je.publishReplay}});var Tr=raceWith$2;Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return Tr.raceWith}});var ur=reduce$2;Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return ur.reduce}});var At=repeat$2;Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return At.repeat}});var It=repeatWhen$2;Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return It.repeatWhen}});var jt=retry$2;Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return jt.retry}});var Hr=retryWhen$2;Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return Hr.retryWhen}});var Rt=refCount$2;Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return Rt.refCount}});var Ct=sample$2;Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return Ct.sample}});var xt=sampleTime$2;Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return xt.sampleTime}});var Mt=scan$2;Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return Mt.scan}});var Nt=sequenceEqual$2;Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return Nt.sequenceEqual}});var Dt=share$2;Object.defineProperty(e,"share",{enumerable:!0,get:function(){return Dt.share}});var kt=shareReplay$2;Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return kt.shareReplay}});var qr=single$2;Object.defineProperty(e,"single",{enumerable:!0,get:function(){return qr.single}});var zr=skip$2;Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return zr.skip}});var Lt=skipLast$2;Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return Lt.skipLast}});var Ft=skipUntil$2;Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return Ft.skipUntil}});var Yr=skipWhile$2;Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return Yr.skipWhile}});var Kr=startWith$2;Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return Kr.startWith}});var Ut=subscribeOn$2;Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return Ut.subscribeOn}});var Ve=switchAll$2;Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return Ve.switchAll}});var Zr=switchMap$2;Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return Zr.switchMap}});var Bt=switchMapTo$2;Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return Bt.switchMapTo}});var Gt=switchScan$2;Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return Gt.switchScan}});var Xr=take$2;Object.defineProperty(e,"take",{enumerable:!0,get:function(){return Xr.take}});var Vt=takeLast$2;Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return Vt.takeLast}});var Wt=takeUntil$2;Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return Wt.takeUntil}});var Qr=takeWhile$2;Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return Qr.takeWhile}});var Jr=tap$2;Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return Jr.tap}});var Ht=throttle$1;Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return Ht.throttle}});var qt=throttleTime$2;Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return qt.throttleTime}});var zt=throwIfEmpty$2;Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return zt.throwIfEmpty}});var er=timeInterval$2;Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return er.timeInterval}});var Yt=timeout$1;Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return Yt.timeout}});var Kt=timeoutWith$2;Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return Kt.timeoutWith}});var et=timestamp$2;Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return et.timestamp}});var Zt=toArray$2;Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return Zt.toArray}});var sr=window$3;Object.defineProperty(e,"window",{enumerable:!0,get:function(){return sr.window}});var We=windowCount$2;Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return We.windowCount}});var rr=windowTime$2;Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return rr.windowTime}});var Xt=windowToggle$2;Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return Xt.windowToggle}});var Pr=windowWhen$2;Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return Pr.windowWhen}});var cr=withLatestFrom$2;Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return cr.withLatestFrom}});var Qt=zipAll$2;Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return Qt.zipAll}});var rt=zipWith$2;Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return rt.zipWith}})})(cjs);function isFunction(e){return typeof e=="function"}function hasLift(e){return isFunction(e==null?void 0:e.lift)}function operate(e){return function(t){if(hasLift(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}var extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},extendStatics(e,t)};function __extends$n(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function __awaiter$5(e,t,r,n){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function s(f){try{c(n.next(f))}catch(v){u(v)}}function l(f){try{c(n.throw(f))}catch(v){u(v)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((n=n.apply(e,t||[])).next())})}function __generator$5(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(r=0)),r;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function __values$1(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$6(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a}function __spreadArray$1(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,a=[];return o={},u("next"),u("throw"),u("return"),o[Symbol.asyncIterator]=function(){return this},o;function u(b){n[b]&&(o[b]=function($){return new Promise(function(E,w){a.push([b,$,E,w])>1||s(b,$)})})}function s(b,$){try{l(n[b]($))}catch(E){v(a[0][3],E)}}function l(b){b.value instanceof __await?Promise.resolve(b.value.v).then(c,f):v(a[0][2],b)}function c(b){s("next",b)}function f(b){s("throw",b)}function v(b,$){b($),a.shift(),a.length&&s(a[0][0],a[0][1])}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values$1=="function"?__values$1(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(u){return new Promise(function(s,l){u=e[a](u),o(s,l,u.done,u.value)})}}function o(a,u,s,l){Promise.resolve(l).then(function(c){a({value:c,done:s})},u)}}var isArrayLike=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function isPromise(e){return isFunction(e==null?void 0:e.then)}function createErrorClass(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var UnsubscriptionError=createErrorClass(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,o){return o+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function arrRemove(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var Subscription=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,o,a;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var s=__values$1(u),l=s.next();!l.done;l=s.next()){var c=l.value;c.remove(this)}}catch(w){t={error:w}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}else u.remove(this);var f=this.initialTeardown;if(isFunction(f))try{f()}catch(w){a=w instanceof UnsubscriptionError?w.errors:[w]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var b=__values$1(v),$=b.next();!$.done;$=b.next()){var E=$.value;try{execFinalizer(E)}catch(w){a=a!=null?a:[],w instanceof UnsubscriptionError?a=__spreadArray$1(__spreadArray$1([],__read$6(a)),__read$6(w.errors)):a.push(w)}}}catch(w){n={error:w}}finally{try{$&&!$.done&&(o=b.return)&&o.call(b)}finally{if(n)throw n.error}}}if(a)throw new UnsubscriptionError(a)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)execFinalizer(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&arrRemove(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&arrRemove(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(e){return e instanceof Subscription||e&&"closed"in e&&isFunction(e.remove)&&isFunction(e.add)&&isFunction(e.unsubscribe)}function execFinalizer(e){isFunction(e)?e():e.unsubscribe()}var config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=timeoutProvider.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,__spreadArray$1([e,t],__read$6(r))):setTimeout.apply(void 0,__spreadArray$1([e,t],__read$6(r)))},clearTimeout:function(e){var t=timeoutProvider.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function reportUnhandledError(e){timeoutProvider.setTimeout(function(){throw e})}function noop(){}var COMPLETE_NOTIFICATION=function(){return createNotification("C",void 0,void 0)}();function errorNotification(e){return createNotification("E",void 0,e)}function nextNotification(e){return createNotification("N",e,void 0)}function createNotification(e,t,r){return{kind:e,value:t,error:r}}var context=null;function errorContext(e){if(config.useDeprecatedSynchronousErrorHandling){var t=!context;if(t&&(context={errorThrown:!1,error:null}),e(),t){var r=context,n=r.errorThrown,o=r.error;if(context=null,n)throw o}}else e()}var Subscriber=function(e){__extends$n(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,isSubscription(r)&&r.add(n)):n.destination=EMPTY_OBSERVER,n}return t.create=function(r,n,o){return new SafeSubscriber(r,n,o)},t.prototype.next=function(r){this.isStopped?handleStoppedNotification(nextNotification(r),this):this._next(r)},t.prototype.error=function(r){this.isStopped?handleStoppedNotification(errorNotification(r),this):(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped?handleStoppedNotification(COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Subscription),_bind=Function.prototype.bind;function bind(e,t){return _bind.call(e,t)}var ConsumerObserver=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){handleUnhandledError(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){handleUnhandledError(n)}else handleUnhandledError(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){handleUnhandledError(r)}},e}(),SafeSubscriber=function(e){__extends$n(t,e);function t(r,n,o){var a=e.call(this)||this,u;if(isFunction(r)||!r)u={next:r!=null?r:void 0,error:n!=null?n:void 0,complete:o!=null?o:void 0};else{var s;a&&config.useDeprecatedNextContext?(s=Object.create(r),s.unsubscribe=function(){return a.unsubscribe()},u={next:r.next&&bind(r.next,s),error:r.error&&bind(r.error,s),complete:r.complete&&bind(r.complete,s)}):u=r}return a.destination=new ConsumerObserver(u),a}return t}(Subscriber);function handleUnhandledError(e){reportUnhandledError(e)}function defaultErrorHandler(e){throw e}function handleStoppedNotification(e,t){var r=config.onStoppedNotification;r&&timeoutProvider.setTimeout(function(){return r(e,t)})}var EMPTY_OBSERVER={closed:!0,next:noop,error:defaultErrorHandler,complete:noop},observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity$1(e){return e}function pipe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return pipeFromArray(e)}function pipeFromArray(e){return e.length===0?identity$1:e.length===1?e[0]:function(r){return e.reduce(function(n,o){return o(n)},r)}}var Observable=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var o=this,a=isSubscriber(t)?t:new SafeSubscriber(t,r,n);return errorContext(function(){var u=o,s=u.operator,l=u.source;a.add(s?s.call(a,l):l?o._subscribe(a):o._trySubscribe(a))}),a},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=getPromiseCtor(r),new r(function(o,a){var u=new SafeSubscriber({next:function(s){try{t(s)}catch(l){a(l),u.unsubscribe()}},error:a,complete:o});n.subscribe(u)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[observable]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return pipeFromArray(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=getPromiseCtor(t),new t(function(n,o){var a;r.subscribe(function(u){return a=u},function(u){return o(u)},function(){return n(a)})})},e.create=function(t){return new e(t)},e}();function getPromiseCtor(e){var t;return(t=e!=null?e:config.Promise)!==null&&t!==void 0?t:Promise}function isObserver(e){return e&&isFunction(e.next)&&isFunction(e.error)&&isFunction(e.complete)}function isSubscriber(e){return e&&e instanceof Subscriber||isObserver(e)&&isSubscription(e)}function isInteropObservable(e){return isFunction(e[observable])}function isAsyncIterable(e){return Symbol.asyncIterator&&isFunction(e==null?void 0:e[Symbol.asyncIterator])}function createInvalidObservableTypeError(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator();function isIterable$1(e){return isFunction(e==null?void 0:e[iterator])}function readableStreamLikeToAsyncGenerator(e){return __asyncGenerator(this,arguments,function(){var r,n,o,a;return __generator$5(this,function(u){switch(u.label){case 0:r=e.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,__await(r.read())];case 3:return n=u.sent(),o=n.value,a=n.done,a?[4,__await(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,__await(o)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function isReadableStreamLike(e){return isFunction(e==null?void 0:e.getReader)}function innerFrom(e){if(e instanceof Observable)return e;if(e!=null){if(isInteropObservable(e))return fromInteropObservable(e);if(isArrayLike(e))return fromArrayLike(e);if(isPromise(e))return fromPromise(e);if(isAsyncIterable(e))return fromAsyncIterable(e);if(isIterable$1(e))return fromIterable(e);if(isReadableStreamLike(e))return fromReadableStreamLike(e)}throw createInvalidObservableTypeError(e)}function fromInteropObservable(e){return new Observable(function(t){var r=e[observable]();if(isFunction(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fromArrayLike(e){return new Observable(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function fromPromise(e){return new Observable(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,reportUnhandledError)})}function fromIterable(e){return new Observable(function(t){var r,n;try{for(var o=__values$1(e),a=o.next();!a.done;a=o.next()){var u=a.value;if(t.next(u),t.closed)return}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}t.complete()})}function fromAsyncIterable(e){return new Observable(function(t){process(e,t).catch(function(r){return t.error(r)})})}function fromReadableStreamLike(e){return fromAsyncIterable(readableStreamLikeToAsyncGenerator(e))}function process(e,t){var r,n,o,a;return __awaiter$5(this,void 0,void 0,function(){var u,s;return __generator$5(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),r=__asyncValues(e),l.label=1;case 1:return[4,r.next()];case 2:if(n=l.sent(),!!n.done)return[3,4];if(u=n.value,t.next(u),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),o={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(a=r.return)?[4,a.call(r)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function createOperatorSubscriber(e,t,r,n,o){return new OperatorSubscriber(e,t,r,n,o)}var OperatorSubscriber=function(e){__extends$n(t,e);function t(r,n,o,a,u,s){var l=e.call(this,r)||this;return l.onFinalize=u,l.shouldUnsubscribe=s,l._next=n?function(c){try{n(c)}catch(f){r.error(f)}}:e.prototype._next,l._error=a?function(c){try{a(c)}catch(f){r.error(f)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=o?function(){try{o()}catch(c){r.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(Subscriber);function audit(e){return operate(function(t,r){var n=!1,o=null,a=null,u=!1,s=function(){if(a==null||a.unsubscribe(),a=null,n){n=!1;var c=o;o=null,r.next(c)}u&&r.complete()},l=function(){a=null,u&&r.complete()};t.subscribe(createOperatorSubscriber(r,function(c){n=!0,o=c,a||innerFrom(e(c)).subscribe(a=createOperatorSubscriber(r,s,l))},function(){u=!0,(!n||!a||a.closed)&&r.complete()}))})}var Action=function(e){__extends$n(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return this},t}(Subscription),intervalProvider={setInterval:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=intervalProvider.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,__spreadArray$1([e,t],__read$6(r))):setInterval.apply(void 0,__spreadArray$1([e,t],__read$6(r)))},clearInterval:function(e){var t=intervalProvider.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},AsyncAction=function(e){__extends$n(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.pending=!1,o}return t.prototype.schedule=function(r,n){var o;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var a=this.id,u=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(u,a,n)),this.pending=!0,this.delay=n,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(u,this.id,n),this},t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),intervalProvider.setInterval(r.flush.bind(r,this),o)},t.prototype.recycleAsyncId=function(r,n,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return n;n!=null&&intervalProvider.clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(r,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var o=!1,a;try{this.work(r)}catch(u){o=!0,a=u||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),a},t.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,o=r.scheduler,a=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,arrRemove(a,this),n!=null&&(this.id=this.recycleAsyncId(o,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Action),dateTimestampProvider={now:function(){return(dateTimestampProvider.delegate||Date).now()},delegate:void 0},Scheduler=function(){function e(t,r){r===void 0&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,t).schedule(n,r)},e.now=dateTimestampProvider.now,e}(),AsyncScheduler=function(e){__extends$n(t,e);function t(r,n){n===void 0&&(n=Scheduler.now);var o=e.call(this,r,n)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var o;this._active=!0;do if(o=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,o){for(;r=n.shift();)r.unsubscribe();throw o}},t}(Scheduler),asyncScheduler=new AsyncScheduler(AsyncAction),async=asyncScheduler;function isScheduler(e){return e&&isFunction(e.schedule)}function isValidDate(e){return e instanceof Date&&!isNaN(e)}function timer(e,t,r){e===void 0&&(e=0),r===void 0&&(r=async);var n=-1;return t!=null&&(isScheduler(t)?r=t:n=t),new Observable(function(o){var a=isValidDate(e)?+e-r.now():e;a<0&&(a=0);var u=0;return r.schedule(function(){o.closed||(o.next(u++),0<=n?this.schedule(void 0,n):o.complete())},a)})}function auditTime(e,t){return t===void 0&&(t=asyncScheduler),audit(function(){return timer(e,t)})}function buffer$1(e){return operate(function(t,r){var n=[];return t.subscribe(createOperatorSubscriber(r,function(o){return n.push(o)},function(){r.next(n),r.complete()})),e.subscribe(createOperatorSubscriber(r,function(){var o=n;n=[],r.next(o)},noop)),function(){n=null}})}function bufferCount(e,t){return t===void 0&&(t=null),t=t!=null?t:e,operate(function(r,n){var o=[],a=0;r.subscribe(createOperatorSubscriber(n,function(u){var s,l,c,f,v=null;a++%t===0&&o.push([]);try{for(var b=__values$1(o),$=b.next();!$.done;$=b.next()){var E=$.value;E.push(u),e<=E.length&&(v=v!=null?v:[],v.push(E))}}catch(I){s={error:I}}finally{try{$&&!$.done&&(l=b.return)&&l.call(b)}finally{if(s)throw s.error}}if(v)try{for(var w=__values$1(v),A=w.next();!A.done;A=w.next()){var E=A.value;arrRemove(o,E),n.next(E)}}catch(I){c={error:I}}finally{try{A&&!A.done&&(f=w.return)&&f.call(w)}finally{if(c)throw c.error}}},function(){var u,s;try{for(var l=__values$1(o),c=l.next();!c.done;c=l.next()){var f=c.value;n.next(f)}}catch(v){u={error:v}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(u)throw u.error}}n.complete()},void 0,function(){o=null}))})}function last$1(e){return e[e.length-1]}function popResultSelector(e){return isFunction(last$1(e))?e.pop():void 0}function popScheduler(e){return isScheduler(last$1(e))?e.pop():void 0}function popNumber(e,t){return typeof last$1(e)=="number"?e.pop():t}function executeSchedule(e,t,r,n,o){n===void 0&&(n=0),o===void 0&&(o=!1);var a=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(a),!o)return a}function bufferTime(e){for(var t,r,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var a=(t=popScheduler(n))!==null&&t!==void 0?t:asyncScheduler,u=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return operate(function(l,c){var f=[],v=!1,b=function(w){var A=w.buffer,I=w.subs;I.unsubscribe(),arrRemove(f,w),c.next(A),v&&$()},$=function(){if(f){var w=new Subscription;c.add(w);var A=[],I={buffer:A,subs:w};f.push(I),executeSchedule(w,a,function(){return b(I)},e)}};u!==null&&u>=0?executeSchedule(c,a,$,u,!0):v=!0,$();var E=createOperatorSubscriber(c,function(w){var A,I,R=f.slice();try{for(var x=__values$1(R),N=x.next();!N.done;N=x.next()){var D=N.value,V=D.buffer;V.push(w),s<=V.length&&b(D)}}catch(Y){A={error:Y}}finally{try{N&&!N.done&&(I=x.return)&&I.call(x)}finally{if(A)throw A.error}}},function(){for(;f!=null&&f.length;)c.next(f.shift().buffer);E==null||E.unsubscribe(),c.complete(),c.unsubscribe()},void 0,function(){return f=null});l.subscribe(E)})}function bufferToggle(e,t){return operate(function(r,n){var o=[];innerFrom(e).subscribe(createOperatorSubscriber(n,function(a){var u=[];o.push(u);var s=new Subscription,l=function(){arrRemove(o,u),n.next(u),s.unsubscribe()};s.add(innerFrom(t(a)).subscribe(createOperatorSubscriber(n,l,noop)))},noop)),r.subscribe(createOperatorSubscriber(n,function(a){var u,s;try{for(var l=__values$1(o),c=l.next();!c.done;c=l.next()){var f=c.value;f.push(a)}}catch(v){u={error:v}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(u)throw u.error}}},function(){for(;o.length>0;)n.next(o.shift());n.complete()}))})}function bufferWhen(e){return operate(function(t,r){var n=null,o=null,a=function(){o==null||o.unsubscribe();var u=n;n=[],u&&r.next(u),innerFrom(e()).subscribe(o=createOperatorSubscriber(r,a,noop))};a(),t.subscribe(createOperatorSubscriber(r,function(u){return n==null?void 0:n.push(u)},function(){n&&r.next(n),r.complete()},void 0,function(){return n=o=null}))})}function catchError(e){return operate(function(t,r){var n=null,o=!1,a;n=t.subscribe(createOperatorSubscriber(r,void 0,void 0,function(u){a=innerFrom(e(u,catchError(e)(t))),n?(n.unsubscribe(),n=null,a.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,a.subscribe(r))})}var isArray$2=Array.isArray,getPrototypeOf=Object.getPrototypeOf,objectProto=Object.prototype,getKeys=Object.keys;function argsArgArrayOrObject(e){if(e.length===1){var t=e[0];if(isArray$2(t))return{args:t,keys:null};if(isPOJO(t)){var r=getKeys(t);return{args:r.map(function(n){return t[n]}),keys:r}}}return{args:e,keys:null}}function isPOJO(e){return e&&typeof e=="object"&&getPrototypeOf(e)===objectProto}function observeOn(e,t){return t===void 0&&(t=0),operate(function(r,n){r.subscribe(createOperatorSubscriber(n,function(o){return executeSchedule(n,e,function(){return n.next(o)},t)},function(){return executeSchedule(n,e,function(){return n.complete()},t)},function(o){return executeSchedule(n,e,function(){return n.error(o)},t)}))})}function subscribeOn(e,t){return t===void 0&&(t=0),operate(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}function scheduleObservable(e,t){return innerFrom(e).pipe(subscribeOn(t),observeOn(t))}function schedulePromise(e,t){return innerFrom(e).pipe(subscribeOn(t),observeOn(t))}function scheduleArray(e,t){return new Observable(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}function scheduleIterable(e,t){return new Observable(function(r){var n;return executeSchedule(r,t,function(){n=e[iterator](),executeSchedule(r,t,function(){var o,a,u;try{o=n.next(),a=o.value,u=o.done}catch(s){r.error(s);return}u?r.complete():r.next(a)},0,!0)}),function(){return isFunction(n==null?void 0:n.return)&&n.return()}})}function scheduleAsyncIterable(e,t){if(!e)throw new Error("Iterable cannot be null");return new Observable(function(r){executeSchedule(r,t,function(){var n=e[Symbol.asyncIterator]();executeSchedule(r,t,function(){n.next().then(function(o){o.done?r.complete():r.next(o.value)})},0,!0)})})}function scheduleReadableStreamLike(e,t){return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(e),t)}function scheduled(e,t){if(e!=null){if(isInteropObservable(e))return scheduleObservable(e,t);if(isArrayLike(e))return scheduleArray(e,t);if(isPromise(e))return schedulePromise(e,t);if(isAsyncIterable(e))return scheduleAsyncIterable(e,t);if(isIterable$1(e))return scheduleIterable(e,t);if(isReadableStreamLike(e))return scheduleReadableStreamLike(e,t)}throw createInvalidObservableTypeError(e)}function from(e,t){return t?scheduled(e,t):innerFrom(e)}function map(e,t){return operate(function(r,n){var o=0;r.subscribe(createOperatorSubscriber(n,function(a){n.next(e.call(t,a,o++))}))})}var isArray$1=Array.isArray;function callOrApply(e,t){return isArray$1(t)?e.apply(void 0,__spreadArray$1([],__read$6(t))):e(t)}function mapOneOrManyArgs(e){return map(function(t){return callOrApply(e,t)})}function createObject(e,t){return e.reduce(function(r,n,o){return r[n]=t[o],r},{})}function combineLatest$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=popScheduler(e),n=popResultSelector(e),o=argsArgArrayOrObject(e),a=o.args,u=o.keys;if(a.length===0)return from([],r);var s=new Observable(combineLatestInit(a,r,u?function(l){return createObject(u,l)}:identity$1));return n?s.pipe(mapOneOrManyArgs(n)):s}function combineLatestInit(e,t,r){return r===void 0&&(r=identity$1),function(n){maybeSchedule(t,function(){for(var o=e.length,a=new Array(o),u=o,s=o,l=function(f){maybeSchedule(t,function(){var v=from(e[f],t),b=!1;v.subscribe(createOperatorSubscriber(n,function($){a[f]=$,b||(b=!0,s--),s||n.next(r(a.slice()))},function(){--u||n.complete()}))},n)},c=0;c<o;c++)l(c)},n)}}function maybeSchedule(e,t,r){e?executeSchedule(r,e,t):t()}function mergeInternals(e,t,r,n,o,a,u,s){var l=[],c=0,f=0,v=!1,b=function(){v&&!l.length&&!c&&t.complete()},$=function(w){return c<n?E(w):l.push(w)},E=function(w){a&&t.next(w),c++;var A=!1;innerFrom(r(w,f++)).subscribe(createOperatorSubscriber(t,function(I){o==null||o(I),a?$(I):t.next(I)},function(){A=!0},void 0,function(){if(A)try{c--;for(var I=function(){var R=l.shift();u?executeSchedule(t,u,function(){return E(R)}):E(R)};l.length&&c<n;)I();b()}catch(R){t.error(R)}}))};return e.subscribe(createOperatorSubscriber(t,$,function(){v=!0,b()})),function(){s==null||s()}}function mergeMap(e,t,r){return r===void 0&&(r=1/0),isFunction(t)?mergeMap(function(n,o){return map(function(a,u){return t(n,a,o,u)})(innerFrom(e(n,o)))},r):(typeof t=="number"&&(r=t),operate(function(n,o){return mergeInternals(n,o,e,r)}))}function scanInternals(e,t,r,n,o){return function(a,u){var s=r,l=t,c=0;a.subscribe(createOperatorSubscriber(u,function(f){var v=c++;l=s?e(l,f,v):(s=!0,f),n&&u.next(l)},o&&function(){s&&u.next(l),u.complete()}))}}function reduce(e,t){return operate(scanInternals(e,t,arguments.length>=2,!1,!0))}var arrReducer=function(e,t){return e.push(t),e};function toArray(){return operate(function(e,t){reduce(arrReducer,[])(e).subscribe(t)})}function joinAllInternals(e,t){return pipe(toArray(),mergeMap(function(r){return e(r)}),t?mapOneOrManyArgs(t):identity$1)}function combineLatestAll(e){return joinAllInternals(combineLatest$1,e)}var combineAll=combineLatestAll,isArray=Array.isArray;function argsOrArgArray(e){return e.length===1&&isArray(e[0])?e[0]:e}function combineLatest(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=popResultSelector(e);return r?pipe(combineLatest.apply(void 0,__spreadArray$1([],__read$6(e))),mapOneOrManyArgs(r)):operate(function(n,o){combineLatestInit(__spreadArray$1([n],__read$6(argsOrArgArray(e))))(o)})}function combineLatestWith(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return combineLatest.apply(void 0,__spreadArray$1([],__read$6(e)))}function mergeAll(e){return e===void 0&&(e=1/0),mergeMap(identity$1,e)}function concatAll(){return mergeAll(1)}function concat$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=popScheduler(e);return operate(function(n,o){concatAll()(from(__spreadArray$1([n],__read$6(e)),r)).subscribe(o)})}function concatMap(e,t){return isFunction(t)?mergeMap(e,t,1):mergeMap(e,1)}function concatMapTo(e,t){return isFunction(t)?concatMap(function(){return e},t):concatMap(function(){return e})}function concatWith(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return concat$1.apply(void 0,__spreadArray$1([],__read$6(e)))}var ObjectUnsubscribedError=createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(e){__extends$n(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new AnonymousSubject(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},t.prototype.next=function(r){var n=this;errorContext(function(){var o,a;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var u=__values$1(n.currentObservers),s=u.next();!s.done;s=u.next()){var l=s.value;l.next(r)}}catch(c){o={error:c}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}}})},t.prototype.error=function(r){var n=this;errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var o=n.observers;o.length;)o.shift().error(r)}})},t.prototype.complete=function(){var r=this;errorContext(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,o=this,a=o.hasError,u=o.isStopped,s=o.observers;return a||u?EMPTY_SUBSCRIPTION:(this.currentObservers=null,s.push(r),new Subscription(function(){n.currentObservers=null,arrRemove(s,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,o=n.hasError,a=n.thrownError,u=n.isStopped;o?r.error(a):u&&r.complete()},t.prototype.asObservable=function(){var r=new Observable;return r.source=this,r},t.create=function(r,n){return new AnonymousSubject(r,n)},t}(Observable),AnonymousSubject=function(e){__extends$n(t,e);function t(r,n){var o=e.call(this)||this;return o.destination=r,o.source=n,o}return t.prototype.next=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,r)},t.prototype.error=function(r){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&o!==void 0?o:EMPTY_SUBSCRIPTION},t}(Subject);function fromSubscribable(e){return new Observable(function(t){return e.subscribe(t)})}var DEFAULT_CONFIG={connector:function(){return new Subject}};function connect(e,t){t===void 0&&(t=DEFAULT_CONFIG);var r=t.connector;return operate(function(n,o){var a=r();innerFrom(e(fromSubscribable(a))).subscribe(o),o.add(n.subscribe(a))})}function count(e){return reduce(function(t,r,n){return!e||e(r,n)?t+1:t},0)}function debounce(e){return operate(function(t,r){var n=!1,o=null,a=null,u=function(){if(a==null||a.unsubscribe(),a=null,n){n=!1;var s=o;o=null,r.next(s)}};t.subscribe(createOperatorSubscriber(r,function(s){a==null||a.unsubscribe(),n=!0,o=s,a=createOperatorSubscriber(r,u,noop),innerFrom(e(s)).subscribe(a)},function(){u(),r.complete()},void 0,function(){o=a=null}))})}function debounceTime(e,t){return t===void 0&&(t=asyncScheduler),operate(function(r,n){var o=null,a=null,u=null,s=function(){if(o){o.unsubscribe(),o=null;var c=a;a=null,n.next(c)}};function l(){var c=u+e,f=t.now();if(f<c){o=this.schedule(void 0,c-f),n.add(o);return}s()}r.subscribe(createOperatorSubscriber(n,function(c){a=c,u=t.now(),o||(o=t.schedule(l,e),n.add(o))},function(){s(),n.complete()},void 0,function(){a=o=null}))})}function defaultIfEmpty(e){return operate(function(t,r){var n=!1;t.subscribe(createOperatorSubscriber(r,function(o){n=!0,r.next(o)},function(){n||r.next(e),r.complete()}))})}function concat(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return concatAll()(from(e,popScheduler(e)))}var EMPTY=new Observable(function(e){return e.complete()});function take(e){return e<=0?function(){return EMPTY}:operate(function(t,r){var n=0;t.subscribe(createOperatorSubscriber(r,function(o){++n<=e&&(r.next(o),e<=n&&r.complete())}))})}function ignoreElements(){return operate(function(e,t){e.subscribe(createOperatorSubscriber(t,noop))})}function mapTo(e){return map(function(){return e})}function delayWhen(e,t){return t?function(r){return concat(t.pipe(take(1),ignoreElements()),r.pipe(delayWhen(e)))}:mergeMap(function(r,n){return e(r,n).pipe(take(1),mapTo(r))})}function delay(e,t){t===void 0&&(t=asyncScheduler);var r=timer(e,t);return delayWhen(function(){return r})}function of(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=popScheduler(e);return from(e,r)}function throwError(e,t){var r=isFunction(e)?e:function(){return e},n=function(o){return o.error(r())};return new Observable(t?function(o){return t.schedule(n,0,o)}:n)}var NotificationKind;(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(NotificationKind||(NotificationKind={}));var Notification=function(){function e(t,r,n){this.kind=t,this.value=r,this.error=n,this.hasValue=t==="N"}return e.prototype.observe=function(t){return observeNotification(this,t)},e.prototype.do=function(t,r,n){var o=this,a=o.kind,u=o.value,s=o.error;return a==="N"?t==null?void 0:t(u):a==="E"?r==null?void 0:r(s):n==null?void 0:n()},e.prototype.accept=function(t,r,n){var o;return isFunction((o=t)===null||o===void 0?void 0:o.next)?this.observe(t):this.do(t,r,n)},e.prototype.toObservable=function(){var t=this,r=t.kind,n=t.value,o=t.error,a=r==="N"?of(n):r==="E"?throwError(function(){return o}):r==="C"?EMPTY:0;if(!a)throw new TypeError("Unexpected notification kind "+r);return a},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function observeNotification(e,t){var r,n,o,a=e,u=a.kind,s=a.value,l=a.error;if(typeof u!="string")throw new TypeError('Invalid notification, missing "kind"');u==="N"?(r=t.next)===null||r===void 0||r.call(t,s):u==="E"?(n=t.error)===null||n===void 0||n.call(t,l):(o=t.complete)===null||o===void 0||o.call(t)}function dematerialize(){return operate(function(e,t){e.subscribe(createOperatorSubscriber(t,function(r){return observeNotification(r,t)}))})}function distinct(e,t){return operate(function(r,n){var o=new Set;r.subscribe(createOperatorSubscriber(n,function(a){var u=e?e(a):a;o.has(u)||(o.add(u),n.next(a))})),t==null||t.subscribe(createOperatorSubscriber(n,function(){return o.clear()},noop))})}function distinctUntilChanged(e,t){return t===void 0&&(t=identity$1),e=e!=null?e:defaultCompare,operate(function(r,n){var o,a=!0;r.subscribe(createOperatorSubscriber(n,function(u){var s=t(u);(a||!e(o,s))&&(a=!1,o=s,n.next(u))}))})}function defaultCompare(e,t){return e===t}function distinctUntilKeyChanged(e,t){return distinctUntilChanged(function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}var ArgumentOutOfRangeError=createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}});function filter(e,t){return operate(function(r,n){var o=0;r.subscribe(createOperatorSubscriber(n,function(a){return e.call(t,a,o++)&&n.next(a)}))})}var EmptyError=createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function throwIfEmpty(e){return e===void 0&&(e=defaultErrorFactory),operate(function(t,r){var n=!1;t.subscribe(createOperatorSubscriber(r,function(o){n=!0,r.next(o)},function(){return n?r.complete():r.error(e())}))})}function defaultErrorFactory(){return new EmptyError}function elementAt(e,t){if(e<0)throw new ArgumentOutOfRangeError;var r=arguments.length>=2;return function(n){return n.pipe(filter(function(o,a){return a===e}),take(1),r?defaultIfEmpty(t):throwIfEmpty(function(){return new ArgumentOutOfRangeError}))}}function endWith(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return concat(r,of.apply(void 0,__spreadArray$1([],__read$6(e))))}}function every(e,t){return operate(function(r,n){var o=0;r.subscribe(createOperatorSubscriber(n,function(a){e.call(t,a,o++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}function exhaustMap(e,t){return t?function(r){return r.pipe(exhaustMap(function(n,o){return innerFrom(e(n,o)).pipe(map(function(a,u){return t(n,a,o,u)}))}))}:operate(function(r,n){var o=0,a=null,u=!1;r.subscribe(createOperatorSubscriber(n,function(s){a||(a=createOperatorSubscriber(n,void 0,function(){a=null,u&&n.complete()}),innerFrom(e(s,o++)).subscribe(a))},function(){u=!0,!a&&n.complete()}))})}function exhaustAll(){return exhaustMap(identity$1)}var exhaust=exhaustAll;function expand(e,t,r){return t===void 0&&(t=1/0),t=(t||0)<1?1/0:t,operate(function(n,o){return mergeInternals(n,o,e,t,void 0,!0,r)})}function finalize(e){return operate(function(t,r){try{t.subscribe(r)}finally{r.add(e)}})}function find(e,t){return operate(createFind(e,t,"value"))}function createFind(e,t,r){var n=r==="index";return function(o,a){var u=0;o.subscribe(createOperatorSubscriber(a,function(s){var l=u++;e.call(t,s,l,o)&&(a.next(n?l:s),a.complete())},function(){a.next(n?-1:void 0),a.complete()}))}}function findIndex(e,t){return operate(createFind(e,t,"index"))}function first(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?filter(function(o,a){return e(o,a,n)}):identity$1,take(1),r?defaultIfEmpty(t):throwIfEmpty(function(){return new EmptyError}))}}function groupBy(e,t,r,n){return operate(function(o,a){var u;!t||typeof t=="function"?u=t:(r=t.duration,u=t.element,n=t.connector);var s=new Map,l=function(E){s.forEach(E),E(a)},c=function(E){return l(function(w){return w.error(E)})},f=0,v=!1,b=new OperatorSubscriber(a,function(E){try{var w=e(E),A=s.get(w);if(!A){s.set(w,A=n?n():new Subject);var I=$(w,A);if(a.next(I),r){var R=createOperatorSubscriber(A,function(){A.complete(),R==null||R.unsubscribe()},void 0,void 0,function(){return s.delete(w)});b.add(innerFrom(r(I)).subscribe(R))}}A.next(u?u(E):E)}catch(x){c(x)}},function(){return l(function(E){return E.complete()})},c,function(){return s.clear()},function(){return v=!0,f===0});o.subscribe(b);function $(E,w){var A=new Observable(function(I){f++;var R=w.subscribe(I);return function(){R.unsubscribe(),--f===0&&v&&b.unsubscribe()}});return A.key=E,A}})}function isEmpty(){return operate(function(e,t){e.subscribe(createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}function takeLast(e){return e<=0?function(){return EMPTY}:operate(function(t,r){var n=[];t.subscribe(createOperatorSubscriber(r,function(o){n.push(o),e<n.length&&n.shift()},function(){var o,a;try{for(var u=__values$1(n),s=u.next();!s.done;s=u.next()){var l=s.value;r.next(l)}}catch(c){o={error:c}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}r.complete()},void 0,function(){n=null}))})}function last(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?filter(function(o,a){return e(o,a,n)}):identity$1,takeLast(1),r?defaultIfEmpty(t):throwIfEmpty(function(){return new EmptyError}))}}function materialize(){return operate(function(e,t){e.subscribe(createOperatorSubscriber(t,function(r){t.next(Notification.createNext(r))},function(){t.next(Notification.createComplete()),t.complete()},function(r){t.next(Notification.createError(r)),t.complete()}))})}function max(e){return reduce(isFunction(e)?function(t,r){return e(t,r)>0?t:r}:function(t,r){return t>r?t:r})}function merge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=popScheduler(e),n=popNumber(e,1/0);return e=argsOrArgArray(e),operate(function(o,a){mergeAll(n)(from(__spreadArray$1([o],__read$6(e)),r)).subscribe(a)})}var flatMap=mergeMap;function mergeMapTo(e,t,r){return r===void 0&&(r=1/0),isFunction(t)?mergeMap(function(){return e},t,r):(typeof t=="number"&&(r=t),mergeMap(function(){return e},r))}function mergeScan(e,t,r){return r===void 0&&(r=1/0),operate(function(n,o){var a=t;return mergeInternals(n,o,function(u,s){return e(a,u,s)},r,function(u){a=u},!1,void 0,function(){return a=null})})}function mergeWith(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return merge.apply(void 0,__spreadArray$1([],__read$6(e)))}function min(e){return reduce(isFunction(e)?function(t,r){return e(t,r)<0?t:r}:function(t,r){return t<r?t:r})}function refCount(){return operate(function(e,t){var r=null;e._refCount++;var n=createOperatorSubscriber(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){r=null;return}var o=e._connection,a=r;r=null,o&&(!a||o===a)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}var ConnectableObservable=function(e){__extends$n(t,e);function t(r,n){var o=e.call(this)||this;return o.source=r,o.subjectFactory=n,o._subject=null,o._refCount=0,o._connection=null,hasLift(r)&&(o.lift=r.lift),o}return t.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},t.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r==null||r.unsubscribe()},t.prototype.connect=function(){var r=this,n=this._connection;if(!n){n=this._connection=new Subscription;var o=this.getSubject();n.add(this.source.subscribe(createOperatorSubscriber(o,void 0,function(){r._teardown(),o.complete()},function(a){r._teardown(),o.error(a)},function(){return r._teardown()}))),n.closed&&(this._connection=null,n=Subscription.EMPTY)}return n},t.prototype.refCount=function(){return refCount()(this)},t}(Observable);function multicast(e,t){var r=isFunction(e)?e:function(){return e};return isFunction(t)?connect(t,{connector:r}):function(n){return new ConnectableObservable(n,r)}}function onErrorResumeNext(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=argsOrArgArray(e);return operate(function(n,o){var a=__spreadArray$1([n],__read$6(r)),u=function(){if(!o.closed)if(a.length>0){var s=void 0;try{s=innerFrom(a.shift())}catch{u();return}var l=createOperatorSubscriber(o,void 0,noop,noop);s.subscribe(l),l.add(u)}else o.complete()};u()})}function pairwise(){return operate(function(e,t){var r,n=!1;e.subscribe(createOperatorSubscriber(t,function(o){var a=r;r=o,n&&t.next([a,o]),n=!0}))})}function not(e,t){return function(r,n){return!e.call(t,r,n)}}function partition(e,t){return function(r){return[filter(e,t)(r),filter(not(e,t))(r)]}}function pluck(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(r===0)throw new Error("list of properties cannot be empty.");return map(function(n){for(var o=n,a=0;a<r;a++){var u=o==null?void 0:o[e[a]];if(typeof u!="undefined")o=u;else return}return o})}function publish(e){return e?function(t){return connect(e)(t)}:function(t){return multicast(new Subject)(t)}}var BehaviorSubject=function(e){__extends$n(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){var r=this,n=r.hasError,o=r.thrownError,a=r._value;if(n)throw o;return this._throwIfClosed(),a},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t}(Subject);function publishBehavior(e){return function(t){var r=new BehaviorSubject(e);return new ConnectableObservable(t,function(){return r})}}var AsyncSubject=function(e){__extends$n(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return t.prototype._checkFinalizedStatuses=function(r){var n=this,o=n.hasError,a=n._hasValue,u=n._value,s=n.thrownError,l=n.isStopped,c=n._isComplete;o?r.error(s):(l||c)&&(a&&r.next(u),r.complete())},t.prototype.next=function(r){this.isStopped||(this._value=r,this._hasValue=!0)},t.prototype.complete=function(){var r=this,n=r._hasValue,o=r._value,a=r._isComplete;a||(this._isComplete=!0,n&&e.prototype.next.call(this,o),e.prototype.complete.call(this))},t}(Subject);function publishLast(){return function(e){var t=new AsyncSubject;return new ConnectableObservable(e,function(){return t})}}var ReplaySubject=function(e){__extends$n(t,e);function t(r,n,o){r===void 0&&(r=1/0),n===void 0&&(n=1/0),o===void 0&&(o=dateTimestampProvider);var a=e.call(this)||this;return a._bufferSize=r,a._windowTime=n,a._timestampProvider=o,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=n===1/0,a._bufferSize=Math.max(1,r),a._windowTime=Math.max(1,n),a}return t.prototype.next=function(r){var n=this,o=n.isStopped,a=n._buffer,u=n._infiniteTimeWindow,s=n._timestampProvider,l=n._windowTime;o||(a.push(r),!u&&a.push(s.now()+l)),this._trimBuffer(),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),o=this,a=o._infiniteTimeWindow,u=o._buffer,s=u.slice(),l=0;l<s.length&&!r.closed;l+=a?1:2)r.next(s[l]);return this._checkFinalizedStatuses(r),n},t.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,o=r._timestampProvider,a=r._buffer,u=r._infiniteTimeWindow,s=(u?1:2)*n;if(n<1/0&&s<a.length&&a.splice(0,a.length-s),!u){for(var l=o.now(),c=0,f=1;f<a.length&&a[f]<=l;f+=2)c=f;c&&a.splice(0,c+1)}},t}(Subject);function publishReplay(e,t,r,n){r&&!isFunction(r)&&(n=r);var o=isFunction(r)?r:void 0;return function(a){return multicast(new ReplaySubject(e,t,n),o)(a)}}function raceInit(e){return function(t){for(var r=[],n=function(a){r.push(innerFrom(e[a]).subscribe(createOperatorSubscriber(t,function(u){if(r){for(var s=0;s<r.length;s++)s!==a&&r[s].unsubscribe();r=null}t.next(u)})))},o=0;r&&!t.closed&&o<e.length;o++)n(o)}}function raceWith(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?operate(function(r,n){raceInit(__spreadArray$1([r],__read$6(e)))(n)}):identity$1}function race(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return raceWith.apply(void 0,__spreadArray$1([],__read$6(argsOrArgArray(e))))}function repeat(e){var t,r=1/0,n;return e!=null&&(typeof e=="object"?(t=e.count,r=t===void 0?1/0:t,n=e.delay):r=e),r<=0?function(){return EMPTY}:operate(function(o,a){var u=0,s,l=function(){if(s==null||s.unsubscribe(),s=null,n!=null){var f=typeof n=="number"?timer(n):innerFrom(n(u)),v=createOperatorSubscriber(a,function(){v.unsubscribe(),c()});f.subscribe(v)}else c()},c=function(){var f=!1;s=o.subscribe(createOperatorSubscriber(a,void 0,function(){++u<r?s?l():f=!0:a.complete()})),f&&l()};c()})}function repeatWhen(e){return operate(function(t,r){var n,o=!1,a,u=!1,s=!1,l=function(){return s&&u&&(r.complete(),!0)},c=function(){return a||(a=new Subject,e(a).subscribe(createOperatorSubscriber(r,function(){n?f():o=!0},function(){u=!0,l()}))),a},f=function(){s=!1,n=t.subscribe(createOperatorSubscriber(r,void 0,function(){s=!0,!l()&&c().next()})),o&&(n.unsubscribe(),n=null,o=!1,f())};f()})}function retry(e){e===void 0&&(e=1/0);var t;e&&typeof e=="object"?t=e:t={count:e};var r=t.count,n=r===void 0?1/0:r,o=t.delay,a=t.resetOnSuccess,u=a===void 0?!1:a;return n<=0?identity$1:operate(function(s,l){var c=0,f,v=function(){var b=!1;f=s.subscribe(createOperatorSubscriber(l,function($){u&&(c=0),l.next($)},void 0,function($){if(c++<n){var E=function(){f?(f.unsubscribe(),f=null,v()):b=!0};if(o!=null){var w=typeof o=="number"?timer(o):innerFrom(o($,c)),A=createOperatorSubscriber(l,function(){A.unsubscribe(),E()},function(){l.complete()});w.subscribe(A)}else E()}else l.error($)})),b&&(f.unsubscribe(),f=null,v())};v()})}function retryWhen(e){return operate(function(t,r){var n,o=!1,a,u=function(){n=t.subscribe(createOperatorSubscriber(r,void 0,void 0,function(s){a||(a=new Subject,e(a).subscribe(createOperatorSubscriber(r,function(){return n?u():o=!0}))),a&&a.next(s)})),o&&(n.unsubscribe(),n=null,o=!1,u())};u()})}function sample(e){return operate(function(t,r){var n=!1,o=null;t.subscribe(createOperatorSubscriber(r,function(a){n=!0,o=a})),e.subscribe(createOperatorSubscriber(r,function(){if(n){n=!1;var a=o;o=null,r.next(a)}},noop))})}function interval(e,t){return e===void 0&&(e=0),t===void 0&&(t=asyncScheduler),e<0&&(e=0),timer(e,e,t)}function sampleTime(e,t){return t===void 0&&(t=asyncScheduler),sample(interval(e,t))}function scan(e,t){return operate(scanInternals(e,t,arguments.length>=2,!0))}function sequenceEqual(e,t){return t===void 0&&(t=function(r,n){return r===n}),operate(function(r,n){var o=createState(),a=createState(),u=function(l){n.next(l),n.complete()},s=function(l,c){var f=createOperatorSubscriber(n,function(v){var b=c.buffer,$=c.complete;b.length===0?$?u(!1):l.buffer.push(v):!t(v,b.shift())&&u(!1)},function(){l.complete=!0;var v=c.complete,b=c.buffer;v&&u(b.length===0),f==null||f.unsubscribe()});return f};r.subscribe(s(o,a)),e.subscribe(s(a,o))})}function createState(){return{buffer:[],complete:!1}}function share(e){e===void 0&&(e={});var t=e.connector,r=t===void 0?function(){return new Subject}:t,n=e.resetOnError,o=n===void 0?!0:n,a=e.resetOnComplete,u=a===void 0?!0:a,s=e.resetOnRefCountZero,l=s===void 0?!0:s;return function(c){var f,v,b,$=0,E=!1,w=!1,A=function(){v==null||v.unsubscribe(),v=void 0},I=function(){A(),f=b=void 0,E=w=!1},R=function(){var x=f;I(),x==null||x.unsubscribe()};return operate(function(x,N){$++,!w&&!E&&A();var D=b=b!=null?b:r();N.add(function(){$--,$===0&&!w&&!E&&(v=handleReset(R,l))}),D.subscribe(N),!f&&$>0&&(f=new SafeSubscriber({next:function(V){return D.next(V)},error:function(V){w=!0,A(),v=handleReset(I,o,V),D.error(V)},complete:function(){E=!0,A(),v=handleReset(I,u),D.complete()}}),innerFrom(x).subscribe(f))})(c)}}function handleReset(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(t===!0){e();return}if(t!==!1){var o=new SafeSubscriber({next:function(){o.unsubscribe(),e()}});return t.apply(void 0,__spreadArray$1([],__read$6(r))).subscribe(o)}}function shareReplay(e,t,r){var n,o,a,u,s=!1;return e&&typeof e=="object"?(n=e.bufferSize,u=n===void 0?1/0:n,o=e.windowTime,t=o===void 0?1/0:o,a=e.refCount,s=a===void 0?!1:a,r=e.scheduler):u=e!=null?e:1/0,share({connector:function(){return new ReplaySubject(u,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}var SequenceError=createErrorClass(function(e){return function(r){e(this),this.name="SequenceError",this.message=r}}),NotFoundError=createErrorClass(function(e){return function(r){e(this),this.name="NotFoundError",this.message=r}});function single(e){return operate(function(t,r){var n=!1,o,a=!1,u=0;t.subscribe(createOperatorSubscriber(r,function(s){a=!0,(!e||e(s,u++,t))&&(n&&r.error(new SequenceError("Too many matching values")),n=!0,o=s)},function(){n?(r.next(o),r.complete()):r.error(a?new NotFoundError("No matching values"):new EmptyError)}))})}function skip(e){return filter(function(t,r){return e<=r})}function skipLast(e){return e<=0?identity$1:operate(function(t,r){var n=new Array(e),o=0;return t.subscribe(createOperatorSubscriber(r,function(a){var u=o++;if(u<e)n[u]=a;else{var s=u%e,l=n[s];n[s]=a,r.next(l)}})),function(){n=null}})}function skipUntil(e){return operate(function(t,r){var n=!1,o=createOperatorSubscriber(r,function(){o==null||o.unsubscribe(),n=!0},noop);innerFrom(e).subscribe(o),t.subscribe(createOperatorSubscriber(r,function(a){return n&&r.next(a)}))})}function skipWhile(e){return operate(function(t,r){var n=!1,o=0;t.subscribe(createOperatorSubscriber(r,function(a){return(n||(n=!e(a,o++)))&&r.next(a)}))})}function startWith(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=popScheduler(e);return operate(function(n,o){(r?concat(e,n,r):concat(e,n)).subscribe(o)})}function switchMap(e,t){return operate(function(r,n){var o=null,a=0,u=!1,s=function(){return u&&!o&&n.complete()};r.subscribe(createOperatorSubscriber(n,function(l){o==null||o.unsubscribe();var c=0,f=a++;innerFrom(e(l,f)).subscribe(o=createOperatorSubscriber(n,function(v){return n.next(t?t(l,v,f,c++):v)},function(){o=null,s()}))},function(){u=!0,s()}))})}function switchAll(){return switchMap(identity$1)}function switchMapTo(e,t){return isFunction(t)?switchMap(function(){return e},t):switchMap(function(){return e})}function switchScan(e,t){return operate(function(r,n){var o=t;return switchMap(function(a,u){return e(o,a,u)},function(a,u){return o=u,u})(r).subscribe(n),function(){o=null}})}function takeUntil(e){return operate(function(t,r){innerFrom(e).subscribe(createOperatorSubscriber(r,function(){return r.complete()},noop)),!r.closed&&t.subscribe(r)})}function takeWhile(e,t){return t===void 0&&(t=!1),operate(function(r,n){var o=0;r.subscribe(createOperatorSubscriber(n,function(a){var u=e(a,o++);(u||t)&&n.next(a),!u&&n.complete()}))})}function tap(e,t,r){var n=isFunction(e)||t||r?{next:e,error:t,complete:r}:e;return n?operate(function(o,a){var u;(u=n.subscribe)===null||u===void 0||u.call(n);var s=!0;o.subscribe(createOperatorSubscriber(a,function(l){var c;(c=n.next)===null||c===void 0||c.call(n,l),a.next(l)},function(){var l;s=!1,(l=n.complete)===null||l===void 0||l.call(n),a.complete()},function(l){var c;s=!1,(c=n.error)===null||c===void 0||c.call(n,l),a.error(l)},function(){var l,c;s&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):identity$1}var defaultThrottleConfig={leading:!0,trailing:!1};function throttle(e,t){return t===void 0&&(t=defaultThrottleConfig),operate(function(r,n){var o=t.leading,a=t.trailing,u=!1,s=null,l=null,c=!1,f=function(){l==null||l.unsubscribe(),l=null,a&&($(),c&&n.complete())},v=function(){l=null,c&&n.complete()},b=function(E){return l=innerFrom(e(E)).subscribe(createOperatorSubscriber(n,f,v))},$=function(){if(u){u=!1;var E=s;s=null,n.next(E),!c&&b(E)}};r.subscribe(createOperatorSubscriber(n,function(E){u=!0,s=E,!(l&&!l.closed)&&(o?$():b(E))},function(){c=!0,!(a&&u&&l&&!l.closed)&&n.complete()}))})}function throttleTime(e,t,r){t===void 0&&(t=asyncScheduler),r===void 0&&(r=defaultThrottleConfig);var n=timer(e,t);return throttle(function(){return n},r)}function timeInterval(e){return e===void 0&&(e=asyncScheduler),operate(function(t,r){var n=e.now();t.subscribe(createOperatorSubscriber(r,function(o){var a=e.now(),u=a-n;n=a,r.next(new TimeInterval(o,u))}))})}var TimeInterval=function(){function e(t,r){this.value=t,this.interval=r}return e}(),TimeoutError=createErrorClass(function(e){return function(r){r===void 0&&(r=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r}});function timeout(e,t){var r=isValidDate(e)?{first:e}:typeof e=="number"?{each:e}:e,n=r.first,o=r.each,a=r.with,u=a===void 0?timeoutErrorFactory:a,s=r.scheduler,l=s===void 0?t!=null?t:asyncScheduler:s,c=r.meta,f=c===void 0?null:c;if(n==null&&o==null)throw new TypeError("No timeout provided.");return operate(function(v,b){var $,E,w=null,A=0,I=function(R){E=executeSchedule(b,l,function(){try{$.unsubscribe(),innerFrom(u({meta:f,lastValue:w,seen:A})).subscribe(b)}catch(x){b.error(x)}},R)};$=v.subscribe(createOperatorSubscriber(b,function(R){E==null||E.unsubscribe(),A++,b.next(w=R),o>0&&I(o)},void 0,void 0,function(){E!=null&&E.closed||E==null||E.unsubscribe(),w=null})),!A&&I(n!=null?typeof n=="number"?n:+n-l.now():o)})}function timeoutErrorFactory(e){throw new TimeoutError(e)}function timeoutWith(e,t,r){var n,o,a;if(r=r!=null?r:async,isValidDate(e)?n=e:typeof e=="number"&&(o=e),t)a=function(){return t};else throw new TypeError("No observable provided to switch to");if(n==null&&o==null)throw new TypeError("No timeout provided.");return timeout({first:n,each:o,scheduler:r,with:a})}function timestamp(e){return e===void 0&&(e=dateTimestampProvider),map(function(t){return{value:t,timestamp:e.now()}})}function window$1(e){return operate(function(t,r){var n=new Subject;r.next(n.asObservable());var o=function(a){n.error(a),r.error(a)};return t.subscribe(createOperatorSubscriber(r,function(a){return n==null?void 0:n.next(a)},function(){n.complete(),r.complete()},o)),e.subscribe(createOperatorSubscriber(r,function(){n.complete(),r.next(n=new Subject)},noop,o)),function(){n==null||n.unsubscribe(),n=null}})}function windowCount(e,t){t===void 0&&(t=0);var r=t>0?t:e;return operate(function(n,o){var a=[new Subject],u=[],s=0;o.next(a[0].asObservable()),n.subscribe(createOperatorSubscriber(o,function(l){var c,f;try{for(var v=__values$1(a),b=v.next();!b.done;b=v.next()){var $=b.value;$.next(l)}}catch(A){c={error:A}}finally{try{b&&!b.done&&(f=v.return)&&f.call(v)}finally{if(c)throw c.error}}var E=s-e+1;if(E>=0&&E%r===0&&a.shift().complete(),++s%r===0){var w=new Subject;a.push(w),o.next(w.asObservable())}},function(){for(;a.length>0;)a.shift().complete();o.complete()},function(l){for(;a.length>0;)a.shift().error(l);o.error(l)},function(){u=null,a=null}))})}function windowTime(e){for(var t,r,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var a=(t=popScheduler(n))!==null&&t!==void 0?t:asyncScheduler,u=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return operate(function(l,c){var f=[],v=!1,b=function(A){var I=A.window,R=A.subs;I.complete(),R.unsubscribe(),arrRemove(f,A),v&&$()},$=function(){if(f){var A=new Subscription;c.add(A);var I=new Subject,R={window:I,subs:A,seen:0};f.push(R),c.next(I.asObservable()),executeSchedule(A,a,function(){return b(R)},e)}};u!==null&&u>=0?executeSchedule(c,a,$,u,!0):v=!0,$();var E=function(A){return f.slice().forEach(A)},w=function(A){E(function(I){var R=I.window;return A(R)}),A(c),c.unsubscribe()};return l.subscribe(createOperatorSubscriber(c,function(A){E(function(I){I.window.next(A),s<=++I.seen&&b(I)})},function(){return w(function(A){return A.complete()})},function(A){return w(function(I){return I.error(A)})})),function(){f=null}})}function windowToggle(e,t){return operate(function(r,n){var o=[],a=function(u){for(;0<o.length;)o.shift().error(u);n.error(u)};innerFrom(e).subscribe(createOperatorSubscriber(n,function(u){var s=new Subject;o.push(s);var l=new Subscription,c=function(){arrRemove(o,s),s.complete(),l.unsubscribe()},f;try{f=innerFrom(t(u))}catch(v){a(v);return}n.next(s.asObservable()),l.add(f.subscribe(createOperatorSubscriber(n,c,noop,a)))},noop)),r.subscribe(createOperatorSubscriber(n,function(u){var s,l,c=o.slice();try{for(var f=__values$1(c),v=f.next();!v.done;v=f.next()){var b=v.value;b.next(u)}}catch($){s={error:$}}finally{try{v&&!v.done&&(l=f.return)&&l.call(f)}finally{if(s)throw s.error}}},function(){for(;0<o.length;)o.shift().complete();n.complete()},a,function(){for(;0<o.length;)o.shift().unsubscribe()}))})}function windowWhen(e){return operate(function(t,r){var n,o,a=function(s){n.error(s),r.error(s)},u=function(){o==null||o.unsubscribe(),n==null||n.complete(),n=new Subject,r.next(n.asObservable());var s;try{s=innerFrom(e())}catch(l){a(l);return}s.subscribe(o=createOperatorSubscriber(r,u,u,a))};u(),t.subscribe(createOperatorSubscriber(r,function(s){return n.next(s)},function(){n.complete(),r.complete()},a,function(){o==null||o.unsubscribe(),n=null}))})}function withLatestFrom(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=popResultSelector(e);return operate(function(n,o){for(var a=e.length,u=new Array(a),s=e.map(function(){return!1}),l=!1,c=function(v){innerFrom(e[v]).subscribe(createOperatorSubscriber(o,function(b){u[v]=b,!l&&!s[v]&&(s[v]=!0,(l=s.every(identity$1))&&(s=null))},noop))},f=0;f<a;f++)c(f);n.subscribe(createOperatorSubscriber(o,function(v){if(l){var b=__spreadArray$1([v],__read$6(u));o.next(r?r.apply(void 0,__spreadArray$1([],__read$6(b))):b)}}))})}function zip$1(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=popResultSelector(e),n=argsOrArgArray(e);return n.length?new Observable(function(o){var a=n.map(function(){return[]}),u=n.map(function(){return!1});o.add(function(){a=u=null});for(var s=function(c){innerFrom(n[c]).subscribe(createOperatorSubscriber(o,function(f){if(a[c].push(f),a.every(function(b){return b.length})){var v=a.map(function(b){return b.shift()});o.next(r?r.apply(void 0,__spreadArray$1([],__read$6(v))):v),a.some(function(b,$){return!b.length&&u[$]})&&o.complete()}},function(){u[c]=!0,!a[c].length&&o.complete()}))},l=0;!o.closed&&l<n.length;l++)s(l);return function(){a=u=null}}):EMPTY}function zip(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return operate(function(r,n){zip$1.apply(void 0,__spreadArray$1([r],__read$6(e))).subscribe(n)})}function zipAll(e){return joinAllInternals(zip$1,e)}function zipWith(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return zip.apply(void 0,__spreadArray$1([],__read$6(e)))}var operators=Object.freeze(Object.defineProperty({__proto__:null,audit,auditTime,buffer:buffer$1,bufferCount,bufferTime,bufferToggle,bufferWhen,catchError,combineAll,combineLatestAll,combineLatest,combineLatestWith,concat:concat$1,concatAll,concatMap,concatMapTo,concatWith,connect,count,debounce,debounceTime,defaultIfEmpty,delay,delayWhen,dematerialize,distinct,distinctUntilChanged,distinctUntilKeyChanged,elementAt,endWith,every,exhaust,exhaustAll,exhaustMap,expand,filter,finalize,find,findIndex,first,groupBy,ignoreElements,isEmpty,last,map,mapTo,materialize,max,merge,mergeAll,flatMap,mergeMap,mergeMapTo,mergeScan,mergeWith,min,multicast,observeOn,onErrorResumeNext,pairwise,partition,pluck,publish,publishBehavior,publishLast,publishReplay,race,raceWith,reduce,repeat,repeatWhen,retry,retryWhen,refCount,sample,sampleTime,scan,sequenceEqual,share,shareReplay,single,skip,skipLast,skipUntil,skipWhile,startWith,subscribeOn,switchAll,switchMap,switchMapTo,switchScan,take,takeLast,takeUntil,takeWhile,tap,throttle,throttleTime,throwIfEmpty,timeInterval,timeout,timeoutWith,timestamp,toArray,window:window$1,windowCount,windowTime,windowToggle,windowWhen,withLatestFrom,zip,zipAll,zipWith},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(operators),resultRx={};(function(e){var t=interopRequireDefault.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(regenerator),n=t(asyncToGenerator.exports),o=t(classCallCheck.exports),a=t(createClass.exports),u=lib$1,s=cjs,l=require$$4,c={READY:0,STREAMING:1,COMPLETED:2},f=function(){function $(E,w){(0,o.default)(this,$);var A=E.pipe((0,l.publishReplay)(1),(0,l.refCount)());this._result=A,this._keys=A.pipe((0,l.mergeMap)(function(I){return(0,s.from)(I.keys())}),(0,l.publishReplay)(1),(0,l.refCount)()),this._records=void 0,this._controls=new b,this._summary=new s.ReplaySubject,this._state=w||c.READY}return(0,a.default)($,[{key:"keys",value:function(){return this._keys}},{key:"records",value:function(){var w=this,A=this._result.pipe((0,l.mergeMap)(function(I){return new s.Observable(function(R){return w._startStreaming({result:I,recordsObserver:R})})}));return A.push=function(){return w._push()},A}},{key:"consume",value:function(){var w=this;return this._result.pipe((0,l.mergeMap)(function(A){return new s.Observable(function(I){return w._startStreaming({result:A,summaryObserver:I})})}))}},{key:"pause",value:function(){this._controls.pause()}},{key:"resume",value:function(){return this._controls.resume()}},{key:"push",value:function(){return this._controls.push()}},{key:"_startStreaming",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=w.result,I=w.recordsObserver,R=I===void 0?null:I,x=w.summaryObserver,N=x===void 0?null:x,D=[];return N&&D.push(this._summary.subscribe(N)),this._state<c.STREAMING?(this._state=c.STREAMING,this._setupRecordsStream(A),R?D.push(this._records.subscribe(R)):A._cancel(),D.push({unsubscribe:function(){A._cancel&&A._cancel()}})):R&&R.error((0,u.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){D.forEach(function(V){return V.unsubscribe()})}}},{key:"_toObservable",value:function(){var w=this;function A(I){return new s.Observable(function(R){R.next(I),R.complete()})}return new s.Observable(function(I){w._result.subscribe({complete:function(){return I.complete()},next:function(x){return I.next(new $(A(x)),w._state)},error:function(x){return I.error(x)}})})}},{key:"_setupRecordsStream",value:function(w){var A=this;return this._records?this._records:(this._records=v(w[Symbol.asyncIterator](),{complete:function(){var I=(0,n.default)(r.default.mark(function x(){return r.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return A._state=c.COMPLETED,D.t0=A._summary,D.next=4,w.summary();case 4:D.t1=D.sent,D.t0.next.call(D.t0,D.t1),A._summary.complete();case 7:case"end":return D.stop()}},x)}));function R(){return I.apply(this,arguments)}return R}(),error:function(R){A._state=c.COMPLETED,A._summary.error(R)}},this._controls),this._records)}}]),$}();e.default=f;function v($,E){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new b,A=new s.Subject,I=function(){var N=(0,n.default)(r.default.mark(function D(V){var Y,Q,te;return r.default.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.prev=0,w.pushing=!0,ne.next=4,V;case 4:Y=ne.sent,Q=Y.done,te=Y.value,Q?(A.complete(),E.complete()):(A.next(te),w.paused||setImmediate((0,n.default)(r.default.mark(function ae(){return r.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,I($.next());case 2:return H.abrupt("return",H.sent);case 3:case"end":return H.stop()}},ae)})))),ne.next=14;break;case 10:ne.prev=10,ne.t0=ne.catch(0),A.error(ne.t0),E.error(ne.t0);case 14:return ne.prev=14,w.pushing=!1,ne.finish(14);case 17:case"end":return ne.stop()}},D,null,[[0,10,14,17]])}));return function(V){return N.apply(this,arguments)}}();function R(N){return x.apply(this,arguments)}function x(){return x=(0,n.default)(r.default.mark(function N(D){return r.default.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,I($.next(D));case 2:case"end":return Y.stop()}},N)})),x.apply(this,arguments)}return w.pusher=R,R(),A}var b=function(){function $(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,n.default)(r.default.mark(function w(){return r.default.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:case"end":return I.stop()}},w)}));(0,o.default)(this,$),this._paused=!1,this._pushing=!1,this._push=E}return(0,a.default)($,[{key:"pause",value:function(){this._paused=!0}},{key:"paused",get:function(){return this._paused}},{key:"pushing",get:function(){return this._pushing},set:function(w){this._pushing=w}},{key:"resume",value:function(){var E=(0,n.default)(r.default.mark(function A(){var I;return r.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(I=this._paused,this._paused=!1,!(I&&!this._pushing)){x.next=5;break}return x.next=5,this._push();case 5:case"end":return x.stop()}},A,this)}));function w(){return E.apply(this,arguments)}return w}()},{key:"push",value:function(){var E=(0,n.default)(r.default.mark(function A(){return r.default.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return this.pause(),R.next=3,this._push();case 3:return R.abrupt("return",R.sent);case 4:case"end":return R.stop()}},A,this)}));function w(){return E.apply(this,arguments)}return w}()},{key:"pusher",get:function(){return this._push},set:function(w){this._push=w}}]),$}()})(resultRx);var transactionRx={};(function(e){var t=interopRequireDefault.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(classCallCheck.exports),n=t(createClass.exports),o=cjs,a=t(resultRx);t(lib$1);var u=function(){function s(l){(0,r.default)(this,s),this._txc=l}return(0,n.default)(s,[{key:"run",value:function(c,f){var v=this;return new a.default(new o.Observable(function(b){try{b.next(v._txc.run(c,f)),b.complete()}catch($){b.error($)}return function(){}}))}},{key:"commit",value:function(){var c=this;return new o.Observable(function(f){c._txc.commit().then(function(){f.complete()}).catch(function(v){return f.error(v)})})}},{key:"rollback",value:function(){var c=this;return new o.Observable(function(f){c._txc.rollback().then(function(){f.complete()}).catch(function(v){return f.error(v)})})}},{key:"isOpen",value:function(){return this._txc.isOpen()}},{key:"close",value:function(){var c=this;return new o.Observable(function(f){c._txc.close().then(function(){f.complete()}).catch(function(v){return f.error(v)})})}}]),s}();e.default=u})(transactionRx);var transactionManagedRx={};(function(e){var t=interopRequireDefault.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(classCallCheck.exports),n=t(createClass.exports);t(resultRx),t(transactionRx);var o=function(){function u(s){var l=s.run;(0,r.default)(this,u),this._run=l}return(0,n.default)(u,[{key:"run",value:function(l,c){return this._run(l,c)}}],[{key:"fromTransaction",value:function(l){return new u({run:l.run.bind(l)})}}]),u}(),a=o;e.default=a})(transactionManagedRx);var retryLogicRx={};(function(e){var t=interopRequireDefault.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(classCallCheck.exports),n=t(createClass.exports),o=lib$1,a=cjs,u=require$$4;o.internal.logger.Logger;var s=o.error.SERVICE_UNAVAILABLE,l=30*1e3,c=1e3,f=2,v=.2,b=function(){function E(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=w.maxRetryTimeout,I=A===void 0?l:A,R=w.initialDelay,x=R===void 0?c:R,N=w.delayMultiplier,D=N===void 0?f:N,V=w.delayJitter,Y=V===void 0?v:V,Q=w.logger,te=Q===void 0?null:Q;(0,r.default)(this,E),this._maxRetryTimeout=$(I,l),this._initialDelay=$(x,c),this._delayMultiplier=$(D,f),this._delayJitter=$(Y,v),this._logger=te}return(0,n.default)(E,[{key:"retry",value:function(A){var I=this;return A.pipe((0,u.retryWhen)(function(R){var x=[],N=Date.now(),D=1,V=I._initialDelay;return R.pipe((0,u.mergeMap)(function(Y){if(!(0,o.isRetriableError)(Y))return(0,a.throwError)(function(){return Y});if(x.push(Y),D>=2&&Date.now()-N>=I._maxRetryTimeout){var Q=(0,o.newError)("Failed after retried for ".concat(D," times in ").concat(I._maxRetryTimeout," ms. Make sure that your database is online and retry again."),s);return Q.seenErrors=x,(0,a.throwError)(function(){return Q})}var te=I._computeNextDelay(V);return V=V*I._delayMultiplier,D++,I._logger&&I._logger.warn("Transaction failed and will be retried in ".concat(te)),(0,a.of)(1).pipe((0,u.delay)(te))}))}))}},{key:"_computeNextDelay",value:function(A){var I=A*this._delayJitter;return A-I+2*I*Math.random()}}]),E}();e.default=b;function $(E,w){return E||E===0?E:w}})(retryLogicRx);(function(e){var t=interopRequireDefault.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(classCallCheck.exports),n=t(createClass.exports),o=cjs,a=require$$4,u=t(resultRx),s=lib$1,l=t(transactionRx),c=t(transactionManagedRx),f=t(retryLogicRx),v=s.internal.constants,b=v.ACCESS_MODE_READ,$=v.ACCESS_MODE_WRITE,E=s.internal.txConfig.TxConfig,w=function(){function I(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=R.session,N=R.config;(0,r.default)(this,I),this._session=x,this._retryLogic=A(N)}return(0,n.default)(I,[{key:"run",value:function(x,N,D){var V=this;return new u.default(new o.Observable(function(Y){try{Y.next(V._session.run(x,N,D)),Y.complete()}catch(Q){Y.error(Q)}return function(){}}))}},{key:"beginTransaction",value:function(x){return this._beginTransaction(this._session._mode,x)}},{key:"readTransaction",value:function(x,N){return this._runTransaction(b,x,N)}},{key:"writeTransaction",value:function(x,N){return this._runTransaction($,x,N)}},{key:"executeRead",value:function(x,N){return this._executeInTransaction(b,x,N)}},{key:"executeWrite",value:function(x,N){return this._executeInTransaction($,x,N)}},{key:"_executeInTransaction",value:function(x,N,D){var V=function(Q){return new c.default({run:Q.run.bind(Q)})};return this._runTransaction(x,N,D,V)}},{key:"close",value:function(){var x=this;return new o.Observable(function(N){x._session.close().then(function(){N.complete()}).catch(function(D){return N.error(D)})})}},{key:"lastBookmark",value:function(){return this.lastBookmarks()}},{key:"lastBookmarks",value:function(){return this._session.lastBookmarks()}},{key:"_beginTransaction",value:function(x,N){var D=this,V=E.empty();return N&&(V=new E(N)),new o.Observable(function(Y){try{D._session._beginTransaction(x,V).then(function(Q){Y.next(new l.default(Q)),Y.complete()}).catch(function(Q){return Y.error(Q)})}catch(Q){Y.error(Q)}return function(){}})}},{key:"_runTransaction",value:function(x,N,D){var V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(Q){return Q},Y=E.empty();return D&&(Y=new E(D)),this._retryLogic.retry(this._beginTransaction(x,Y).pipe((0,a.mergeMap)(function(Q){return(0,o.defer)(function(){try{return N(V(Q))}catch(te){return(0,o.throwError)(function(){return te})}}).pipe((0,a.catchError)(function(te){return Q.rollback().pipe((0,a.concatWith)((0,o.throwError)(function(){return te})))}),(0,a.concatWith)(Q.commit()))})))}}]),I}();e.default=w;function A(I){var R=I&&I.maxTransactionRetryTime?I.maxTransactionRetryTime:null;return new f.default({maxRetryTimeout:R})}})(sessionRx);(function(e){var t=interopRequireDefault.exports;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.WRITE=e.READ=e.Driver=void 0;var r=t(classCallCheck.exports),n=t(createClass.exports),o=t(inherits.exports),a=t(possibleConstructorReturn.exports),u=t(getPrototypeOf$2.exports),s=lib$1,l=t(sessionRx);function c(I){var R=f();return function(){var N=(0,u.default)(I),D;if(R){var V=(0,u.default)(this).constructor;D=Reflect.construct(N,arguments,V)}else D=N.apply(this,arguments);return(0,a.default)(this,D)}}function f(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var v=s.internal.constants.FETCH_ALL,b=s.driver.READ,$=s.driver.WRITE;e.WRITE=$,e.READ=b;var E=function(I){(0,o.default)(x,I);var R=c(x);function x(){return(0,r.default)(this,x),R.apply(this,arguments)}return(0,n.default)(x,[{key:"rxSession",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V=D.defaultAccessMode,Y=V===void 0?$:V,Q=D.bookmarks,te=D.database,de=te===void 0?"":te,ne=D.fetchSize,ae=D.impersonatedUser,le=D.bookmarkManager;return new l.default({session:this._newSession({defaultAccessMode:Y,bookmarkOrBookmarks:Q,database:de,impersonatedUser:ae,reactive:!1,fetchSize:w(ne,this._config.fetchSize),bookmarkManager:le}),config:this._config})}}]),x}(s.Driver);e.Driver=E;function w(I,R){var x=parseInt(I,10);if(x>0||x===v)return x;if(x===0||x<0)throw new Error("The fetch size can only be a positive value or ".concat(v," for ALL. However fetchSize = ").concat(x));return R}var A=E;e.default=A})(driver$2);var version$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t="5.2.0";e.default=t})(version$1);var lib={},loadBalancing={},loadBalancingStrategy={};Object.defineProperty(loadBalancingStrategy,"__esModule",{value:!0});var LoadBalancingStrategy=function(){function e(){}return e.prototype.selectReader=function(t){throw new Error("Abstract function")},e.prototype.selectWriter=function(t){throw new Error("Abstract function")},e}();loadBalancingStrategy.default=LoadBalancingStrategy;var leastConnectedLoadBalancingStrategy={},roundRobinArrayIndex={};Object.defineProperty(roundRobinArrayIndex,"__esModule",{value:!0});var RoundRobinArrayIndex=function(){function e(t){this._offset=t||0}return e.prototype.next=function(t){if(t===0)return-1;var r=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),r%t},e}();roundRobinArrayIndex.default=RoundRobinArrayIndex;var __extends$m=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__importDefault$y=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(leastConnectedLoadBalancingStrategy,"__esModule",{value:!0});var round_robin_array_index_1=__importDefault$y(roundRobinArrayIndex),load_balancing_strategy_1$1=__importDefault$y(loadBalancingStrategy),LeastConnectedLoadBalancingStrategy=function(e){__extends$m(t,e);function t(r){var n=e.call(this)||this;return n._readersIndex=new round_robin_array_index_1.default,n._writersIndex=new round_robin_array_index_1.default,n._connectionPool=r,n}return t.prototype.selectReader=function(r){return this._select(r,this._readersIndex)},t.prototype.selectWriter=function(r){return this._select(r,this._writersIndex)},t.prototype._select=function(r,n){var o=r.length;if(o===0)return null;var a=n.next(o),u=a,s=null,l=Number.MAX_SAFE_INTEGER;do{var c=r[u],f=this._connectionPool.activeResourceCount(c);f<l&&(s=c,l=f),u===o-1?u=0:u++}while(u!==a);return s},t}(load_balancing_strategy_1$1.default);leastConnectedLoadBalancingStrategy.default=LeastConnectedLoadBalancingStrategy;var __importDefault$x=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(loadBalancing,"__esModule",{value:!0});loadBalancing.LeastConnectedLoadBalancingStrategy=loadBalancing.LoadBalancingStrategy=void 0;var load_balancing_strategy_1=__importDefault$x(loadBalancingStrategy);loadBalancing.LoadBalancingStrategy=load_balancing_strategy_1.default;var least_connected_load_balancing_strategy_1=__importDefault$x(leastConnectedLoadBalancingStrategy);loadBalancing.LeastConnectedLoadBalancingStrategy=least_connected_load_balancing_strategy_1.default;loadBalancing.default=least_connected_load_balancing_strategy_1.default;var bolt={},handshake$1={},channel={},browser={},browserChannel={},channelBuf={},buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array!="undefined"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function byteLength(e){var t=getLens(e),r=t[0],n=t[1];return(r+n)*3/4-n}function _byteLength(e,t,r){return(t+r)*3/4-r}function toByteArray(e){var t,r=getLens(e),n=r[0],o=r[1],a=new Arr(_byteLength(e,n,o)),u=0,s=o>0?n-4:n,l;for(l=0;l<s;l+=4)t=revLookup[e.charCodeAt(l)]<<18|revLookup[e.charCodeAt(l+1)]<<12|revLookup[e.charCodeAt(l+2)]<<6|revLookup[e.charCodeAt(l+3)],a[u++]=t>>16&255,a[u++]=t>>8&255,a[u++]=t&255;return o===2&&(t=revLookup[e.charCodeAt(l)]<<2|revLookup[e.charCodeAt(l+1)]>>4,a[u++]=t&255),o===1&&(t=revLookup[e.charCodeAt(l)]<<10|revLookup[e.charCodeAt(l+1)]<<4|revLookup[e.charCodeAt(l+2)]>>2,a[u++]=t>>8&255,a[u++]=t&255),a}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[e&63]}function encodeChunk(e,t,r){for(var n,o=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),o.push(tripletToBase64(n));return o.join("")}function fromByteArray(e){for(var t,r=e.length,n=r%3,o=[],a=16383,u=0,s=r-n;u<s;u+=a)o.push(encodeChunk(e,u,u+a>s?s:u+a));return n===1?(t=e[r-1],o.push(lookup[t>>2]+lookup[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],o.push(lookup[t>>10]+lookup[t>>4&63]+lookup[t<<2&63]+"=")),o.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(e,t,r,n,o){var a,u,s=o*8-n-1,l=(1<<s)-1,c=l>>1,f=-7,v=r?o-1:0,b=r?-1:1,$=e[t+v];for(v+=b,a=$&(1<<-f)-1,$>>=-f,f+=s;f>0;a=a*256+e[t+v],v+=b,f-=8);for(u=a&(1<<-f)-1,a>>=-f,f+=n;f>0;u=u*256+e[t+v],v+=b,f-=8);if(a===0)a=1-c;else{if(a===l)return u?NaN:($?-1:1)*(1/0);u=u+Math.pow(2,n),a=a-c}return($?-1:1)*u*Math.pow(2,a-n)};ieee754.write=function(e,t,r,n,o,a){var u,s,l,c=a*8-o-1,f=(1<<c)-1,v=f>>1,b=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,$=n?0:a-1,E=n?1:-1,w=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,u=f):(u=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-u))<1&&(u--,l*=2),u+v>=1?t+=b/l:t+=b*Math.pow(2,1-v),t*l>=2&&(u++,l/=2),u+v>=f?(s=0,u=f):u+v>=1?(s=(t*l-1)*Math.pow(2,o),u=u+v):(s=t*Math.pow(2,v-1)*Math.pow(2,o),u=0));o>=8;e[r+$]=s&255,$+=E,s/=256,o-=8);for(u=u<<o|s,c+=o;c>0;e[r+$]=u&255,$+=E,u/=256,c-=8);e[r+$-E]|=w*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=base64Js,r=ieee754,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=R,e.INSPECT_MAX_BYTES=50;const o=2147483647;e.kMaxLength=o,s.TYPED_ARRAY_SUPPORT=a(),!s.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const g=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(g,_),g.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(!!s.isBuffer(this))return this.byteOffset}});function u(g){if(g>o)throw new RangeError('The value "'+g+'" is invalid for option "size"');const _=new Uint8Array(g);return Object.setPrototypeOf(_,s.prototype),_}function s(g,_,m){if(typeof g=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(g)}return l(g,_,m)}s.poolSize=8192;function l(g,_,m){if(typeof g=="string")return b(g,_);if(ArrayBuffer.isView(g))return E(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(Ie(g,ArrayBuffer)||g&&Ie(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Ie(g,SharedArrayBuffer)||g&&Ie(g.buffer,SharedArrayBuffer)))return w(g,_,m);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const S=g.valueOf&&g.valueOf();if(S!=null&&S!==g)return s.from(S,_,m);const C=A(g);if(C)return C;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return s.from(g[Symbol.toPrimitive]("string"),_,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}s.from=function(g,_,m){return l(g,_,m)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function c(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function f(g,_,m){return c(g),g<=0?u(g):_!==void 0?typeof m=="string"?u(g).fill(_,m):u(g).fill(_):u(g)}s.alloc=function(g,_,m){return f(g,_,m)};function v(g){return c(g),u(g<0?0:I(g)|0)}s.allocUnsafe=function(g){return v(g)},s.allocUnsafeSlow=function(g){return v(g)};function b(g,_){if((typeof _!="string"||_==="")&&(_="utf8"),!s.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const m=x(g,_)|0;let S=u(m);const C=S.write(g,_);return C!==m&&(S=S.slice(0,C)),S}function $(g){const _=g.length<0?0:I(g.length)|0,m=u(_);for(let S=0;S<_;S+=1)m[S]=g[S]&255;return m}function E(g){if(Ie(g,Uint8Array)){const _=new Uint8Array(g);return w(_.buffer,_.byteOffset,_.byteLength)}return $(g)}function w(g,_,m){if(_<0||g.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<_+(m||0))throw new RangeError('"length" is outside of buffer bounds');let S;return _===void 0&&m===void 0?S=new Uint8Array(g):m===void 0?S=new Uint8Array(g,_):S=new Uint8Array(g,_,m),Object.setPrototypeOf(S,s.prototype),S}function A(g){if(s.isBuffer(g)){const _=I(g.length)|0,m=u(_);return m.length===0||g.copy(m,0,0,_),m}if(g.length!==void 0)return typeof g.length!="number"||Ye(g.length)?u(0):$(g);if(g.type==="Buffer"&&Array.isArray(g.data))return $(g.data)}function I(g){if(g>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return g|0}function R(g){return+g!=g&&(g=0),s.alloc(+g)}s.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==s.prototype},s.compare=function(_,m){if(Ie(_,Uint8Array)&&(_=s.from(_,_.offset,_.byteLength)),Ie(m,Uint8Array)&&(m=s.from(m,m.offset,m.byteLength)),!s.isBuffer(_)||!s.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===m)return 0;let S=_.length,C=m.length;for(let L=0,F=Math.min(S,C);L<F;++L)if(_[L]!==m[L]){S=_[L],C=m[L];break}return S<C?-1:C<S?1:0},s.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(_,m){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return s.alloc(0);let S;if(m===void 0)for(m=0,S=0;S<_.length;++S)m+=_[S].length;const C=s.allocUnsafe(m);let L=0;for(S=0;S<_.length;++S){let F=_[S];if(Ie(F,Uint8Array))L+F.length>C.length?(s.isBuffer(F)||(F=s.from(F)),F.copy(C,L)):Uint8Array.prototype.set.call(C,F,L);else if(s.isBuffer(F))F.copy(C,L);else throw new TypeError('"list" argument must be an Array of Buffers');L+=F.length}return C};function x(g,_){if(s.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||Ie(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);const m=g.length,S=arguments.length>2&&arguments[2]===!0;if(!S&&m===0)return 0;let C=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return Ne(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return we(g).length;default:if(C)return S?-1:Ne(g).length;_=(""+_).toLowerCase(),C=!0}}s.byteLength=x;function N(g,_,m){let S=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,_>>>=0,m<=_))return"";for(g||(g="utf8");;)switch(g){case"hex":return K(this,_,m);case"utf8":case"utf-8":return H(this,_,m);case"ascii":return B(this,_,m);case"latin1":case"binary":return Z(this,_,m);case"base64":return le(this,_,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,_,m);default:if(S)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),S=!0}}s.prototype._isBuffer=!0;function D(g,_,m){const S=g[_];g[_]=g[m],g[m]=S}s.prototype.swap16=function(){const _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<_;m+=2)D(this,m,m+1);return this},s.prototype.swap32=function(){const _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<_;m+=4)D(this,m,m+3),D(this,m+1,m+2);return this},s.prototype.swap64=function(){const _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<_;m+=8)D(this,m,m+7),D(this,m+1,m+6),D(this,m+2,m+5),D(this,m+3,m+4);return this},s.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?H(this,0,_):N.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(_){if(!s.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:s.compare(this,_)===0},s.prototype.inspect=function(){let _="";const m=e.INSPECT_MAX_BYTES;return _=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(_+=" ... "),"<Buffer "+_+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(_,m,S,C,L){if(Ie(_,Uint8Array)&&(_=s.from(_,_.offset,_.byteLength)),!s.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(m===void 0&&(m=0),S===void 0&&(S=_?_.length:0),C===void 0&&(C=0),L===void 0&&(L=this.length),m<0||S>_.length||C<0||L>this.length)throw new RangeError("out of range index");if(C>=L&&m>=S)return 0;if(C>=L)return-1;if(m>=S)return 1;if(m>>>=0,S>>>=0,C>>>=0,L>>>=0,this===_)return 0;let F=L-C,ce=S-m;const be=Math.min(F,ce),ve=this.slice(C,L),pe=_.slice(m,S);for(let fe=0;fe<be;++fe)if(ve[fe]!==pe[fe]){F=ve[fe],ce=pe[fe];break}return F<ce?-1:ce<F?1:0};function V(g,_,m,S,C){if(g.length===0)return-1;if(typeof m=="string"?(S=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,Ye(m)&&(m=C?0:g.length-1),m<0&&(m=g.length+m),m>=g.length){if(C)return-1;m=g.length-1}else if(m<0)if(C)m=0;else return-1;if(typeof _=="string"&&(_=s.from(_,S)),s.isBuffer(_))return _.length===0?-1:Y(g,_,m,S,C);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?C?Uint8Array.prototype.indexOf.call(g,_,m):Uint8Array.prototype.lastIndexOf.call(g,_,m):Y(g,[_],m,S,C);throw new TypeError("val must be string, number or Buffer")}function Y(g,_,m,S,C){let L=1,F=g.length,ce=_.length;if(S!==void 0&&(S=String(S).toLowerCase(),S==="ucs2"||S==="ucs-2"||S==="utf16le"||S==="utf-16le")){if(g.length<2||_.length<2)return-1;L=2,F/=2,ce/=2,m/=2}function be(pe,fe){return L===1?pe[fe]:pe.readUInt16BE(fe*L)}let ve;if(C){let pe=-1;for(ve=m;ve<F;ve++)if(be(g,ve)===be(_,pe===-1?0:ve-pe)){if(pe===-1&&(pe=ve),ve-pe+1===ce)return pe*L}else pe!==-1&&(ve-=ve-pe),pe=-1}else for(m+ce>F&&(m=F-ce),ve=m;ve>=0;ve--){let pe=!0;for(let fe=0;fe<ce;fe++)if(be(g,ve+fe)!==be(_,fe)){pe=!1;break}if(pe)return ve}return-1}s.prototype.includes=function(_,m,S){return this.indexOf(_,m,S)!==-1},s.prototype.indexOf=function(_,m,S){return V(this,_,m,S,!0)},s.prototype.lastIndexOf=function(_,m,S){return V(this,_,m,S,!1)};function Q(g,_,m,S){m=Number(m)||0;const C=g.length-m;S?(S=Number(S),S>C&&(S=C)):S=C;const L=_.length;S>L/2&&(S=L/2);let F;for(F=0;F<S;++F){const ce=parseInt(_.substr(F*2,2),16);if(Ye(ce))return F;g[m+F]=ce}return F}function te(g,_,m,S){return Be(Ne(_,g.length-m),g,m,S)}function de(g,_,m,S){return Be(vr(_),g,m,S)}function ne(g,_,m,S){return Be(we(_),g,m,S)}function ae(g,_,m,S){return Be(De(_,g.length-m),g,m,S)}s.prototype.write=function(_,m,S,C){if(m===void 0)C="utf8",S=this.length,m=0;else if(S===void 0&&typeof m=="string")C=m,S=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(S)?(S=S>>>0,C===void 0&&(C="utf8")):(C=S,S=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const L=this.length-m;if((S===void 0||S>L)&&(S=L),_.length>0&&(S<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");let F=!1;for(;;)switch(C){case"hex":return Q(this,_,m,S);case"utf8":case"utf-8":return te(this,_,m,S);case"ascii":case"latin1":case"binary":return de(this,_,m,S);case"base64":return ne(this,_,m,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,_,m,S);default:if(F)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),F=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function le(g,_,m){return _===0&&m===g.length?t.fromByteArray(g):t.fromByteArray(g.slice(_,m))}function H(g,_,m){m=Math.min(g.length,m);const S=[];let C=_;for(;C<m;){const L=g[C];let F=null,ce=L>239?4:L>223?3:L>191?2:1;if(C+ce<=m){let be,ve,pe,fe;switch(ce){case 1:L<128&&(F=L);break;case 2:be=g[C+1],(be&192)===128&&(fe=(L&31)<<6|be&63,fe>127&&(F=fe));break;case 3:be=g[C+1],ve=g[C+2],(be&192)===128&&(ve&192)===128&&(fe=(L&15)<<12|(be&63)<<6|ve&63,fe>2047&&(fe<55296||fe>57343)&&(F=fe));break;case 4:be=g[C+1],ve=g[C+2],pe=g[C+3],(be&192)===128&&(ve&192)===128&&(pe&192)===128&&(fe=(L&15)<<18|(be&63)<<12|(ve&63)<<6|pe&63,fe>65535&&fe<1114112&&(F=fe))}}F===null?(F=65533,ce=1):F>65535&&(F-=65536,S.push(F>>>10&1023|55296),F=56320|F&1023),S.push(F),C+=ce}return U(S)}const W=4096;function U(g){const _=g.length;if(_<=W)return String.fromCharCode.apply(String,g);let m="",S=0;for(;S<_;)m+=String.fromCharCode.apply(String,g.slice(S,S+=W));return m}function B(g,_,m){let S="";m=Math.min(g.length,m);for(let C=_;C<m;++C)S+=String.fromCharCode(g[C]&127);return S}function Z(g,_,m){let S="";m=Math.min(g.length,m);for(let C=_;C<m;++C)S+=String.fromCharCode(g[C]);return S}function K(g,_,m){const S=g.length;(!_||_<0)&&(_=0),(!m||m<0||m>S)&&(m=S);let C="";for(let L=_;L<m;++L)C+=pr[g[L]];return C}function J(g,_,m){const S=g.slice(_,m);let C="";for(let L=0;L<S.length-1;L+=2)C+=String.fromCharCode(S[L]+S[L+1]*256);return C}s.prototype.slice=function(_,m){const S=this.length;_=~~_,m=m===void 0?S:~~m,_<0?(_+=S,_<0&&(_=0)):_>S&&(_=S),m<0?(m+=S,m<0&&(m=0)):m>S&&(m=S),m<_&&(m=_);const C=this.subarray(_,m);return Object.setPrototypeOf(C,s.prototype),C};function ie(g,_,m){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+_>m)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(_,m,S){_=_>>>0,m=m>>>0,S||ie(_,m,this.length);let C=this[_],L=1,F=0;for(;++F<m&&(L*=256);)C+=this[_+F]*L;return C},s.prototype.readUintBE=s.prototype.readUIntBE=function(_,m,S){_=_>>>0,m=m>>>0,S||ie(_,m,this.length);let C=this[_+--m],L=1;for(;m>0&&(L*=256);)C+=this[_+--m]*L;return C},s.prototype.readUint8=s.prototype.readUInt8=function(_,m){return _=_>>>0,m||ie(_,1,this.length),this[_]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(_,m){return _=_>>>0,m||ie(_,2,this.length),this[_]|this[_+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(_,m){return _=_>>>0,m||ie(_,2,this.length),this[_]<<8|this[_+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(_,m){return _=_>>>0,m||ie(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(_,m){return _=_>>>0,m||ie(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},s.prototype.readBigUInt64LE=je(function(_){_=_>>>0,Oe(_,"offset");const m=this[_],S=this[_+7];(m===void 0||S===void 0)&&Re(_,this.length-8);const C=m+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,L=this[++_]+this[++_]*2**8+this[++_]*2**16+S*2**24;return BigInt(C)+(BigInt(L)<<BigInt(32))}),s.prototype.readBigUInt64BE=je(function(_){_=_>>>0,Oe(_,"offset");const m=this[_],S=this[_+7];(m===void 0||S===void 0)&&Re(_,this.length-8);const C=m*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],L=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+S;return(BigInt(C)<<BigInt(32))+BigInt(L)}),s.prototype.readIntLE=function(_,m,S){_=_>>>0,m=m>>>0,S||ie(_,m,this.length);let C=this[_],L=1,F=0;for(;++F<m&&(L*=256);)C+=this[_+F]*L;return L*=128,C>=L&&(C-=Math.pow(2,8*m)),C},s.prototype.readIntBE=function(_,m,S){_=_>>>0,m=m>>>0,S||ie(_,m,this.length);let C=m,L=1,F=this[_+--C];for(;C>0&&(L*=256);)F+=this[_+--C]*L;return L*=128,F>=L&&(F-=Math.pow(2,8*m)),F},s.prototype.readInt8=function(_,m){return _=_>>>0,m||ie(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},s.prototype.readInt16LE=function(_,m){_=_>>>0,m||ie(_,2,this.length);const S=this[_]|this[_+1]<<8;return S&32768?S|4294901760:S},s.prototype.readInt16BE=function(_,m){_=_>>>0,m||ie(_,2,this.length);const S=this[_+1]|this[_]<<8;return S&32768?S|4294901760:S},s.prototype.readInt32LE=function(_,m){return _=_>>>0,m||ie(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},s.prototype.readInt32BE=function(_,m){return _=_>>>0,m||ie(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},s.prototype.readBigInt64LE=je(function(_){_=_>>>0,Oe(_,"offset");const m=this[_],S=this[_+7];(m===void 0||S===void 0)&&Re(_,this.length-8);const C=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(S<<24);return(BigInt(C)<<BigInt(32))+BigInt(m+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),s.prototype.readBigInt64BE=je(function(_){_=_>>>0,Oe(_,"offset");const m=this[_],S=this[_+7];(m===void 0||S===void 0)&&Re(_,this.length-8);const C=(m<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(C)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+S)}),s.prototype.readFloatLE=function(_,m){return _=_>>>0,m||ie(_,4,this.length),r.read(this,_,!0,23,4)},s.prototype.readFloatBE=function(_,m){return _=_>>>0,m||ie(_,4,this.length),r.read(this,_,!1,23,4)},s.prototype.readDoubleLE=function(_,m){return _=_>>>0,m||ie(_,8,this.length),r.read(this,_,!0,52,8)},s.prototype.readDoubleBE=function(_,m){return _=_>>>0,m||ie(_,8,this.length),r.read(this,_,!1,52,8)};function oe(g,_,m,S,C,L){if(!s.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>C||_<L)throw new RangeError('"value" argument is out of bounds');if(m+S>g.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(_,m,S,C){if(_=+_,m=m>>>0,S=S>>>0,!C){const ce=Math.pow(2,8*S)-1;oe(this,_,m,S,ce,0)}let L=1,F=0;for(this[m]=_&255;++F<S&&(L*=256);)this[m+F]=_/L&255;return m+S},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(_,m,S,C){if(_=+_,m=m>>>0,S=S>>>0,!C){const ce=Math.pow(2,8*S)-1;oe(this,_,m,S,ce,0)}let L=S-1,F=1;for(this[m+L]=_&255;--L>=0&&(F*=256);)this[m+L]=_/F&255;return m+S},s.prototype.writeUint8=s.prototype.writeUInt8=function(_,m,S){return _=+_,m=m>>>0,S||oe(this,_,m,1,255,0),this[m]=_&255,m+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(_,m,S){return _=+_,m=m>>>0,S||oe(this,_,m,2,65535,0),this[m]=_&255,this[m+1]=_>>>8,m+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(_,m,S){return _=+_,m=m>>>0,S||oe(this,_,m,2,65535,0),this[m]=_>>>8,this[m+1]=_&255,m+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(_,m,S){return _=+_,m=m>>>0,S||oe(this,_,m,4,4294967295,0),this[m+3]=_>>>24,this[m+2]=_>>>16,this[m+1]=_>>>8,this[m]=_&255,m+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(_,m,S){return _=+_,m=m>>>0,S||oe(this,_,m,4,4294967295,0),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=_&255,m+4};function _e(g,_,m,S,C){Pe(_,S,C,g,m,7);let L=Number(_&BigInt(4294967295));g[m++]=L,L=L>>8,g[m++]=L,L=L>>8,g[m++]=L,L=L>>8,g[m++]=L;let F=Number(_>>BigInt(32)&BigInt(4294967295));return g[m++]=F,F=F>>8,g[m++]=F,F=F>>8,g[m++]=F,F=F>>8,g[m++]=F,m}function M(g,_,m,S,C){Pe(_,S,C,g,m,7);let L=Number(_&BigInt(4294967295));g[m+7]=L,L=L>>8,g[m+6]=L,L=L>>8,g[m+5]=L,L=L>>8,g[m+4]=L;let F=Number(_>>BigInt(32)&BigInt(4294967295));return g[m+3]=F,F=F>>8,g[m+2]=F,F=F>>8,g[m+1]=F,F=F>>8,g[m]=F,m+8}s.prototype.writeBigUInt64LE=je(function(_,m=0){return _e(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=je(function(_,m=0){return M(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(_,m,S,C){if(_=+_,m=m>>>0,!C){const be=Math.pow(2,8*S-1);oe(this,_,m,S,be-1,-be)}let L=0,F=1,ce=0;for(this[m]=_&255;++L<S&&(F*=256);)_<0&&ce===0&&this[m+L-1]!==0&&(ce=1),this[m+L]=(_/F>>0)-ce&255;return m+S},s.prototype.writeIntBE=function(_,m,S,C){if(_=+_,m=m>>>0,!C){const be=Math.pow(2,8*S-1);oe(this,_,m,S,be-1,-be)}let L=S-1,F=1,ce=0;for(this[m+L]=_&255;--L>=0&&(F*=256);)_<0&&ce===0&&this[m+L+1]!==0&&(ce=1),this[m+L]=(_/F>>0)-ce&255;return m+S},s.prototype.writeInt8=function(_,m,S){return _=+_,m=m>>>0,S||oe(this,_,m,1,127,-128),_<0&&(_=255+_+1),this[m]=_&255,m+1},s.prototype.writeInt16LE=function(_,m,S){return _=+_,m=m>>>0,S||oe(this,_,m,2,32767,-32768),this[m]=_&255,this[m+1]=_>>>8,m+2},s.prototype.writeInt16BE=function(_,m,S){return _=+_,m=m>>>0,S||oe(this,_,m,2,32767,-32768),this[m]=_>>>8,this[m+1]=_&255,m+2},s.prototype.writeInt32LE=function(_,m,S){return _=+_,m=m>>>0,S||oe(this,_,m,4,2147483647,-2147483648),this[m]=_&255,this[m+1]=_>>>8,this[m+2]=_>>>16,this[m+3]=_>>>24,m+4},s.prototype.writeInt32BE=function(_,m,S){return _=+_,m=m>>>0,S||oe(this,_,m,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=_&255,m+4},s.prototype.writeBigInt64LE=je(function(_,m=0){return _e(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=je(function(_,m=0){return M(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function G(g,_,m,S,C,L){if(m+S>g.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function z(g,_,m,S,C){return _=+_,m=m>>>0,C||G(g,_,m,4),r.write(g,_,m,S,23,4),m+4}s.prototype.writeFloatLE=function(_,m,S){return z(this,_,m,!0,S)},s.prototype.writeFloatBE=function(_,m,S){return z(this,_,m,!1,S)};function ee(g,_,m,S,C){return _=+_,m=m>>>0,C||G(g,_,m,8),r.write(g,_,m,S,52,8),m+8}s.prototype.writeDoubleLE=function(_,m,S){return ee(this,_,m,!0,S)},s.prototype.writeDoubleBE=function(_,m,S){return ee(this,_,m,!1,S)},s.prototype.copy=function(_,m,S,C){if(!s.isBuffer(_))throw new TypeError("argument should be a Buffer");if(S||(S=0),!C&&C!==0&&(C=this.length),m>=_.length&&(m=_.length),m||(m=0),C>0&&C<S&&(C=S),C===S||_.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(S<0||S>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),_.length-m<C-S&&(C=_.length-m+S);const L=C-S;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,S,C):Uint8Array.prototype.set.call(_,this.subarray(S,C),m),L},s.prototype.fill=function(_,m,S,C){if(typeof _=="string"){if(typeof m=="string"?(C=m,m=0,S=this.length):typeof S=="string"&&(C=S,S=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!s.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(_.length===1){const F=_.charCodeAt(0);(C==="utf8"&&F<128||C==="latin1")&&(_=F)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(m<0||this.length<m||this.length<S)throw new RangeError("Out of range index");if(S<=m)return this;m=m>>>0,S=S===void 0?this.length:S>>>0,_||(_=0);let L;if(typeof _=="number")for(L=m;L<S;++L)this[L]=_;else{const F=s.isBuffer(_)?_:s.from(_,C),ce=F.length;if(ce===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(L=0;L<S-m;++L)this[L+m]=F[L%ce]}return this};const re={};function me(g,_,m){re[g]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${g}]`,this.stack,delete this.name}get code(){return g}set code(C){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:C,writable:!0})}toString(){return`${this.name} [${g}]: ${this.message}`}}}me("ERR_BUFFER_OUT_OF_BOUNDS",function(g){return g?`${g} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),me("ERR_INVALID_ARG_TYPE",function(g,_){return`The "${g}" argument must be of type number. Received type ${typeof _}`},TypeError),me("ERR_OUT_OF_RANGE",function(g,_,m){let S=`The value of "${g}" is out of range.`,C=m;return Number.isInteger(m)&&Math.abs(m)>2**32?C=ge(String(m)):typeof m=="bigint"&&(C=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(C=ge(C)),C+="n"),S+=` It must be ${_}. Received ${C}`,S},RangeError);function ge(g){let _="",m=g.length;const S=g[0]==="-"?1:0;for(;m>=S+4;m-=3)_=`_${g.slice(m-3,m)}${_}`;return`${g.slice(0,m)}${_}`}function Ee(g,_,m){Oe(_,"offset"),(g[_]===void 0||g[_+m]===void 0)&&Re(_,g.length-(m+1))}function Pe(g,_,m,S,C,L){if(g>m||g<_){const F=typeof _=="bigint"?"n":"";let ce;throw L>3?_===0||_===BigInt(0)?ce=`>= 0${F} and < 2${F} ** ${(L+1)*8}${F}`:ce=`>= -(2${F} ** ${(L+1)*8-1}${F}) and < 2 ** ${(L+1)*8-1}${F}`:ce=`>= ${_}${F} and <= ${m}${F}`,new re.ERR_OUT_OF_RANGE("value",ce,g)}Ee(S,C,L)}function Oe(g,_){if(typeof g!="number")throw new re.ERR_INVALID_ARG_TYPE(_,"number",g)}function Re(g,_,m){throw Math.floor(g)!==g?(Oe(g,m),new re.ERR_OUT_OF_RANGE(m||"offset","an integer",g)):_<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${_}`,g)}const _r=/[^+/0-9A-Za-z-_]/g;function Ue(g){if(g=g.split("=")[0],g=g.trim().replace(_r,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function Ne(g,_){_=_||1/0;let m;const S=g.length;let C=null;const L=[];for(let F=0;F<S;++F){if(m=g.charCodeAt(F),m>55295&&m<57344){if(!C){if(m>56319){(_-=3)>-1&&L.push(239,191,189);continue}else if(F+1===S){(_-=3)>-1&&L.push(239,191,189);continue}C=m;continue}if(m<56320){(_-=3)>-1&&L.push(239,191,189),C=m;continue}m=(C-55296<<10|m-56320)+65536}else C&&(_-=3)>-1&&L.push(239,191,189);if(C=null,m<128){if((_-=1)<0)break;L.push(m)}else if(m<2048){if((_-=2)<0)break;L.push(m>>6|192,m&63|128)}else if(m<65536){if((_-=3)<0)break;L.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((_-=4)<0)break;L.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return L}function vr(g){const _=[];for(let m=0;m<g.length;++m)_.push(g.charCodeAt(m)&255);return _}function De(g,_){let m,S,C;const L=[];for(let F=0;F<g.length&&!((_-=2)<0);++F)m=g.charCodeAt(F),S=m>>8,C=m%256,L.push(C),L.push(S);return L}function we(g){return t.toByteArray(Ue(g))}function Be(g,_,m,S){let C;for(C=0;C<S&&!(C+m>=_.length||C>=g.length);++C)_[C+m]=g[C];return C}function Ie(g,_){return g instanceof _||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===_.name}function Ye(g){return g!==g}const pr=function(){const g="0123456789abcdef",_=new Array(256);for(let m=0;m<16;++m){const S=m*16;for(let C=0;C<16;++C)_[S+C]=g[m]+g[C]}return _}();function je(g){return typeof BigInt=="undefined"?hr:g}function hr(){throw new Error("BigInt not supported")}})(buffer);var buf={},baseBuf={},__extends$l=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(baseBuf,"__esModule",{value:!0});var BaseBuffer=function(){function e(t){this.position=0,this.length=t}return e.prototype.getUInt8=function(t){throw new Error("Not implemented")},e.prototype.getInt8=function(t){throw new Error("Not implemented")},e.prototype.getFloat64=function(t){throw new Error("Not implemented")},e.prototype.putUInt8=function(t,r){throw new Error("Not implemented")},e.prototype.putInt8=function(t,r){throw new Error("Not implemented")},e.prototype.putFloat64=function(t,r){throw new Error("Not implemented")},e.prototype.getInt16=function(t){return this.getInt8(t)<<8|this.getUInt8(t+1)},e.prototype.getUInt16=function(t){return this.getUInt8(t)<<8|this.getUInt8(t+1)},e.prototype.getInt32=function(t){return this.getInt8(t)<<24|this.getUInt8(t+1)<<16|this.getUInt8(t+2)<<8|this.getUInt8(t+3)},e.prototype.getUInt32=function(t){return this.getUInt8(t)<<24|this.getUInt8(t+1)<<16|this.getUInt8(t+2)<<8|this.getUInt8(t+3)},e.prototype.getInt64=function(t){return this.getInt8(t)<<56|this.getUInt8(t+1)<<48|this.getUInt8(t+2)<<40|this.getUInt8(t+3)<<32|this.getUInt8(t+4)<<24|this.getUInt8(t+5)<<16|this.getUInt8(t+6)<<8|this.getUInt8(t+7)},e.prototype.getSlice=function(t,r){return new SliceBuffer(t,r,this)},e.prototype.putInt16=function(t,r){this.putInt8(t,r>>8),this.putUInt8(t+1,r&255)},e.prototype.putUInt16=function(t,r){this.putUInt8(t,r>>8&255),this.putUInt8(t+1,r&255)},e.prototype.putInt32=function(t,r){this.putInt8(t,r>>24),this.putUInt8(t+1,r>>16&255),this.putUInt8(t+2,r>>8&255),this.putUInt8(t+3,r&255)},e.prototype.putUInt32=function(t,r){this.putUInt8(t,r>>24&255),this.putUInt8(t+1,r>>16&255),this.putUInt8(t+2,r>>8&255),this.putUInt8(t+3,r&255)},e.prototype.putInt64=function(t,r){this.putInt8(t,r>>48),this.putUInt8(t+1,r>>42&255),this.putUInt8(t+2,r>>36&255),this.putUInt8(t+3,r>>30&255),this.putUInt8(t+4,r>>24&255),this.putUInt8(t+5,r>>16&255),this.putUInt8(t+6,r>>8&255),this.putUInt8(t+7,r&255)},e.prototype.putBytes=function(t,r){for(var n=0,o=r.remaining();n<o;n++)this.putUInt8(t+n,r.readUInt8())},e.prototype.readUInt8=function(){return this.getUInt8(this._updatePos(1))},e.prototype.readInt8=function(){return this.getInt8(this._updatePos(1))},e.prototype.readUInt16=function(){return this.getUInt16(this._updatePos(2))},e.prototype.readUInt32=function(){return this.getUInt32(this._updatePos(4))},e.prototype.readInt16=function(){return this.getInt16(this._updatePos(2))},e.prototype.readInt32=function(){return this.getInt32(this._updatePos(4))},e.prototype.readInt64=function(){return this.getInt32(this._updatePos(8))},e.prototype.readFloat64=function(){return this.getFloat64(this._updatePos(8))},e.prototype.writeUInt8=function(t){this.putUInt8(this._updatePos(1),t)},e.prototype.writeInt8=function(t){this.putInt8(this._updatePos(1),t)},e.prototype.writeInt16=function(t){this.putInt16(this._updatePos(2),t)},e.prototype.writeInt32=function(t){this.putInt32(this._updatePos(4),t)},e.prototype.writeUInt32=function(t){this.putUInt32(this._updatePos(4),t)},e.prototype.writeInt64=function(t){this.putInt64(this._updatePos(8),t)},e.prototype.writeFloat64=function(t){this.putFloat64(this._updatePos(8),t)},e.prototype.writeBytes=function(t){this.putBytes(this._updatePos(t.remaining()),t)},e.prototype.readSlice=function(t){return this.getSlice(this._updatePos(t),t)},e.prototype._updatePos=function(t){var r=this.position;return this.position+=t,r},e.prototype.remaining=function(){return this.length-this.position},e.prototype.hasRemaining=function(){return this.remaining()>0},e.prototype.reset=function(){this.position=0},e.prototype.toString=function(){return this.constructor.name+"( position="+this.position+` )
  `+this.toHex()},e.prototype.toHex=function(){for(var t="",r=0;r<this.length;r++){var n=this.getUInt8(r).toString(16);n.length===1&&(n="0"+n),t+=n,r!==this.length-1&&(t+=" ")}return t},e}();baseBuf.default=BaseBuffer;var SliceBuffer=function(e){__extends$l(t,e);function t(r,n,o){var a=e.call(this,n)||this;return a._start=r,a._inner=o,a}return t.prototype.putUInt8=function(r,n){this._inner.putUInt8(this._start+r,n)},t.prototype.getUInt8=function(r){return this._inner.getUInt8(this._start+r)},t.prototype.putInt8=function(r,n){this._inner.putInt8(this._start+r,n)},t.prototype.putFloat64=function(r,n){this._inner.putFloat64(this._start+r,n)},t.prototype.getInt8=function(r){return this._inner.getInt8(this._start+r)},t.prototype.getFloat64=function(r){return this._inner.getFloat64(this._start+r)},t}(BaseBuffer),__importDefault$w=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(buf,"__esModule",{value:!0});buf.BaseBuffer=void 0;var base_buf_1$1=__importDefault$w(baseBuf);buf.BaseBuffer=base_buf_1$1.default;buf.default=base_buf_1$1.default;var __extends$k=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__importDefault$v=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(channelBuf,"__esModule",{value:!0});channelBuf.alloc=void 0;var buffer_1$1=__importDefault$v(buffer),buf_1$1=__importDefault$v(buf),ChannelBuffer=function(e){__extends$k(t,e);function t(r){var n=this,o=newChannelJSBuffer(r);return n=e.call(this,o.length)||this,n._buffer=o,n}return t.prototype.getUInt8=function(r){return this._buffer.readUInt8(r)},t.prototype.getInt8=function(r){return this._buffer.readInt8(r)},t.prototype.getFloat64=function(r){return this._buffer.readDoubleBE(r)},t.prototype.putUInt8=function(r,n){this._buffer.writeUInt8(n,r)},t.prototype.putInt8=function(r,n){this._buffer.writeInt8(n,r)},t.prototype.putFloat64=function(r,n){this._buffer.writeDoubleBE(n,r)},t.prototype.putBytes=function(r,n){if(n instanceof t){var o=Math.min(n.length-n.position,this.length-r);n._buffer.copy(this._buffer,r,n.position,n.position+o),n.position+=o}else e.prototype.putBytes.call(this,r,n)},t.prototype.getSlice=function(r,n){return new t(this._buffer.slice(r,r+n))},t}(buf_1$1.default);channelBuf.default=ChannelBuffer;function alloc(e){return new ChannelBuffer(e)}channelBuf.alloc=alloc;function newChannelJSBuffer(e){return e instanceof buffer_1$1.default.Buffer?e:typeof e=="number"&&typeof buffer_1$1.default.Buffer.alloc=="function"?buffer_1$1.default.Buffer.alloc(e):new buffer_1$1.default.Buffer(e)}var __importDefault$u=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(browserChannel,"__esModule",{value:!0});var channel_buf_1$3=__importDefault$u(channelBuf),neo4j_driver_core_1$y=lib$1,_a$a=neo4j_driver_core_1$y.internal.util,ENCRYPTION_OFF$1=_a$a.ENCRYPTION_OFF,ENCRYPTION_ON$1=_a$a.ENCRYPTION_ON,WS_OPEN=1,WS_CLOSED=3,WebSocketChannel=function(){function e(t,r,n){r===void 0&&(r=detectWebPageProtocol),n===void 0&&(n=function(c){return new WebSocket(c)});var o=this;this._open=!0,this._pending=[],this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._config=t,this._receiveTimeout=null,this._receiveTimeoutStarted=!1,this._receiveTimeoutId=null;var a=determineWebSocketScheme(t,r),u=a.scheme,s=a.error;if(s){this._error=s;return}this._ws=createWebSocket(u,t.address,n),this._ws.binaryType="arraybuffer";var l=this;this._ws.onclose=function(c){c&&!c.wasClean&&l._handleConnectionError(),l._open=!1},this._ws.onopen=function(){l._clearConnectionTimeout();var c=l._pending;l._pending=null;for(var f=0;f<c.length;f++)l.write(c[f])},this._ws.onmessage=function(c){if(o._resetTimeout(),l.onmessage){var f=new channel_buf_1$3.default(c.data);l.onmessage(f)}},this._ws.onerror=this._handleConnectionError,this._connectionTimeoutFired=!1,this._connectionTimeoutId=this._setupConnectionTimeout()}return e.prototype._handleConnectionError=function(){if(this._connectionTimeoutFired){this._error=(0,neo4j_driver_core_1$y.newError)("Failed to establish connection in ".concat(this._config.connectionTimeout,"ms"),this._config.connectionErrorCode),this.onerror&&this.onerror(this._error);return}this._open&&!this._timedout&&(this._error=(0,neo4j_driver_core_1$y.newError)("WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: "+this._ws.readyState,this._config.connectionErrorCode),this.onerror&&this.onerror(this._error))},e.prototype.write=function(t){if(this._pending!==null)this._pending.push(t);else if(t instanceof channel_buf_1$3.default)try{this._ws.send(t._buffer)}catch(r){if(this._ws.readyState!==WS_OPEN)this._handleConnectionError();else throw r}else throw(0,neo4j_driver_core_1$y.newError)("Don't know how to send buffer: "+t)},e.prototype.close=function(){var t=this;return new Promise(function(r,n){t._ws&&t._ws.readyState!==WS_CLOSED?(t._open=!1,t._clearConnectionTimeout(),t._ws.onclose=function(){return r()},t._ws.close()):r()})},e.prototype.setupReceiveTimeout=function(t){this._receiveTimeout=t},e.prototype.stopReceiveTimeout=function(){this._receiveTimeout!==null&&this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!1,this._receiveTimeoutId!=null&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=null)},e.prototype.startReceiveTimeout=function(){this._receiveTimeout!==null&&!this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!0,this._resetTimeout())},e.prototype._resetTimeout=function(){var t=this;!this._receiveTimeoutStarted||(this._receiveTimeoutId!==null&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=setTimeout(function(){t._receiveTimeoutId=null,t._timedout=!0,t.stopReceiveTimeout(),t._error=(0,neo4j_driver_core_1$y.newError)("Connection lost. Server didn't respond in ".concat(t._receiveTimeout,"ms"),t._config.connectionErrorCode),t.close(),t.onerror&&t.onerror(t._error)},this._receiveTimeout))},e.prototype._setupConnectionTimeout=function(){var t=this,r=this._config.connectionTimeout;if(r){var n=this._ws;return setTimeout(function(){n.readyState!==WS_OPEN&&(t._connectionTimeoutFired=!0,n.close())},r)}return null},e.prototype._clearConnectionTimeout=function(){var t=this._connectionTimeoutId;(t||t===0)&&(this._connectionTimeoutFired=!1,this._connectionTimeoutId=null,clearTimeout(t))},e}();browserChannel.default=WebSocketChannel;function createWebSocket(e,t,r){var n=e+"://"+t.asHostPort();try{return r(n)}catch(a){if(isIPv6AddressIssueOnWindows(a,t)){var o=asWindowsFriendlyIPv6Address(e,t);return r(o)}else throw a}}function isIPv6AddressIssueOnWindows(e,t){return e.name==="SyntaxError"&&isIPv6Address(t.asHostPort())}function isIPv6Address(e){return e.charAt(0)==="["&&e.indexOf("]")!==-1}function asWindowsFriendlyIPv6Address(e,t){var r=t.host().replace(/:/g,"-"),n=r.replace("%","s"),o=n+".ipv6-literal.net";return"".concat(e,"://").concat(o,":").concat(t.port())}function determineWebSocketScheme(e,t){var r=isEncryptionExplicitlyTurnedOn(e),n=isEncryptionExplicitlyTurnedOff(e),o=e.trust,a=isProtocolSecure(t);if(verifyEncryptionSettings(r,n,a),n)return{scheme:"ws",error:null};if(a)return{scheme:"wss",error:null};if(r){if(!o||o==="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES")return{scheme:"wss",error:null};var u=(0,neo4j_driver_core_1$y.newError)("The browser version of this driver only supports one trust strategy, 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'. "+o+' is not supported. Please either use TRUST_SYSTEM_CA_SIGNED_CERTIFICATES or disable encryption by setting `encrypted:"'+ENCRYPTION_OFF$1+'"` in the driver configuration.');return{scheme:null,error:u}}return{scheme:"ws",error:null}}function isEncryptionExplicitlyTurnedOn(e){return e.encrypted===!0||e.encrypted===ENCRYPTION_ON$1}function isEncryptionExplicitlyTurnedOff(e){return e.encrypted===!1||e.encrypted===ENCRYPTION_OFF$1}function isProtocolSecure(e){var t=typeof e=="function"?e():"";return t&&t.toLowerCase().indexOf("https")>=0}function verifyEncryptionSettings(e,t,r){r===null||(e&&!r?console.warn("Neo4j driver is configured to use secure WebSocket on a HTTP web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to not use encryption."):t&&r&&console.warn("Neo4j driver is configured to use insecure WebSocket on a HTTPS web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to use encryption."))}function detectWebPageProtocol(){return typeof window!="undefined"&&window.location?window.location.protocol:null}var browserHostNameResolver={},__extends$j=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(browserHostNameResolver,"__esModule",{value:!0});var neo4j_driver_core_1$x=lib$1,BaseHostNameResolver=neo4j_driver_core_1$x.internal.resolver.BaseHostNameResolver,BrowserHostNameResolver=function(e){__extends$j(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.resolve=function(r){return this._resolveToItself(r)},t}(BaseHostNameResolver);browserHostNameResolver.default=BrowserHostNameResolver;var __importDefault$t=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(browser,"__esModule",{value:!0});browser.HostNameResolver=browser.Channel=void 0;var browser_channel_1=__importDefault$t(browserChannel),browser_host_name_resolver_1=__importDefault$t(browserHostNameResolver);browser.Channel=browser_channel_1.default;browser.HostNameResolver=browser_host_name_resolver_1.default;var chunking={},combinedBuf={},__extends$i=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(combinedBuf,"__esModule",{value:!0});var buf_1=buf,channel_buf_1$2=channelBuf,CombinedBuffer=function(e){__extends$i(t,e);function t(r){for(var n=this,o=0,a=0;a<r.length;a++)o+=r[a].length;return n=e.call(this,o)||this,n._buffers=r,n}return t.prototype.getUInt8=function(r){for(var n=0;n<this._buffers.length;n++){var o=this._buffers[n];if(r>=o.length)r-=o.length;else return o.getUInt8(r)}},t.prototype.getInt8=function(r){for(var n=0;n<this._buffers.length;n++){var o=this._buffers[n];if(r>=o.length)r-=o.length;else return o.getInt8(r)}},t.prototype.getFloat64=function(r){for(var n=(0,channel_buf_1$2.alloc)(8),o=0;o<8;o++)n.putUInt8(o,this.getUInt8(r+o));return n.getFloat64(0)},t}(buf_1.BaseBuffer);combinedBuf.default=CombinedBuffer;var __extends$h=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__importDefault$s=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(chunking,"__esModule",{value:!0});chunking.Dechunker=chunking.Chunker=void 0;var base_buf_1=__importDefault$s(baseBuf),channel_buf_1$1=channelBuf,combined_buf_1=__importDefault$s(combinedBuf),_CHUNK_HEADER_SIZE=2,_MESSAGE_BOUNDARY=0,_DEFAULT_BUFFER_SIZE=1400,Chunker=function(e){__extends$h(t,e);function t(r,n){var o=e.call(this,0)||this;return o._bufferSize=n||_DEFAULT_BUFFER_SIZE,o._ch=r,o._buffer=(0,channel_buf_1$1.alloc)(o._bufferSize),o._currentChunkStart=0,o._chunkOpen=!1,o}return t.prototype.putUInt8=function(r,n){this._ensure(1),this._buffer.writeUInt8(n)},t.prototype.putInt8=function(r,n){this._ensure(1),this._buffer.writeInt8(n)},t.prototype.putFloat64=function(r,n){this._ensure(8),this._buffer.writeFloat64(n)},t.prototype.putBytes=function(r,n){for(;n.remaining()>0;)this._ensure(1),this._buffer.remaining()>n.remaining()?this._buffer.writeBytes(n):this._buffer.writeBytes(n.readSlice(this._buffer.remaining()));return this},t.prototype.flush=function(){if(this._buffer.position>0){this._closeChunkIfOpen();var r=this._buffer;this._buffer=null,this._ch.write(r.getSlice(0,r.position)),this._buffer=(0,channel_buf_1$1.alloc)(this._bufferSize),this._chunkOpen=!1}return this},t.prototype.messageBoundary=function(){this._closeChunkIfOpen(),this._buffer.remaining()<_CHUNK_HEADER_SIZE&&this.flush(),this._buffer.writeInt16(_MESSAGE_BOUNDARY)},t.prototype._ensure=function(r){var n=this._chunkOpen?r:r+_CHUNK_HEADER_SIZE;this._buffer.remaining()<n&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+_CHUNK_HEADER_SIZE,this._chunkOpen=!0)},t.prototype._closeChunkIfOpen=function(){if(this._chunkOpen){var r=this._buffer.position-(this._currentChunkStart+_CHUNK_HEADER_SIZE);this._buffer.putUInt16(this._currentChunkStart,r),this._chunkOpen=!1}},t}(base_buf_1.default);chunking.Chunker=Chunker;var Dechunker=function(){function e(){this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return e.prototype.AWAITING_CHUNK=function(t){return t.remaining()>=2?this._onHeader(t.readUInt16()):(this._partialChunkHeader=t.readUInt8()<<8,this.IN_HEADER)},e.prototype.IN_HEADER=function(t){return this._onHeader((this._partialChunkHeader|t.readUInt8())&65535)},e.prototype.IN_CHUNK=function(t){return this._chunkSize<=t.remaining()?(this._currentMessage.push(t.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=t.remaining(),this._currentMessage.push(t.readSlice(t.remaining())),this.IN_CHUNK)},e.prototype.CLOSED=function(t){},e.prototype._onHeader=function(t){if(t===0){var r=void 0;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:r=this._currentMessage[0];break;default:r=new combined_buf_1.default(this._currentMessage);break}return this._currentMessage=[],this.onmessage(r),this.AWAITING_CHUNK}else return this._chunkSize=t,this.IN_CHUNK},e.prototype.write=function(t){for(;t.hasRemaining();)this._state=this._state(t)},e}();chunking.Dechunker=Dechunker;var channelConfig={};Object.defineProperty(channelConfig,"__esModule",{value:!0});var neo4j_driver_core_1$w=lib$1,_a$9=neo4j_driver_core_1$w.internal.util,ENCRYPTION_OFF=_a$9.ENCRYPTION_OFF,ENCRYPTION_ON=_a$9.ENCRYPTION_ON,SERVICE_UNAVAILABLE$4=neo4j_driver_core_1$w.error.SERVICE_UNAVAILABLE,ALLOWED_VALUES_ENCRYPTED=[null,void 0,!0,!1,ENCRYPTION_ON,ENCRYPTION_OFF],ALLOWED_VALUES_TRUST=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"],ChannelConfig=function(){function e(t,r,n){this.address=t,this.encrypted=extractEncrypted(r),this.trust=extractTrust(r),this.trustedCertificates=extractTrustedCertificates(r),this.knownHostsPath=extractKnownHostsPath(r),this.connectionErrorCode=n||SERVICE_UNAVAILABLE$4,this.connectionTimeout=r.connectionTimeout}return e}();channelConfig.default=ChannelConfig;function extractEncrypted(e){var t=e.encrypted;if(ALLOWED_VALUES_ENCRYPTED.indexOf(t)===-1)throw(0,neo4j_driver_core_1$w.newError)("Illegal value of the encrypted setting ".concat(t,". Expected one of ").concat(ALLOWED_VALUES_ENCRYPTED));return t}function extractTrust(e){var t=e.trust;if(ALLOWED_VALUES_TRUST.indexOf(t)===-1)throw(0,neo4j_driver_core_1$w.newError)("Illegal value of the trust setting ".concat(t,". Expected one of ").concat(ALLOWED_VALUES_TRUST));return t}function extractTrustedCertificates(e){return e.trustedCertificates||[]}function extractKnownHostsPath(e){return e.knownHosts||null}var utf8={},string_decoder={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=buffer,n=r.Buffer;function o(u,s){for(var l in u)s[l]=u[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a);function a(u,s,l){return n(u,s,l)}a.prototype=Object.create(n.prototype),o(n,a),a.from=function(u,s,l){if(typeof u=="number")throw new TypeError("Argument must not be a number");return n(u,s,l)},a.alloc=function(u,s,l){if(typeof u!="number")throw new TypeError("Argument must be a number");var c=n(u);return s!==void 0?typeof l=="string"?c.fill(s,l):c.fill(s):c.fill(0),c},a.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n(u)},a.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(u)}})(safeBuffer,safeBuffer.exports);var Buffer=safeBuffer.exports.Buffer,isEncoding=Buffer.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function normalizeEncoding(e){var t=_normalizeEncoding(e);if(typeof t!="string"&&(Buffer.isEncoding===isEncoding||!isEncoding(e)))throw new Error("Unknown encoding: "+e);return t||e}string_decoder.StringDecoder=StringDecoder;function StringDecoder(e){this.encoding=normalizeEncoding(e);var t;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,t=4;break;case"utf8":this.fillLast=utf8FillLast,t=4;break;case"base64":this.text=base64Text,this.end=base64End,t=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(t)}StringDecoder.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function utf8CheckByte(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function utf8CheckIncomplete(e,t,r){var n=t.length-1;if(n<r)return 0;var o=utf8CheckByte(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||o===-2?0:(o=utf8CheckByte(t[n]),o>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||o===-2?0:(o=utf8CheckByte(t[n]),o>=0?(o>0&&(o===2?o=0:e.lastNeed=o-3),o):0))}function utf8CheckExtraBytes(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed,r=utf8CheckExtraBytes(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function utf8Text(e,t){var r=utf8CheckIncomplete(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function utf8End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function utf16Text(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function base64Text(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function base64End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}var __importDefault$r=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(utf8,"__esModule",{value:!0});var channel_buf_1=__importDefault$r(channelBuf),neo4j_driver_core_1$v=lib$1,buffer_1=__importDefault$r(buffer),string_decoder_1=string_decoder,decoder=new string_decoder_1.StringDecoder("utf8");function encode(e){return new channel_buf_1.default(newBuffer(e))}function decode(e,t){if(Object.prototype.hasOwnProperty.call(e,"_buffer"))return decodeChannelBuffer(e,t);if(Object.prototype.hasOwnProperty.call(e,"_buffers"))return decodeCombinedBuffer(e,t);throw(0,neo4j_driver_core_1$v.newError)("Don't know how to decode strings from '".concat(e,"'"))}function decodeChannelBuffer(e,t){var r=e.position,n=r+t;return e.position=Math.min(n,e.length),e._buffer.toString("utf8",r,n)}function decodeCombinedBuffer(e,t){return streamDecodeCombinedBuffer(e,t,function(r){return decoder.write(r._buffer)},function(){return decoder.end()})}function streamDecodeCombinedBuffer(e,t,r,n){var o=t,a=e.position;e._updatePos(Math.min(t,e.length-a));var u=e._buffers.reduce(function(s,l){if(o<=0)return s;if(a>=l.length)return a-=l.length,"";l._updatePos(a-l.position);var c=Math.min(l.length-a,o),f=l.readSlice(c);return l._updatePos(c),o=Math.max(o-f.length,0),a=0,s+r(f)},"");return u+n()}function newBuffer(e){return typeof buffer_1.default.Buffer.from=="function"?buffer_1.default.Buffer.from(e,"utf8"):new buffer_1.default.Buffer(e,"utf8")}utf8.default={encode,decode};(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(s,l,c,f){f===void 0&&(f=c);var v=Object.getOwnPropertyDescriptor(l,c);(!v||("get"in v?!l.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(s,f,v)}:function(s,l,c,f){f===void 0&&(f=c),s[f]=l[c]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(s,l){for(var c in s)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&t(l,s,c)},n=commonjsGlobal&&commonjsGlobal.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.utf8=e.alloc=e.ChannelConfig=void 0,r(browser,e),r(chunking,e);var o=channelConfig;Object.defineProperty(e,"ChannelConfig",{enumerable:!0,get:function(){return n(o).default}});var a=channelBuf;Object.defineProperty(e,"alloc",{enumerable:!0,get:function(){return a.alloc}});var u=utf8;Object.defineProperty(e,"utf8",{enumerable:!0,get:function(){return n(u).default}})})(channel);Object.defineProperty(handshake$1,"__esModule",{value:!0});var channel_1$3=channel,neo4j_driver_core_1$u=lib$1,BOLT_MAGIC_PREAMBLE=1616949271;function version(e,t){return{major:e,minor:t}}function createHandshakeMessage(e){if(e.length>4)throw(0,neo4j_driver_core_1$u.newError)("It should not have more than 4 versions of the protocol");var t=(0,channel_1$3.alloc)(5*4);return t.writeInt32(BOLT_MAGIC_PREAMBLE),e.forEach(function(r){if(r instanceof Array){var n=r[0],o=n.major,a=n.minor,u=r[1].minor,s=a-u;t.writeInt32(s<<16|a<<8|o)}else{var o=r.major,a=r.minor;t.writeInt32(a<<8|o)}}),t.reset(),t}function parseNegotiatedResponse(e){var t=[e.readUInt8(),e.readUInt8(),e.readUInt8(),e.readUInt8()];if(t[0]===72&&t[1]===84&&t[2]===84&&t[3]===80)throw(0,neo4j_driver_core_1$u.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");return Number(t[3]+"."+t[2])}function newHandshakeBuffer(){return createHandshakeMessage([version(5,0),[version(4,4),version(4,2)],version(4,1),version(3,0)])}function handshake(e){var t=this;return new Promise(function(r,n){var o=function(a){n(a)};e.onerror=o.bind(t),e._error&&o(e._error),e.onmessage=function(a){try{var u=parseNegotiatedResponse(a);r({protocolVersion:u,consumeRemainingBuffer:function(s){a.hasRemaining()&&s(a.readSlice(a.remaining()))}})}catch(s){n(s)}},e.write(newHandshakeBuffer())})}handshake$1.default=handshake;var create$1={},boltProtocolV1={},boltProtocolUtil={};Object.defineProperty(boltProtocolUtil,"__esModule",{value:!0});boltProtocolUtil.assertImpersonatedUserIsEmpty=boltProtocolUtil.assertTxConfigIsEmpty=boltProtocolUtil.assertDatabaseIsEmpty=void 0;var neo4j_driver_core_1$t=lib$1;function assertTxConfigIsEmpty(e,t,r){if(t===void 0&&(t=function(){}),e&&!e.isEmpty()){var n=(0,neo4j_driver_core_1$t.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw t(n.message),r.onError(n),n}}boltProtocolUtil.assertTxConfigIsEmpty=assertTxConfigIsEmpty;function assertDatabaseIsEmpty(e,t,r){if(t===void 0&&(t=function(){}),e){var n=(0,neo4j_driver_core_1$t.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality");throw t(n.message),r.onError(n),n}}boltProtocolUtil.assertDatabaseIsEmpty=assertDatabaseIsEmpty;function assertImpersonatedUserIsEmpty(e,t,r){if(t===void 0&&(t=function(){}),e){var n=(0,neo4j_driver_core_1$t.newError)("Driver is connected to the database that does not support user impersonation. Please upgrade to neo4j 4.4.0 or later in order to use this functionality. "+"Trying to impersonate ".concat(e,"."));throw t(n.message),r.onError(n),n}}boltProtocolUtil.assertImpersonatedUserIsEmpty=assertImpersonatedUserIsEmpty;var packstream={},packstreamV1={},lang={},functional={};Object.defineProperty(functional,"__esModule",{value:!0});functional.identity=void 0;function identity(e){return e}functional.identity=identity;var __createBinding$4=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),__setModuleDefault$4=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$4=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding$4(t,e,r);return __setModuleDefault$4(t,e),t};Object.defineProperty(lang,"__esModule",{value:!0});lang.functional=void 0;lang.functional=__importStar$4(functional);var structure$1={};Object.defineProperty(structure$1,"__esModule",{value:!0});structure$1.verifyStructSize=structure$1.Structure=void 0;var neo4j_driver_core_1$s=lib$1,PROTOCOL_ERROR$5=neo4j_driver_core_1$s.error.PROTOCOL_ERROR,Structure=function(){function e(t,r){this.signature=t,this.fields=r}return Object.defineProperty(e.prototype,"size",{get:function(){return this.fields.length},enumerable:!1,configurable:!0}),e.prototype.toString=function(){for(var t="",r=0;r<this.fields.length;r++)r>0&&(t+=", "),t+=this.fields[r];return"Structure("+this.signature+", ["+t+"])"},e}();structure$1.Structure=Structure;function verifyStructSize(e,t,r){if(t!==r)throw(0,neo4j_driver_core_1$s.newError)("Wrong struct size for ".concat(e,", expected ").concat(t," but was ").concat(r),PROTOCOL_ERROR$5)}structure$1.verifyStructSize=verifyStructSize;structure$1.default=Structure;Object.defineProperty(packstreamV1,"__esModule",{value:!0});packstreamV1.Unpacker=packstreamV1.Packer=void 0;var channel_1$2=channel,lang_1=lang,structure_1=structure$1,neo4j_driver_core_1$r=lib$1,PROTOCOL_ERROR$4=neo4j_driver_core_1$r.error.PROTOCOL_ERROR,TINY_STRING=128,TINY_LIST=144,TINY_MAP=160,TINY_STRUCT=176,NULL=192,FLOAT_64=193,FALSE=194,TRUE=195,INT_8=200,INT_16=201,INT_32=202,INT_64=203,STRING_8=208,STRING_16=209,STRING_32=210,LIST_8=212,LIST_16=213,LIST_32=214,BYTES_8=204,BYTES_16=205,BYTES_32=206,MAP_8=216,MAP_16=217,MAP_32=218,STRUCT_8=220,STRUCT_16=221,Packer$1=function(){function e(t){this._ch=t,this._byteArraysSupported=!0}return e.prototype.packable=function(t,r){var n=this;r===void 0&&(r=lang_1.functional.identity);try{t=r(t)}catch(u){return function(){throw u}}if(t===null)return function(){return n._ch.writeUInt8(NULL)};if(t===!0)return function(){return n._ch.writeUInt8(TRUE)};if(t===!1)return function(){return n._ch.writeUInt8(FALSE)};if(typeof t=="number")return function(){return n.packFloat(t)};if(typeof t=="string")return function(){return n.packString(t)};if(typeof t=="bigint")return function(){return n.packInteger((0,neo4j_driver_core_1$r.int)(t))};if((0,neo4j_driver_core_1$r.isInt)(t))return function(){return n.packInteger(t)};if(t instanceof Int8Array)return function(){return n.packBytes(t)};if(t instanceof Array)return function(){n.packListHeader(t.length);for(var u=0;u<t.length;u++)n.packable(t[u]===void 0?null:t[u],r)()};if(isIterable(t))return this.packableIterable(t,r);if(t instanceof structure_1.Structure){for(var o=[],a=0;a<t.fields.length;a++)o[a]=this.packable(t.fields[a],r);return function(){return n.packStruct(t.signature,o)}}else return typeof t=="object"?function(){for(var u=Object.keys(t),s=0,l=0;l<u.length;l++)t[u[l]]!==void 0&&s++;n.packMapHeader(s);for(var l=0;l<u.length;l++){var c=u[l];t[c]!==void 0&&(n.packString(c),n.packable(t[c],r)())}}:this._nonPackableValue("Unable to pack the given value: ".concat(t))},e.prototype.packableIterable=function(t,r){try{var n=Array.from(t);return this.packable(n,r)}catch(o){throw(0,neo4j_driver_core_1$r.newError)("Cannot pack given iterable, ".concat(o.message,": ").concat(t))}},e.prototype.packStruct=function(t,r){r=r||[],this.packStructHeader(r.length,t);for(var n=0;n<r.length;n++)r[n]()},e.prototype.packInteger=function(t){var r=t.high,n=t.low;t.greaterThanOrEqual(-16)&&t.lessThan(128)?this._ch.writeInt8(n):t.greaterThanOrEqual(-128)&&t.lessThan(-16)?(this._ch.writeUInt8(INT_8),this._ch.writeInt8(n)):t.greaterThanOrEqual(-32768)&&t.lessThan(32768)?(this._ch.writeUInt8(INT_16),this._ch.writeInt16(n)):t.greaterThanOrEqual(-2147483648)&&t.lessThan(2147483648)?(this._ch.writeUInt8(INT_32),this._ch.writeInt32(n)):(this._ch.writeUInt8(INT_64),this._ch.writeInt32(r),this._ch.writeInt32(n))},e.prototype.packFloat=function(t){this._ch.writeUInt8(FLOAT_64),this._ch.writeFloat64(t)},e.prototype.packString=function(t){var r=channel_1$2.utf8.encode(t),n=r.length;if(n<16)this._ch.writeUInt8(TINY_STRING|n),this._ch.writeBytes(r);else if(n<256)this._ch.writeUInt8(STRING_8),this._ch.writeUInt8(n),this._ch.writeBytes(r);else if(n<65536)this._ch.writeUInt8(STRING_16),this._ch.writeUInt8(n/256>>0),this._ch.writeUInt8(n%256),this._ch.writeBytes(r);else if(n<4294967296)this._ch.writeUInt8(STRING_32),this._ch.writeUInt8((n/16777216>>0)%256),this._ch.writeUInt8((n/65536>>0)%256),this._ch.writeUInt8((n/256>>0)%256),this._ch.writeUInt8(n%256),this._ch.writeBytes(r);else throw(0,neo4j_driver_core_1$r.newError)("UTF-8 strings of size "+n+" are not supported")},e.prototype.packListHeader=function(t){if(t<16)this._ch.writeUInt8(TINY_LIST|t);else if(t<256)this._ch.writeUInt8(LIST_8),this._ch.writeUInt8(t);else if(t<65536)this._ch.writeUInt8(LIST_16),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256);else if(t<4294967296)this._ch.writeUInt8(LIST_32),this._ch.writeUInt8((t/16777216>>0)%256),this._ch.writeUInt8((t/65536>>0)%256),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256);else throw(0,neo4j_driver_core_1$r.newError)("Lists of size "+t+" are not supported")},e.prototype.packBytes=function(t){if(this._byteArraysSupported){this.packBytesHeader(t.length);for(var r=0;r<t.length;r++)this._ch.writeInt8(t[r])}else throw(0,neo4j_driver_core_1$r.newError)("Byte arrays are not supported by the database this driver is connected to")},e.prototype.packBytesHeader=function(t){if(t<256)this._ch.writeUInt8(BYTES_8),this._ch.writeUInt8(t);else if(t<65536)this._ch.writeUInt8(BYTES_16),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256);else if(t<4294967296)this._ch.writeUInt8(BYTES_32),this._ch.writeUInt8((t/16777216>>0)%256),this._ch.writeUInt8((t/65536>>0)%256),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256);else throw(0,neo4j_driver_core_1$r.newError)("Byte arrays of size "+t+" are not supported")},e.prototype.packMapHeader=function(t){if(t<16)this._ch.writeUInt8(TINY_MAP|t);else if(t<256)this._ch.writeUInt8(MAP_8),this._ch.writeUInt8(t);else if(t<65536)this._ch.writeUInt8(MAP_16),this._ch.writeUInt8(t/256>>0),this._ch.writeUInt8(t%256);else if(t<4294967296)this._ch.writeUInt8(MAP_32),this._ch.writeUInt8((t/16777216>>0)%256),this._ch.writeUInt8((t/65536>>0)%256),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256);else throw(0,neo4j_driver_core_1$r.newError)("Maps of size "+t+" are not supported")},e.prototype.packStructHeader=function(t,r){if(t<16)this._ch.writeUInt8(TINY_STRUCT|t),this._ch.writeUInt8(r);else if(t<256)this._ch.writeUInt8(STRUCT_8),this._ch.writeUInt8(t),this._ch.writeUInt8(r);else if(t<65536)this._ch.writeUInt8(STRUCT_16),this._ch.writeUInt8(t/256>>0),this._ch.writeUInt8(t%256);else throw(0,neo4j_driver_core_1$r.newError)("Structures of size "+t+" are not supported")},e.prototype.disableByteArrays=function(){this._byteArraysSupported=!1},e.prototype._nonPackableValue=function(t){return function(){throw(0,neo4j_driver_core_1$r.newError)(t,PROTOCOL_ERROR$4)}},e}();packstreamV1.Packer=Packer$1;var Unpacker$1=function(){function e(t,r){t===void 0&&(t=!1),r===void 0&&(r=!1),this._disableLosslessIntegers=t,this._useBigInt=r}return e.prototype.unpack=function(t,r){r===void 0&&(r=lang_1.functional.identity);var n=t.readUInt8(),o=n&240,a=n&15;if(n===NULL)return null;var u=this._unpackBoolean(n);if(u!==null)return u;var s=this._unpackNumberOrInteger(n,t);if(s!==null){if((0,neo4j_driver_core_1$r.isInt)(s)){if(this._useBigInt)return s.toBigInt();if(this._disableLosslessIntegers)return s.toNumberOrInfinity()}return s}var l=this._unpackString(n,o,a,t);if(l!==null)return l;var c=this._unpackList(n,o,a,t,r);if(c!==null)return c;var f=this._unpackByteArray(n,t);if(f!==null)return f;var v=this._unpackMap(n,o,a,t,r);if(v!==null)return v;var b=this._unpackStruct(n,o,a,t,r);if(b!==null)return b;throw(0,neo4j_driver_core_1$r.newError)("Unknown packed value with marker "+n.toString(16))},e.prototype.unpackInteger=function(t){var r=t.readUInt8(),n=this._unpackInteger(r,t);if(n==null)throw(0,neo4j_driver_core_1$r.newError)("Unable to unpack integer value with marker "+r.toString(16));return n},e.prototype._unpackBoolean=function(t){return t===TRUE?!0:t===FALSE?!1:null},e.prototype._unpackNumberOrInteger=function(t,r){return t===FLOAT_64?r.readFloat64():this._unpackInteger(t,r)},e.prototype._unpackInteger=function(t,r){if(t>=0&&t<128)return(0,neo4j_driver_core_1$r.int)(t);if(t>=240&&t<256)return(0,neo4j_driver_core_1$r.int)(t-256);if(t===INT_8)return(0,neo4j_driver_core_1$r.int)(r.readInt8());if(t===INT_16)return(0,neo4j_driver_core_1$r.int)(r.readInt16());if(t===INT_32){var n=r.readInt32();return(0,neo4j_driver_core_1$r.int)(n)}else if(t===INT_64){var o=r.readInt32(),a=r.readInt32();return new neo4j_driver_core_1$r.Integer(a,o)}else return null},e.prototype._unpackString=function(t,r,n,o){return r===TINY_STRING?channel_1$2.utf8.decode(o,n):t===STRING_8?channel_1$2.utf8.decode(o,o.readUInt8()):t===STRING_16?channel_1$2.utf8.decode(o,o.readUInt16()):t===STRING_32?channel_1$2.utf8.decode(o,o.readUInt32()):null},e.prototype._unpackList=function(t,r,n,o,a){return r===TINY_LIST?this._unpackListWithSize(n,o,a):t===LIST_8?this._unpackListWithSize(o.readUInt8(),o,a):t===LIST_16?this._unpackListWithSize(o.readUInt16(),o,a):t===LIST_32?this._unpackListWithSize(o.readUInt32(),o,a):null},e.prototype._unpackListWithSize=function(t,r,n){for(var o=[],a=0;a<t;a++)o.push(this.unpack(r,n));return o},e.prototype._unpackByteArray=function(t,r){return t===BYTES_8?this._unpackByteArrayWithSize(r.readUInt8(),r):t===BYTES_16?this._unpackByteArrayWithSize(r.readUInt16(),r):t===BYTES_32?this._unpackByteArrayWithSize(r.readUInt32(),r):null},e.prototype._unpackByteArrayWithSize=function(t,r){for(var n=new Int8Array(t),o=0;o<t;o++)n[o]=r.readInt8();return n},e.prototype._unpackMap=function(t,r,n,o,a){return r===TINY_MAP?this._unpackMapWithSize(n,o,a):t===MAP_8?this._unpackMapWithSize(o.readUInt8(),o,a):t===MAP_16?this._unpackMapWithSize(o.readUInt16(),o,a):t===MAP_32?this._unpackMapWithSize(o.readUInt32(),o,a):null},e.prototype._unpackMapWithSize=function(t,r,n){for(var o={},a=0;a<t;a++){var u=this.unpack(r,n);o[u]=this.unpack(r,n)}return o},e.prototype._unpackStruct=function(t,r,n,o,a){return r===TINY_STRUCT?this._unpackStructWithSize(n,o,a):t===STRUCT_8?this._unpackStructWithSize(o.readUInt8(),o,a):t===STRUCT_16?this._unpackStructWithSize(o.readUInt16(),o,a):null},e.prototype._unpackStructWithSize=function(t,r,n){for(var o=r.readUInt8(),a=new structure_1.Structure(o,[]),u=0;u<t;u++)a.fields.push(this.unpack(r,n));return n(a)},e}();packstreamV1.Unpacker=Unpacker$1;function isIterable(e){return e==null?!1:typeof e[Symbol.iterator]=="function"}var packstreamV2={},__extends$g=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__createBinding$3=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),__setModuleDefault$3=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$3=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding$3(t,e,r);return __setModuleDefault$3(t,e),t};Object.defineProperty(packstreamV2,"__esModule",{value:!0});packstreamV2.Unpacker=packstreamV2.Packer=void 0;var v1$1=__importStar$3(packstreamV1),Packer=function(e){__extends$g(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.disableByteArrays=function(){throw new Error("Bolt V2 should always support byte arrays")},t}(v1$1.Packer);packstreamV2.Packer=Packer;var Unpacker=function(e){__extends$g(t,e);function t(r,n){return r===void 0&&(r=!1),n===void 0&&(n=!1),e.call(this,r,n)||this}return t}(v1$1.Unpacker);packstreamV2.Unpacker=Unpacker;var __createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding$2(t,e,r);return __setModuleDefault$2(t,e),t};Object.defineProperty(packstream,"__esModule",{value:!0});packstream.structure=packstream.v2=packstream.v1=void 0;var v1=__importStar$2(packstreamV1);packstream.v1=v1;var v2=__importStar$2(packstreamV2);packstream.v2=v2;var structure=__importStar$2(structure$1);packstream.structure=structure;packstream.default=v2;var requestMessage={};Object.defineProperty(requestMessage,"__esModule",{value:!0});var neo4j_driver_core_1$q=lib$1,_a$8=neo4j_driver_core_1$q.internal.constants,ACCESS_MODE_READ=_a$8.ACCESS_MODE_READ,FETCH_ALL$3=_a$8.FETCH_ALL,assertString=neo4j_driver_core_1$q.internal.util.assertString,INIT=1,RESET=15,RUN=16,PULL_ALL=63,HELLO=1,GOODBYE=2,BEGIN=17,COMMIT=18,ROLLBACK=19,ROUTE=102,DISCARD=47,PULL=63,READ_MODE="r",NO_STATEMENT_ID=-1,RequestMessage=function(){function e(t,r,n){this.signature=t,this.fields=r,this.toString=n}return e.init=function(t,r){return new e(INIT,[t,r],function(){return"INIT ".concat(t," {...}")})},e.run=function(t,r){return new e(RUN,[t,r],function(){return"RUN ".concat(t," ").concat(neo4j_driver_core_1$q.json.stringify(r))})},e.pullAll=function(){return PULL_ALL_MESSAGE},e.reset=function(){return RESET_MESSAGE},e.hello=function(t,r,n,o){n===void 0&&(n=null),o===void 0&&(o=null);var a=Object.assign({user_agent:t},r);return n&&(a.routing=n),o&&(a.patch_bolt=o),new e(HELLO,[a],function(){return"HELLO {user_agent: '".concat(t,"', ...}")})},e.begin=function(t){var r=t===void 0?{}:t,n=r.bookmarks,o=r.txConfig,a=r.database,u=r.mode,s=r.impersonatedUser,l=buildTxMetadata(n,o,a,u,s);return new e(BEGIN,[l],function(){return"BEGIN ".concat(neo4j_driver_core_1$q.json.stringify(l))})},e.commit=function(){return COMMIT_MESSAGE},e.rollback=function(){return ROLLBACK_MESSAGE},e.runWithMetadata=function(t,r,n){var o=n===void 0?{}:n,a=o.bookmarks,u=o.txConfig,s=o.database,l=o.mode,c=o.impersonatedUser,f=buildTxMetadata(a,u,s,l,c);return new e(RUN,[t,r,f],function(){return"RUN ".concat(t," ").concat(neo4j_driver_core_1$q.json.stringify(r)," ").concat(neo4j_driver_core_1$q.json.stringify(f))})},e.goodbye=function(){return GOODBYE_MESSAGE},e.pull=function(t){var r=t===void 0?{}:t,n=r.stmtId,o=n===void 0?NO_STATEMENT_ID:n,a=r.n,u=a===void 0?FETCH_ALL$3:a,s=buildStreamMetadata(o==null?NO_STATEMENT_ID:o,u||FETCH_ALL$3);return new e(PULL,[s],function(){return"PULL ".concat(neo4j_driver_core_1$q.json.stringify(s))})},e.discard=function(t){var r=t===void 0?{}:t,n=r.stmtId,o=n===void 0?NO_STATEMENT_ID:n,a=r.n,u=a===void 0?FETCH_ALL$3:a,s=buildStreamMetadata(o==null?NO_STATEMENT_ID:o,u||FETCH_ALL$3);return new e(DISCARD,[s],function(){return"DISCARD ".concat(neo4j_driver_core_1$q.json.stringify(s))})},e.route=function(t,r,n){return t===void 0&&(t={}),r===void 0&&(r=[]),n===void 0&&(n=null),new e(ROUTE,[t,r,n],function(){return"ROUTE ".concat(neo4j_driver_core_1$q.json.stringify(t)," ").concat(neo4j_driver_core_1$q.json.stringify(r)," ").concat(n)})},e.routeV4x4=function(t,r,n){t===void 0&&(t={}),r===void 0&&(r=[]),n===void 0&&(n={});var o={};return n.databaseName&&(o.db=n.databaseName),n.impersonatedUser&&(o.imp_user=n.impersonatedUser),new e(ROUTE,[t,r,o],function(){return"ROUTE ".concat(neo4j_driver_core_1$q.json.stringify(t)," ").concat(neo4j_driver_core_1$q.json.stringify(r)," ").concat(neo4j_driver_core_1$q.json.stringify(o))})},e}();requestMessage.default=RequestMessage;function buildTxMetadata(e,t,r,n,o){var a={};return e.isEmpty()||(a.bookmarks=e.values()),t.timeout!==null&&(a.tx_timeout=t.timeout),t.metadata&&(a.tx_metadata=t.metadata),r&&(a.db=assertString(r,"database")),o&&(a.imp_user=assertString(o,"impersonatedUser")),n===ACCESS_MODE_READ&&(a.mode=READ_MODE),a}function buildStreamMetadata(e,t){var r={n:(0,neo4j_driver_core_1$q.int)(t)};return e!==NO_STATEMENT_ID&&(r.qid=(0,neo4j_driver_core_1$q.int)(e)),r}var PULL_ALL_MESSAGE=new RequestMessage(PULL_ALL,[],function(){return"PULL_ALL"}),RESET_MESSAGE=new RequestMessage(RESET,[],function(){return"RESET"}),COMMIT_MESSAGE=new RequestMessage(COMMIT,[],function(){return"COMMIT"}),ROLLBACK_MESSAGE=new RequestMessage(ROLLBACK,[],function(){return"ROLLBACK"}),GOODBYE_MESSAGE=new RequestMessage(GOODBYE,[],function(){return"GOODBYE"}),streamObservers={},routingTableRaw={},__extends$f=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(routingTableRaw,"__esModule",{value:!0});var RawRoutingTable=function(){function e(){}return e.ofRecord=function(t){return t===null?e.ofNull():new RecordRawRoutingTable(t)},e.ofMessageResponse=function(t){return t===null?e.ofNull():new ResponseRawRoutingTable(t)},e.ofNull=function(){return new NullRawRoutingTable},Object.defineProperty(e.prototype,"ttl",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"db",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"servers",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNull",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),e}();routingTableRaw.default=RawRoutingTable;var ResponseRawRoutingTable=function(e){__extends$f(t,e);function t(r){var n=e.call(this)||this;return n._response=r,n}return Object.defineProperty(t.prototype,"ttl",{get:function(){return this._response.rt.ttl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){return this._response.rt.servers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){return this._response.rt.db},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return this._response===null},enumerable:!1,configurable:!0}),t}(RawRoutingTable),NullRawRoutingTable=function(e){__extends$f(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0}),t}(RawRoutingTable),RecordRawRoutingTable=function(e){__extends$f(t,e);function t(r){var n=e.call(this)||this;return n._record=r,n}return Object.defineProperty(t.prototype,"ttl",{get:function(){return this._record.get("ttl")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){return this._record.get("servers")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){return this._record.has("db")?this._record.get("db"):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return this._record===null},enumerable:!1,configurable:!0}),t}(RawRoutingTable),__extends$e=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__importDefault$q=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(streamObservers,"__esModule",{value:!0});streamObservers.ProcedureRouteObserver=streamObservers.RouteObserver=streamObservers.CompletedObserver=streamObservers.FailedObserver=streamObservers.ResetObserver=streamObservers.LoginObserver=streamObservers.ResultStreamObserver=streamObservers.StreamObserver=void 0;var neo4j_driver_core_1$p=lib$1,routing_table_raw_1=__importDefault$q(routingTableRaw),FETCH_ALL$2=neo4j_driver_core_1$p.internal.constants.FETCH_ALL,PROTOCOL_ERROR$3=neo4j_driver_core_1$p.error.PROTOCOL_ERROR,StreamObserver=function(){function e(){}return e.prototype.onNext=function(t){},e.prototype.onError=function(t){},e.prototype.onCompleted=function(t){},e}();streamObservers.StreamObserver=StreamObserver;var ResultStreamObserver=function(e){__extends$e(t,e);function t(r){var n=r===void 0?{}:r,o=n.reactive,a=o===void 0?!1:o,u=n.moreFunction,s=n.discardFunction,l=n.fetchSize,c=l===void 0?FETCH_ALL$2:l,f=n.beforeError,v=n.afterError,b=n.beforeKeys,$=n.afterKeys,E=n.beforeComplete,w=n.afterComplete,A=n.server,I=n.highRecordWatermark,R=I===void 0?Number.MAX_VALUE:I,x=n.lowRecordWatermark,N=x===void 0?Number.MAX_VALUE:x,D=e.call(this)||this;return D._fieldKeys=null,D._fieldLookup=null,D._head=null,D._queuedRecords=[],D._tail=null,D._error=null,D._observers=[],D._meta={},D._server=A,D._beforeError=f,D._afterError=v,D._beforeKeys=b,D._afterKeys=$,D._beforeComplete=E,D._afterComplete=w,D._queryId=null,D._moreFunction=u,D._discardFunction=s,D._discard=!1,D._fetchSize=c,D._lowRecordWatermark=N,D._highRecordWatermark=R,D._setState(a?_states.READY:_states.READY_STREAMING),D._setupAutoPull(),D._paused=!1,D}return t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1,this._setupAutoPull(!0),this._state.pull(this)},t.prototype.onNext=function(r){var n=new neo4j_driver_core_1$p.Record(this._fieldKeys,r,this._fieldLookup);this._observers.some(function(o){return o.onNext})?this._observers.forEach(function(o){o.onNext&&o.onNext(n)}):(this._queuedRecords.push(n),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))},t.prototype.onCompleted=function(r){this._state.onSuccess(this,r)},t.prototype.onError=function(r){this._state.onError(this,r)},t.prototype.cancel=function(){this._discard=!0},t.prototype.prepareToHandleSingleResponse=function(){this._head=[],this._fieldKeys=[],this._setState(_states.STREAMING)},t.prototype.markCompleted=function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(_states.SUCCEEDED)},t.prototype.subscribe=function(r){if(this._head&&r.onKeys&&r.onKeys(this._head),this._queuedRecords.length>0&&r.onNext)for(var n=0;n<this._queuedRecords.length;n++)r.onNext(this._queuedRecords[n]),this._queuedRecords.length-n-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===_states.READY&&this._handleStreaming());this._tail&&r.onCompleted&&r.onCompleted(this._tail),this._error&&r.onError(this._error),this._observers.push(r),this._state===_states.READY&&this._handleStreaming()},t.prototype._handleHasMore=function(r){this._setState(_states.READY),this._handleStreaming(),delete r.has_more},t.prototype._handlePullSuccess=function(r){var n=this,o=Object.assign(this._server?{server:this._server}:{},this._meta,r);if(![void 0,null,"r","w","rw","s"].includes(o.type)){this.onError((0,neo4j_driver_core_1$p.newError)(`Server returned invalid query type. Expected one of [undefined, null, "r", "w", "rw", "s"] but got '`.concat(o.type,"'"),PROTOCOL_ERROR$3));return}this._setState(_states.SUCCEEDED);var a=null;this._beforeComplete&&(a=this._beforeComplete(o));var u=function(){n._tail=o,n._observers.some(function(s){return s.onCompleted})&&n._observers.forEach(function(s){s.onCompleted&&s.onCompleted(o)}),n._afterComplete&&n._afterComplete(o)};a?Promise.resolve(a).then(function(){return u()}):u()},t.prototype._handleRunSuccess=function(r,n){var o=this;if(this._fieldKeys===null){if(this._fieldKeys=[],this._fieldLookup={},r.fields&&r.fields.length>0){this._fieldKeys=r.fields;for(var a=0;a<r.fields.length;a++)this._fieldLookup[r.fields[a]]=a;delete r.fields}r.qid!==null&&r.qid!==void 0&&(this._queryId=r.qid,delete r.qid),this._storeMetadataForCompletion(r);var u=null;this._beforeKeys&&(u=this._beforeKeys(this._fieldKeys));var s=function(){o._head=o._fieldKeys,o._observers.some(function(l){return l.onKeys})&&o._observers.forEach(function(l){l.onKeys&&l.onKeys(o._fieldKeys)}),o._afterKeys&&o._afterKeys(o._fieldKeys),n()};u?Promise.resolve(u).then(function(){return s()}):s()}},t.prototype._handleError=function(r){var n=this;this._setState(_states.FAILED),this._error=r;var o=null;this._beforeError&&(o=this._beforeError(r));var a=function(){n._observers.some(function(u){return u.onError})&&n._observers.forEach(function(u){u.onError&&u.onError(r)}),n._afterError&&n._afterError(r)};o?Promise.resolve(o).then(function(){return a()}):a()},t.prototype._handleStreaming=function(){this._head&&this._observers.some(function(r){return r.onNext||r.onCompleted})&&!this._paused&&(this._discard||this._autoPull)&&this._more()},t.prototype._more=function(){this._discard?this._discardFunction(this._queryId,this):this._moreFunction(this._queryId,this._fetchSize,this),this._setState(_states.STREAMING)},t.prototype._storeMetadataForCompletion=function(r){for(var n=Object.keys(r),o=n.length,a="";o--;)a=n[o],this._meta[a]=r[a]},t.prototype._setState=function(r){this._state=r},t.prototype._setupAutoPull=function(){this._autoPull=!0},t}(StreamObserver);streamObservers.ResultStreamObserver=ResultStreamObserver;var LoginObserver=function(e){__extends$e(t,e);function t(r){var n=r===void 0?{}:r,o=n.onError,a=n.onCompleted,u=e.call(this)||this;return u._onError=o,u._onCompleted=a,u}return t.prototype.onNext=function(r){this.onError((0,neo4j_driver_core_1$p.newError)("Received RECORD when initializing "+neo4j_driver_core_1$p.json.stringify(r)))},t.prototype.onError=function(r){this._onError&&this._onError(r)},t.prototype.onCompleted=function(r){this._onCompleted&&this._onCompleted(r)},t}(StreamObserver);streamObservers.LoginObserver=LoginObserver;var ResetObserver=function(e){__extends$e(t,e);function t(r){var n=r===void 0?{}:r,o=n.onProtocolError,a=n.onError,u=n.onComplete,s=e.call(this)||this;return s._onProtocolError=o,s._onError=a,s._onComplete=u,s}return t.prototype.onNext=function(r){this.onError((0,neo4j_driver_core_1$p.newError)("Received RECORD when resetting: received record is: "+neo4j_driver_core_1$p.json.stringify(r),PROTOCOL_ERROR$3))},t.prototype.onError=function(r){r.code===PROTOCOL_ERROR$3&&this._onProtocolError&&this._onProtocolError(r.message),this._onError&&this._onError(r)},t.prototype.onCompleted=function(r){this._onComplete&&this._onComplete(r)},t}(StreamObserver);streamObservers.ResetObserver=ResetObserver;var FailedObserver=function(e){__extends$e(t,e);function t(r){var n=r.error,o=r.onError,a=e.call(this,{beforeError:o})||this;return a.onError(n),a}return t}(ResultStreamObserver);streamObservers.FailedObserver=FailedObserver;var CompletedObserver=function(e){__extends$e(t,e);function t(){var r=e.call(this)||this;return e.prototype.markCompleted.call(r),r}return t}(ResultStreamObserver);streamObservers.CompletedObserver=CompletedObserver;var ProcedureRouteObserver=function(e){__extends$e(t,e);function t(r){var n=r.resultObserver,o=r.onProtocolError,a=r.onError,u=r.onCompleted,s=e.call(this)||this;return s._resultObserver=n,s._onError=a,s._onCompleted=u,s._records=[],s._onProtocolError=o,n.subscribe(s),s}return t.prototype.onNext=function(r){this._records.push(r)},t.prototype.onError=function(r){r.code===PROTOCOL_ERROR$3&&this._onProtocolError&&this._onProtocolError(r.message),this._onError&&this._onError(r)},t.prototype.onCompleted=function(){if(this._records!==null&&this._records.length!==1){this.onError((0,neo4j_driver_core_1$p.newError)("Illegal response from router. Received "+this._records.length+` records but expected only one.
`+neo4j_driver_core_1$p.json.stringify(this._records),PROTOCOL_ERROR$3));return}this._onCompleted&&this._onCompleted(routing_table_raw_1.default.ofRecord(this._records[0]))},t}(StreamObserver);streamObservers.ProcedureRouteObserver=ProcedureRouteObserver;var RouteObserver=function(e){__extends$e(t,e);function t(r){var n=r===void 0?{}:r,o=n.onProtocolError,a=n.onError,u=n.onCompleted,s=e.call(this)||this;return s._onProtocolError=o,s._onError=a,s._onCompleted=u,s}return t.prototype.onNext=function(r){this.onError((0,neo4j_driver_core_1$p.newError)("Received RECORD when resetting: received record is: "+neo4j_driver_core_1$p.json.stringify(r),PROTOCOL_ERROR$3))},t.prototype.onError=function(r){r.code===PROTOCOL_ERROR$3&&this._onProtocolError&&this._onProtocolError(r.message),this._onError&&this._onError(r)},t.prototype.onCompleted=function(r){this._onCompleted&&this._onCompleted(routing_table_raw_1.default.ofMessageResponse(r))},t}(StreamObserver);streamObservers.RouteObserver=RouteObserver;var _states={READY_STREAMING:{onSuccess:function(e,t){e._handleRunSuccess(t,function(){e._setState(_states.STREAMING)})},onError:function(e,t){e._handleError(t)},name:function(){return"READY_STREAMING"},pull:function(){}},READY:{onSuccess:function(e,t){e._handleRunSuccess(t,function(){return e._handleStreaming()})},onError:function(e,t){e._handleError(t)},name:function(){return"READY"},pull:function(e){return e._more()}},STREAMING:{onSuccess:function(e,t){t.has_more?e._handleHasMore(t):e._handlePullSuccess(t)},onError:function(e,t){e._handleError(t)},name:function(){return"STREAMING"},pull:function(){}},FAILED:{onError:function(e){},name:function(){return"FAILED"},pull:function(){}},SUCCEEDED:{name:function(){return"SUCCEEDED"},pull:function(){}}},boltProtocolV1_transformer={},transformer={};Object.defineProperty(transformer,"__esModule",{value:!0});transformer.TypeTransformer=void 0;var packstream_1$6=packstream,neo4j_driver_core_1$o=lib$1,objectUtil=neo4j_driver_core_1$o.internal.objectUtil,Transformer=function(){function e(t){this._transformers=t,this._transformersPerSignature=new Map(t.map(function(r){return[r.signature,r]})),this.fromStructure=this.fromStructure.bind(this),this.toStructure=this.toStructure.bind(this),Object.freeze(this)}return e.prototype.fromStructure=function(t){try{if(t instanceof packstream_1$6.structure.Structure&&this._transformersPerSignature.has(t.signature)){var r=this._transformersPerSignature.get(t.signature).fromStructure;return r(t)}return t}catch(n){return objectUtil.createBrokenObject(n)}},e.prototype.toStructure=function(t){var r=this._transformers.find(function(n){var o=n.isTypeInstance;return o(t)});return r!==void 0?r.toStructure(t):t},e}();transformer.default=Transformer;var TypeTransformer=function(){function e(t){var r=t.signature,n=t.fromStructure,o=t.toStructure,a=t.isTypeInstance;this.signature=r,this.isTypeInstance=a,this.fromStructure=n,this.toStructure=o,Object.freeze(this)}return e.prototype.extendsWith=function(t){var r=t.signature,n=t.fromStructure,o=t.toStructure,a=t.isTypeInstance;return new e({signature:r||this.signature,fromStructure:n||this.fromStructure,toStructure:o||this.toStructure,isTypeInstance:a||this.isTypeInstance})},e}();transformer.TypeTransformer=TypeTransformer;var __read$5=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a};Object.defineProperty(boltProtocolV1_transformer,"__esModule",{value:!0});var neo4j_driver_core_1$n=lib$1,packstream_1$5=packstream,transformer_1$a=transformer,PROTOCOL_ERROR$2=neo4j_driver_core_1$n.error.PROTOCOL_ERROR,NODE=78,NODE_STRUCT_SIZE$1=3,RELATIONSHIP=82,RELATIONSHIP_STRUCT_SIZE$1=5,UNBOUND_RELATIONSHIP=114,UNBOUND_RELATIONSHIP_STRUCT_SIZE$1=3,PATH=80,PATH_STRUCT_SIZE=3;function createNodeTransformer$1(){return new transformer_1$a.TypeTransformer({signature:NODE,isTypeInstance:function(e){return e instanceof neo4j_driver_core_1$n.Node},toStructure:function(e){throw(0,neo4j_driver_core_1$n.newError)("It is not allowed to pass nodes in query parameters, given: ".concat(e),PROTOCOL_ERROR$2)},fromStructure:function(e){packstream_1$5.structure.verifyStructSize("Node",NODE_STRUCT_SIZE$1,e.size);var t=__read$5(e.fields,3),r=t[0],n=t[1],o=t[2];return new neo4j_driver_core_1$n.Node(r,n,o)}})}function createRelationshipTransformer$1(){return new transformer_1$a.TypeTransformer({signature:RELATIONSHIP,isTypeInstance:function(e){return e instanceof neo4j_driver_core_1$n.Relationship},toStructure:function(e){throw(0,neo4j_driver_core_1$n.newError)("It is not allowed to pass relationships in query parameters, given: ".concat(e),PROTOCOL_ERROR$2)},fromStructure:function(e){packstream_1$5.structure.verifyStructSize("Relationship",RELATIONSHIP_STRUCT_SIZE$1,e.size);var t=__read$5(e.fields,5),r=t[0],n=t[1],o=t[2],a=t[3],u=t[4];return new neo4j_driver_core_1$n.Relationship(r,n,o,a,u)}})}function createUnboundRelationshipTransformer$1(){return new transformer_1$a.TypeTransformer({signature:UNBOUND_RELATIONSHIP,isTypeInstance:function(e){return e instanceof neo4j_driver_core_1$n.UnboundRelationship},toStructure:function(e){throw(0,neo4j_driver_core_1$n.newError)("It is not allowed to pass unbound relationships in query parameters, given: ".concat(e),PROTOCOL_ERROR$2)},fromStructure:function(e){packstream_1$5.structure.verifyStructSize("UnboundRelationship",UNBOUND_RELATIONSHIP_STRUCT_SIZE$1,e.size);var t=__read$5(e.fields,3),r=t[0],n=t[1],o=t[2];return new neo4j_driver_core_1$n.UnboundRelationship(r,n,o)}})}function createPathTransformer(){return new transformer_1$a.TypeTransformer({signature:PATH,isTypeInstance:function(e){return e instanceof neo4j_driver_core_1$n.Path},toStructure:function(e){throw(0,neo4j_driver_core_1$n.newError)("It is not allowed to pass paths in query parameters, given: ".concat(e),PROTOCOL_ERROR$2)},fromStructure:function(e){packstream_1$5.structure.verifyStructSize("Path",PATH_STRUCT_SIZE,e.size);for(var t=__read$5(e.fields,3),r=t[0],n=t[1],o=t[2],a=[],u=r[0],s=0;s<o.length;s+=2){var l=r[o[s+1]],c=(0,neo4j_driver_core_1$n.toNumber)(o[s]),f=void 0;c>0?(f=n[c-1],f instanceof neo4j_driver_core_1$n.UnboundRelationship&&(n[c-1]=f=f.bindTo(u,l))):(f=n[-c-1],f instanceof neo4j_driver_core_1$n.UnboundRelationship&&(n[-c-1]=f=f.bindTo(l,u))),a.push(new neo4j_driver_core_1$n.PathSegment(u,f,l)),u=l}return new neo4j_driver_core_1$n.Path(r[0],r[r.length-1],a)}})}boltProtocolV1_transformer.default={createNodeTransformer:createNodeTransformer$1,createRelationshipTransformer:createRelationshipTransformer$1,createUnboundRelationshipTransformer:createUnboundRelationshipTransformer$1,createPathTransformer};var __importDefault$p=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV1,"__esModule",{value:!0});var bolt_protocol_util_1$2=boltProtocolUtil,packstream_1$4=packstream,request_message_1$6=__importDefault$p(requestMessage),stream_observers_1$6=streamObservers,neo4j_driver_core_1$m=lib$1,bolt_protocol_v1_transformer_1$1=__importDefault$p(boltProtocolV1_transformer),transformer_1$9=__importDefault$p(transformer),Bookmarks$3=neo4j_driver_core_1$m.internal.bookmarks.Bookmarks,_a$7=neo4j_driver_core_1$m.internal.constants,ACCESS_MODE_WRITE=_a$7.ACCESS_MODE_WRITE,BOLT_PROTOCOL_V1=_a$7.BOLT_PROTOCOL_V1;neo4j_driver_core_1$m.internal.logger.Logger;var TxConfig$2=neo4j_driver_core_1$m.internal.txConfig.TxConfig,BoltProtocol$8=function(){function e(t,r,n,o,a,u){var s=n===void 0?{}:n,l=s.disableLosslessIntegers,c=s.useBigInt;o===void 0&&(o=function(){return null}),this._server=t||{},this._chunker=r,this._packer=this._createPacker(r),this._unpacker=this._createUnpacker(l,c),this._responseHandler=o(this),this._log=a,this._onProtocolError=u,this._fatalError=null,this._lastMessageSignature=null,this._config={disableLosslessIntegers:l,useBigInt:c}}return Object.defineProperty(e.prototype,"transformer",{get:function(){var t=this;return this._transformer===void 0&&(this._transformer=new transformer_1$9.default(Object.values(bolt_protocol_v1_transformer_1$1.default).map(function(r){return r(t._config,t._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return BOLT_PROTOCOL_V1},enumerable:!1,configurable:!0}),e.prototype.packer=function(){return this._packer},e.prototype.packable=function(t){return this._packer.packable(t,this.transformer.toStructure)},e.prototype.unpacker=function(){return this._unpacker},e.prototype.unpack=function(t){return this._unpacker.unpack(t,this.transformer.fromStructure)},e.prototype.transformMetadata=function(t){return t},e.prototype.initialize=function(t){var r=this,n=t===void 0?{}:t,o=n.userAgent,a=n.authToken,u=n.onError,s=n.onComplete,l=new stream_observers_1$6.LoginObserver({onError:function(c){return r._onLoginError(c,u)},onCompleted:function(c){return r._onLoginCompleted(c,s)}});return this.write(request_message_1$6.default.init(o,a),l,!0),l},e.prototype.prepareToClose=function(){},e.prototype.beginTransaction=function(t){var r=t===void 0?{}:t,n=r.bookmarks,o=r.txConfig,a=r.database,u=r.mode,s=r.impersonatedUser,l=r.beforeError,c=r.afterError,f=r.beforeComplete,v=r.afterComplete;return this.run("BEGIN",n?n.asBeginTransactionParameters():{},{bookmarks:n,txConfig:o,database:a,mode:u,impersonatedUser:s,beforeError:l,afterError:c,beforeComplete:f,afterComplete:v,flush:!1})},e.prototype.commitTransaction=function(t){var r=t===void 0?{}:t,n=r.beforeError,o=r.afterError,a=r.beforeComplete,u=r.afterComplete;return this.run("COMMIT",{},{bookmarks:Bookmarks$3.empty(),txConfig:TxConfig$2.empty(),mode:ACCESS_MODE_WRITE,beforeError:n,afterError:o,beforeComplete:a,afterComplete:u})},e.prototype.rollbackTransaction=function(t){var r=t===void 0?{}:t,n=r.beforeError,o=r.afterError,a=r.beforeComplete,u=r.afterComplete;return this.run("ROLLBACK",{},{bookmarks:Bookmarks$3.empty(),txConfig:TxConfig$2.empty(),mode:ACCESS_MODE_WRITE,beforeError:n,afterError:o,beforeComplete:a,afterComplete:u})},e.prototype.run=function(t,r,n){var o=n===void 0?{}:n;o.bookmarks;var a=o.txConfig,u=o.database;o.mode;var s=o.impersonatedUser,l=o.beforeKeys,c=o.afterKeys,f=o.beforeError,v=o.afterError,b=o.beforeComplete,$=o.afterComplete,E=o.flush,w=E===void 0?!0:E,A=o.highRecordWatermark,I=A===void 0?Number.MAX_VALUE:A,R=o.lowRecordWatermark,x=R===void 0?Number.MAX_VALUE:R,N=new stream_observers_1$6.ResultStreamObserver({server:this._server,beforeKeys:l,afterKeys:c,beforeError:f,afterError:v,beforeComplete:b,afterComplete:$,highRecordWatermark:I,lowRecordWatermark:x});return(0,bolt_protocol_util_1$2.assertTxConfigIsEmpty)(a,this._onProtocolError,N),(0,bolt_protocol_util_1$2.assertDatabaseIsEmpty)(u,this._onProtocolError,N),(0,bolt_protocol_util_1$2.assertImpersonatedUserIsEmpty)(s,this._onProtocolError,N),this.write(request_message_1$6.default.run(t,r),N,!1),this.write(request_message_1$6.default.pullAll(),N,w),N},Object.defineProperty(e.prototype,"currentFailure",{get:function(){return this._responseHandler.currentFailure},enumerable:!1,configurable:!0}),e.prototype.reset=function(t){var r=t===void 0?{}:t,n=r.onError,o=r.onComplete,a=new stream_observers_1$6.ResetObserver({onProtocolError:this._onProtocolError,onError:n,onComplete:o});return this.write(request_message_1$6.default.reset(),a,!0),a},e.prototype._createPacker=function(t){return new packstream_1$4.v1.Packer(t)},e.prototype._createUnpacker=function(t,r){return new packstream_1$4.v1.Unpacker(t,r)},e.prototype.write=function(t,r,n){var o=this.queueObserverIfProtocolIsNotBroken(r);if(o){this._log.isDebugEnabled()&&this._log.debug("C: ".concat(t)),this._lastMessageSignature=t.signature;var a=new packstream_1$4.structure.Structure(t.signature,t.fields);this.packable(a)(),this._chunker.messageBoundary(),n&&this._chunker.flush()}},e.prototype.isLastMessageLogin=function(){return this._lastMessageSignature===1},e.prototype.isLastMessageReset=function(){return this._lastMessageSignature===15},e.prototype.notifyFatalError=function(t){return this._fatalError=t,this._responseHandler._notifyErrorToObservers(t)},e.prototype.updateCurrentObserver=function(){return this._responseHandler._updateCurrentObserver()},e.prototype.hasOngoingObservableRequests=function(){return this._responseHandler.hasOngoingObservableRequests()},e.prototype.queueObserverIfProtocolIsNotBroken=function(t){return this.isBroken()?(this.notifyFatalErrorToObserver(t),!1):this._responseHandler._queueObserver(t)},e.prototype.isBroken=function(){return!!this._fatalError},e.prototype.notifyFatalErrorToObserver=function(t){t&&t.onError&&t.onError(this._fatalError)},e.prototype.resetFailure=function(){this._responseHandler._resetFailure()},e.prototype._onLoginCompleted=function(t,r){if(t){var n=t.server;this._server.version||(this._server.version=n)}r&&r(t)},e.prototype._onLoginError=function(t,r){this._onProtocolError(t.message),r&&r(t)},e}();boltProtocolV1.default=BoltProtocol$8;var boltProtocolV2={},boltProtocolV2_transformer={},temporalFactory={};Object.defineProperty(temporalFactory,"__esModule",{value:!0});temporalFactory.epochSecondAndNanoToLocalDateTime=temporalFactory.nanoOfDayToLocalTime=temporalFactory.epochDayToDate=void 0;var neo4j_driver_core_1$l=lib$1,_a$6=neo4j_driver_core_1$l.internal.temporalUtil,DAYS_0000_TO_1970=_a$6.DAYS_0000_TO_1970,DAYS_PER_400_YEAR_CYCLE=_a$6.DAYS_PER_400_YEAR_CYCLE,NANOS_PER_HOUR=_a$6.NANOS_PER_HOUR,NANOS_PER_MINUTE=_a$6.NANOS_PER_MINUTE,NANOS_PER_SECOND=_a$6.NANOS_PER_SECOND,SECONDS_PER_DAY=_a$6.SECONDS_PER_DAY,floorDiv=_a$6.floorDiv,floorMod=_a$6.floorMod;function epochDayToDate(e){e=(0,neo4j_driver_core_1$l.int)(e);var t=e.add(DAYS_0000_TO_1970).subtract(60),r=(0,neo4j_driver_core_1$l.int)(0);if(t.lessThan(0)){var n=t.add(1).div(DAYS_PER_400_YEAR_CYCLE).subtract(1);r=n.multiply(400),t=t.add(n.multiply(-DAYS_PER_400_YEAR_CYCLE))}var o=t.multiply(400).add(591).div(DAYS_PER_400_YEAR_CYCLE),a=t.subtract(o.multiply(365).add(o.div(4)).subtract(o.div(100)).add(o.div(400)));a.lessThan(0)&&(o=o.subtract(1),a=t.subtract(o.multiply(365).add(o.div(4)).subtract(o.div(100)).add(o.div(400)))),o=o.add(r);var u=a,s=u.multiply(5).add(2).div(153),l=s.add(2).modulo(12).add(1),c=u.subtract(s.multiply(306).add(5).div(10)).add(1);return o=o.add(s.div(10)),new neo4j_driver_core_1$l.Date(o,l,c)}temporalFactory.epochDayToDate=epochDayToDate;function nanoOfDayToLocalTime(e){e=(0,neo4j_driver_core_1$l.int)(e);var t=e.div(NANOS_PER_HOUR);e=e.subtract(t.multiply(NANOS_PER_HOUR));var r=e.div(NANOS_PER_MINUTE);e=e.subtract(r.multiply(NANOS_PER_MINUTE));var n=e.div(NANOS_PER_SECOND),o=e.subtract(n.multiply(NANOS_PER_SECOND));return new neo4j_driver_core_1$l.LocalTime(t,r,n,o)}temporalFactory.nanoOfDayToLocalTime=nanoOfDayToLocalTime;function epochSecondAndNanoToLocalDateTime(e,t){var r=floorDiv(e,SECONDS_PER_DAY),n=floorMod(e,SECONDS_PER_DAY),o=n.multiply(NANOS_PER_SECOND).add(t),a=epochDayToDate(r),u=nanoOfDayToLocalTime(o);return new neo4j_driver_core_1$l.LocalDateTime(a.year,a.month,a.day,u.hour,u.minute,u.second,u.nanosecond)}temporalFactory.epochSecondAndNanoToLocalDateTime=epochSecondAndNanoToLocalDateTime;var __assign$c=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign$c.apply(this,arguments)},__read$4=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__importDefault$o=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV2_transformer,"__esModule",{value:!0});var neo4j_driver_core_1$k=lib$1,packstream_1$3=packstream,transformer_1$8=transformer,temporal_factory_1$1=temporalFactory,bolt_protocol_v1_transformer_1=__importDefault$o(boltProtocolV1_transformer),_a$5=neo4j_driver_core_1$k.internal.temporalUtil,dateToEpochDay=_a$5.dateToEpochDay,localDateTimeToEpochSecond$1=_a$5.localDateTimeToEpochSecond,localTimeToNanoOfDay=_a$5.localTimeToNanoOfDay,POINT_2D=88,POINT_2D_STRUCT_SIZE=3,POINT_3D=89,POINT_3D_STRUCT_SIZE=4,DURATION=69,DURATION_STRUCT_SIZE=4,LOCAL_TIME=116,LOCAL_TIME_STRUCT_SIZE=1,TIME=84,TIME_STRUCT_SIZE=2,DATE=68,DATE_STRUCT_SIZE=1,LOCAL_DATE_TIME=100,LOCAL_DATE_TIME_STRUCT_SIZE=2,DATE_TIME_WITH_ZONE_OFFSET$1=70,DATE_TIME_WITH_ZONE_OFFSET_STRUCT_SIZE$1=3,DATE_TIME_WITH_ZONE_ID$1=102,DATE_TIME_WITH_ZONE_ID_STRUCT_SIZE$1=3;function createPoint2DTransformer(){return new transformer_1$8.TypeTransformer({signature:POINT_2D,isTypeInstance:function(e){return(0,neo4j_driver_core_1$k.isPoint)(e)&&(e.z===null||e.z===void 0)},toStructure:function(e){return new packstream_1$3.structure.Structure(POINT_2D,[(0,neo4j_driver_core_1$k.int)(e.srid),e.x,e.y])},fromStructure:function(e){packstream_1$3.structure.verifyStructSize("Point2D",POINT_2D_STRUCT_SIZE,e.size);var t=__read$4(e.fields,3),r=t[0],n=t[1],o=t[2];return new neo4j_driver_core_1$k.Point(r,n,o,void 0)}})}function createPoint3DTransformer(){return new transformer_1$8.TypeTransformer({signature:POINT_3D,isTypeInstance:function(e){return(0,neo4j_driver_core_1$k.isPoint)(e)&&e.z!==null&&e.z!==void 0},toStructure:function(e){return new packstream_1$3.structure.Structure(POINT_3D,[(0,neo4j_driver_core_1$k.int)(e.srid),e.x,e.y,e.z])},fromStructure:function(e){packstream_1$3.structure.verifyStructSize("Point3D",POINT_3D_STRUCT_SIZE,e.size);var t=__read$4(e.fields,4),r=t[0],n=t[1],o=t[2],a=t[3];return new neo4j_driver_core_1$k.Point(r,n,o,a)}})}function createDurationTransformer(){return new transformer_1$8.TypeTransformer({signature:DURATION,isTypeInstance:neo4j_driver_core_1$k.isDuration,toStructure:function(e){var t=(0,neo4j_driver_core_1$k.int)(e.months),r=(0,neo4j_driver_core_1$k.int)(e.days),n=(0,neo4j_driver_core_1$k.int)(e.seconds),o=(0,neo4j_driver_core_1$k.int)(e.nanoseconds);return new packstream_1$3.structure.Structure(DURATION,[t,r,n,o])},fromStructure:function(e){packstream_1$3.structure.verifyStructSize("Duration",DURATION_STRUCT_SIZE,e.size);var t=__read$4(e.fields,4),r=t[0],n=t[1],o=t[2],a=t[3];return new neo4j_driver_core_1$k.Duration(r,n,o,a)}})}function createLocalTimeTransformer(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new transformer_1$8.TypeTransformer({signature:LOCAL_TIME,isTypeInstance:neo4j_driver_core_1$k.isLocalTime,toStructure:function(n){var o=localTimeToNanoOfDay(n.hour,n.minute,n.second,n.nanosecond);return new packstream_1$3.structure.Structure(LOCAL_TIME,[o])},fromStructure:function(n){packstream_1$3.structure.verifyStructSize("LocalTime",LOCAL_TIME_STRUCT_SIZE,n.size);var o=__read$4(n.fields,1),a=o[0],u=(0,temporal_factory_1$1.nanoOfDayToLocalTime)(a);return convertIntegerPropsIfNeeded$1(u,t,r)}})}function createTimeTransformer(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new transformer_1$8.TypeTransformer({signature:TIME,isTypeInstance:neo4j_driver_core_1$k.isTime,toStructure:function(n){var o=localTimeToNanoOfDay(n.hour,n.minute,n.second,n.nanosecond),a=(0,neo4j_driver_core_1$k.int)(n.timeZoneOffsetSeconds);return new packstream_1$3.structure.Structure(TIME,[o,a])},fromStructure:function(n){packstream_1$3.structure.verifyStructSize("Time",TIME_STRUCT_SIZE,n.size);var o=__read$4(n.fields,2),a=o[0],u=o[1],s=(0,temporal_factory_1$1.nanoOfDayToLocalTime)(a),l=new neo4j_driver_core_1$k.Time(s.hour,s.minute,s.second,s.nanosecond,u);return convertIntegerPropsIfNeeded$1(l,t,r)}})}function createDateTransformer(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new transformer_1$8.TypeTransformer({signature:DATE,isTypeInstance:neo4j_driver_core_1$k.isDate,toStructure:function(n){var o=dateToEpochDay(n.year,n.month,n.day);return new packstream_1$3.structure.Structure(DATE,[o])},fromStructure:function(n){packstream_1$3.structure.verifyStructSize("Date",DATE_STRUCT_SIZE,n.size);var o=__read$4(n.fields,1),a=o[0],u=(0,temporal_factory_1$1.epochDayToDate)(a);return convertIntegerPropsIfNeeded$1(u,t,r)}})}function createLocalDateTimeTransformer(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new transformer_1$8.TypeTransformer({signature:LOCAL_DATE_TIME,isTypeInstance:neo4j_driver_core_1$k.isLocalDateTime,toStructure:function(n){var o=localDateTimeToEpochSecond$1(n.year,n.month,n.day,n.hour,n.minute,n.second,n.nanosecond),a=(0,neo4j_driver_core_1$k.int)(n.nanosecond);return new packstream_1$3.structure.Structure(LOCAL_DATE_TIME,[o,a])},fromStructure:function(n){packstream_1$3.structure.verifyStructSize("LocalDateTime",LOCAL_DATE_TIME_STRUCT_SIZE,n.size);var o=__read$4(n.fields,2),a=o[0],u=o[1],s=(0,temporal_factory_1$1.epochSecondAndNanoToLocalDateTime)(a,u);return convertIntegerPropsIfNeeded$1(s,t,r)}})}function createDateTimeWithZoneIdTransformer$1(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new transformer_1$8.TypeTransformer({signature:DATE_TIME_WITH_ZONE_ID$1,isTypeInstance:function(n){return(0,neo4j_driver_core_1$k.isDateTime)(n)&&n.timeZoneId!=null},toStructure:function(n){var o=localDateTimeToEpochSecond$1(n.year,n.month,n.day,n.hour,n.minute,n.second,n.nanosecond),a=(0,neo4j_driver_core_1$k.int)(n.nanosecond),u=n.timeZoneId;return new packstream_1$3.structure.Structure(DATE_TIME_WITH_ZONE_ID$1,[o,a,u])},fromStructure:function(n){packstream_1$3.structure.verifyStructSize("DateTimeWithZoneId",DATE_TIME_WITH_ZONE_ID_STRUCT_SIZE$1,n.size);var o=__read$4(n.fields,3),a=o[0],u=o[1],s=o[2],l=(0,temporal_factory_1$1.epochSecondAndNanoToLocalDateTime)(a,u),c=new neo4j_driver_core_1$k.DateTime(l.year,l.month,l.day,l.hour,l.minute,l.second,l.nanosecond,null,s);return convertIntegerPropsIfNeeded$1(c,t,r)}})}function createDateTimeWithOffsetTransformer$1(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new transformer_1$8.TypeTransformer({signature:DATE_TIME_WITH_ZONE_OFFSET$1,isTypeInstance:function(n){return(0,neo4j_driver_core_1$k.isDateTime)(n)&&n.timeZoneId==null},toStructure:function(n){var o=localDateTimeToEpochSecond$1(n.year,n.month,n.day,n.hour,n.minute,n.second,n.nanosecond),a=(0,neo4j_driver_core_1$k.int)(n.nanosecond),u=(0,neo4j_driver_core_1$k.int)(n.timeZoneOffsetSeconds);return new packstream_1$3.structure.Structure(DATE_TIME_WITH_ZONE_OFFSET$1,[o,a,u])},fromStructure:function(n){packstream_1$3.structure.verifyStructSize("DateTimeWithZoneOffset",DATE_TIME_WITH_ZONE_OFFSET_STRUCT_SIZE$1,n.size);var o=__read$4(n.fields,3),a=o[0],u=o[1],s=o[2],l=(0,temporal_factory_1$1.epochSecondAndNanoToLocalDateTime)(a,u),c=new neo4j_driver_core_1$k.DateTime(l.year,l.month,l.day,l.hour,l.minute,l.second,l.nanosecond,s,null);return convertIntegerPropsIfNeeded$1(c,t,r)}})}function convertIntegerPropsIfNeeded$1(e,t,r){if(!t&&!r)return e;var n=function(s){return r?s.toBigInt():s.toNumberOrInfinity()},o=Object.create(Object.getPrototypeOf(e));for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)===!0){var u=e[a];o[a]=(0,neo4j_driver_core_1$k.isInt)(u)?n(u):u}return Object.freeze(o),o}boltProtocolV2_transformer.default=__assign$c(__assign$c({},bolt_protocol_v1_transformer_1.default),{createPoint2DTransformer,createPoint3DTransformer,createDurationTransformer,createLocalTimeTransformer,createTimeTransformer,createDateTransformer,createLocalDateTimeTransformer,createDateTimeWithZoneIdTransformer:createDateTimeWithZoneIdTransformer$1,createDateTimeWithOffsetTransformer:createDateTimeWithOffsetTransformer$1});var __extends$d=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__importDefault$n=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV2,"__esModule",{value:!0});var bolt_protocol_v1_1$1=__importDefault$n(boltProtocolV1),packstream_1$2=__importDefault$n(packstream),neo4j_driver_core_1$j=lib$1,bolt_protocol_v2_transformer_1$1=__importDefault$n(boltProtocolV2_transformer),transformer_1$7=__importDefault$n(transformer),BOLT_PROTOCOL_V2=neo4j_driver_core_1$j.internal.constants.BOLT_PROTOCOL_V2,BoltProtocol$7=function(e){__extends$d(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._createPacker=function(r){return new packstream_1$2.default.Packer(r)},t.prototype._createUnpacker=function(r,n){return new packstream_1$2.default.Unpacker(r,n)},Object.defineProperty(t.prototype,"transformer",{get:function(){var r=this;return this._transformer===void 0&&(this._transformer=new transformer_1$7.default(Object.values(bolt_protocol_v2_transformer_1$1.default).map(function(n){return n(r._config,r._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return BOLT_PROTOCOL_V2},enumerable:!1,configurable:!0}),t}(bolt_protocol_v1_1$1.default);boltProtocolV2.default=BoltProtocol$7;var boltProtocolV3={},boltProtocolV3_transformer={},__assign$b=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$b=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign$b.apply(this,arguments)},__importDefault$m=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV3_transformer,"__esModule",{value:!0});var bolt_protocol_v2_transformer_1=__importDefault$m(boltProtocolV2_transformer);boltProtocolV3_transformer.default=__assign$b({},bolt_protocol_v2_transformer_1.default);var __extends$c=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__assign$a=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign$a.apply(this,arguments)},__importDefault$l=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV3,"__esModule",{value:!0});var bolt_protocol_v2_1$1=__importDefault$l(boltProtocolV2),request_message_1$5=__importDefault$l(requestMessage),bolt_protocol_util_1$1=boltProtocolUtil,stream_observers_1$5=streamObservers,bolt_protocol_v3_transformer_1$1=__importDefault$l(boltProtocolV3_transformer),transformer_1$6=__importDefault$l(transformer),neo4j_driver_core_1$i=lib$1;neo4j_driver_core_1$i.internal.bookmarks.Bookmarks;var BOLT_PROTOCOL_V3$2=neo4j_driver_core_1$i.internal.constants.BOLT_PROTOCOL_V3,TxConfig$1=neo4j_driver_core_1$i.internal.txConfig.TxConfig,CONTEXT$1="context",CALL_GET_ROUTING_TABLE="CALL dbms.cluster.routing.getRoutingTable($".concat(CONTEXT$1,")"),noOpObserver=new stream_observers_1$5.StreamObserver,BoltProtocol$6=function(e){__extends$c(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"version",{get:function(){return BOLT_PROTOCOL_V3$2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var r=this;return this._transformer===void 0&&(this._transformer=new transformer_1$6.default(Object.values(bolt_protocol_v3_transformer_1$1.default).map(function(n){return n(r._config,r._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.transformMetadata=function(r){return"t_first"in r&&(r.result_available_after=r.t_first,delete r.t_first),"t_last"in r&&(r.result_consumed_after=r.t_last,delete r.t_last),r},t.prototype.initialize=function(r){var n=this,o=r===void 0?{}:r,a=o.userAgent,u=o.authToken,s=o.onError,l=o.onComplete,c=new stream_observers_1$5.LoginObserver({onError:function(f){return n._onLoginError(f,s)},onCompleted:function(f){return n._onLoginCompleted(f,l)}});return this.write(request_message_1$5.default.hello(a,u),c,!0),c},t.prototype.prepareToClose=function(){this.write(request_message_1$5.default.goodbye(),noOpObserver,!0)},t.prototype.beginTransaction=function(r){var n=r===void 0?{}:r,o=n.bookmarks,a=n.txConfig,u=n.database,s=n.impersonatedUser,l=n.mode,c=n.beforeError,f=n.afterError,v=n.beforeComplete,b=n.afterComplete,$=new stream_observers_1$5.ResultStreamObserver({server:this._server,beforeError:c,afterError:f,beforeComplete:v,afterComplete:b});return $.prepareToHandleSingleResponse(),(0,bolt_protocol_util_1$1.assertDatabaseIsEmpty)(u,this._onProtocolError,$),(0,bolt_protocol_util_1$1.assertImpersonatedUserIsEmpty)(s,this._onProtocolError,$),this.write(request_message_1$5.default.begin({bookmarks:o,txConfig:a,mode:l}),$,!0),$},t.prototype.commitTransaction=function(r){var n=r===void 0?{}:r,o=n.beforeError,a=n.afterError,u=n.beforeComplete,s=n.afterComplete,l=new stream_observers_1$5.ResultStreamObserver({server:this._server,beforeError:o,afterError:a,beforeComplete:u,afterComplete:s});return l.prepareToHandleSingleResponse(),this.write(request_message_1$5.default.commit(),l,!0),l},t.prototype.rollbackTransaction=function(r){var n=r===void 0?{}:r,o=n.beforeError,a=n.afterError,u=n.beforeComplete,s=n.afterComplete,l=new stream_observers_1$5.ResultStreamObserver({server:this._server,beforeError:o,afterError:a,beforeComplete:u,afterComplete:s});return l.prepareToHandleSingleResponse(),this.write(request_message_1$5.default.rollback(),l,!0),l},t.prototype.run=function(r,n,o){var a=o===void 0?{}:o,u=a.bookmarks,s=a.txConfig,l=a.database,c=a.impersonatedUser,f=a.mode,v=a.beforeKeys,b=a.afterKeys,$=a.beforeError,E=a.afterError,w=a.beforeComplete,A=a.afterComplete,I=a.flush,R=I===void 0?!0:I,x=a.highRecordWatermark,N=x===void 0?Number.MAX_VALUE:x,D=a.lowRecordWatermark,V=D===void 0?Number.MAX_VALUE:D,Y=new stream_observers_1$5.ResultStreamObserver({server:this._server,beforeKeys:v,afterKeys:b,beforeError:$,afterError:E,beforeComplete:w,afterComplete:A,highRecordWatermark:N,lowRecordWatermark:V});return(0,bolt_protocol_util_1$1.assertDatabaseIsEmpty)(l,this._onProtocolError,Y),(0,bolt_protocol_util_1$1.assertImpersonatedUserIsEmpty)(c,this._onProtocolError,Y),this.write(request_message_1$5.default.runWithMetadata(r,n,{bookmarks:u,txConfig:s,mode:f}),Y,!1),this.write(request_message_1$5.default.pullAll(),Y,R),Y},t.prototype.requestRoutingInformation=function(r){var n,o=r.routingContext,a=o===void 0?{}:o,u=r.sessionContext,s=u===void 0?{}:u,l=r.onError,c=r.onCompleted,f=this.run(CALL_GET_ROUTING_TABLE,(n={},n[CONTEXT$1]=a,n),__assign$a(__assign$a({},s),{txConfig:TxConfig$1.empty()}));return new stream_observers_1$5.ProcedureRouteObserver({resultObserver:f,onProtocolError:this._onProtocolError,onError:l,onCompleted:c})},t}(bolt_protocol_v2_1$1.default);boltProtocolV3.default=BoltProtocol$6;var boltProtocolV4x0={},boltProtocolV4x0_transformer={},__assign$9=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$9=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign$9.apply(this,arguments)},__importDefault$k=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV4x0_transformer,"__esModule",{value:!0});var bolt_protocol_v3_transformer_1=__importDefault$k(boltProtocolV3_transformer);boltProtocolV4x0_transformer.default=__assign$9({},bolt_protocol_v3_transformer_1.default);var __extends$b=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__assign$8=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$8=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign$8.apply(this,arguments)},__importDefault$j=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV4x0,"__esModule",{value:!0});var bolt_protocol_v3_1$1=__importDefault$j(boltProtocolV3),request_message_1$4=__importDefault$j(requestMessage),bolt_protocol_util_1=boltProtocolUtil,stream_observers_1$4=streamObservers,bolt_protocol_v4x0_transformer_1$1=__importDefault$j(boltProtocolV4x0_transformer),transformer_1$5=__importDefault$j(transformer),neo4j_driver_core_1$h=lib$1;neo4j_driver_core_1$h.internal.bookmarks.Bookmarks;var _a$4=neo4j_driver_core_1$h.internal.constants,BOLT_PROTOCOL_V4_0$2=_a$4.BOLT_PROTOCOL_V4_0,FETCH_ALL$1=_a$4.FETCH_ALL,TxConfig=neo4j_driver_core_1$h.internal.txConfig.TxConfig,CONTEXT="context",DATABASE="database",CALL_GET_ROUTING_TABLE_MULTI_DB="CALL dbms.routing.getRoutingTable($".concat(CONTEXT,", $").concat(DATABASE,")"),BoltProtocol$5=function(e){__extends$b(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"version",{get:function(){return BOLT_PROTOCOL_V4_0$2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var r=this;return this._transformer===void 0&&(this._transformer=new transformer_1$5.default(Object.values(bolt_protocol_v4x0_transformer_1$1.default).map(function(n){return n(r._config,r._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.beginTransaction=function(r){var n=r===void 0?{}:r,o=n.bookmarks,a=n.txConfig,u=n.database,s=n.impersonatedUser,l=n.mode,c=n.beforeError,f=n.afterError,v=n.beforeComplete,b=n.afterComplete,$=new stream_observers_1$4.ResultStreamObserver({server:this._server,beforeError:c,afterError:f,beforeComplete:v,afterComplete:b});return $.prepareToHandleSingleResponse(),(0,bolt_protocol_util_1.assertImpersonatedUserIsEmpty)(s,this._onProtocolError,$),this.write(request_message_1$4.default.begin({bookmarks:o,txConfig:a,database:u,mode:l}),$,!0),$},t.prototype.run=function(r,n,o){var a=o===void 0?{}:o,u=a.bookmarks,s=a.txConfig,l=a.database,c=a.impersonatedUser,f=a.mode,v=a.beforeKeys,b=a.afterKeys,$=a.beforeError,E=a.afterError,w=a.beforeComplete,A=a.afterComplete,I=a.flush,R=I===void 0?!0:I,x=a.reactive,N=x===void 0?!1:x,D=a.fetchSize,V=D===void 0?FETCH_ALL$1:D,Y=a.highRecordWatermark,Q=Y===void 0?Number.MAX_VALUE:Y,te=a.lowRecordWatermark,de=te===void 0?Number.MAX_VALUE:te,ne=new stream_observers_1$4.ResultStreamObserver({server:this._server,reactive:N,fetchSize:V,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:v,afterKeys:b,beforeError:$,afterError:E,beforeComplete:w,afterComplete:A,highRecordWatermark:Q,lowRecordWatermark:de});(0,bolt_protocol_util_1.assertImpersonatedUserIsEmpty)(c,this._onProtocolError,ne);var ae=N;return this.write(request_message_1$4.default.runWithMetadata(r,n,{bookmarks:u,txConfig:s,database:l,mode:f}),ne,ae&&R),N||this.write(request_message_1$4.default.pull({n:V}),ne,R),ne},t.prototype._requestMore=function(r,n,o){this.write(request_message_1$4.default.pull({stmtId:r,n}),o,!0)},t.prototype._requestDiscard=function(r,n){this.write(request_message_1$4.default.discard({stmtId:r}),n,!0)},t.prototype._noOp=function(){},t.prototype.requestRoutingInformation=function(r){var n,o=r.routingContext,a=o===void 0?{}:o,u=r.databaseName,s=u===void 0?null:u,l=r.sessionContext,c=l===void 0?{}:l,f=r.onError,v=r.onCompleted,b=this.run(CALL_GET_ROUTING_TABLE_MULTI_DB,(n={},n[CONTEXT]=a,n[DATABASE]=s,n),__assign$8(__assign$8({},c),{txConfig:TxConfig.empty()}));return new stream_observers_1$4.ProcedureRouteObserver({resultObserver:b,onProtocolError:this._onProtocolError,onError:f,onCompleted:v})},t}(bolt_protocol_v3_1$1.default);boltProtocolV4x0.default=BoltProtocol$5;var boltProtocolV4x1={},boltProtocolV4x1_transformer={},__assign$7=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$7=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign$7.apply(this,arguments)},__importDefault$i=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV4x1_transformer,"__esModule",{value:!0});var bolt_protocol_v4x0_transformer_1=__importDefault$i(boltProtocolV4x0_transformer);boltProtocolV4x1_transformer.default=__assign$7({},bolt_protocol_v4x0_transformer_1.default);var __extends$a=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__importDefault$h=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV4x1,"__esModule",{value:!0});var bolt_protocol_v4x0_1$1=__importDefault$h(boltProtocolV4x0),request_message_1$3=__importDefault$h(requestMessage),stream_observers_1$3=streamObservers,neo4j_driver_core_1$g=lib$1,bolt_protocol_v4x1_transformer_1$1=__importDefault$h(boltProtocolV4x1_transformer),transformer_1$4=__importDefault$h(transformer),BOLT_PROTOCOL_V4_1=neo4j_driver_core_1$g.internal.constants.BOLT_PROTOCOL_V4_1,BoltProtocol$4=function(e){__extends$a(t,e);function t(r,n,o,a,u,s,l){a===void 0&&(a=function(){return null});var c=e.call(this,r,n,o,a,u,s)||this;return c._serversideRouting=l,c}return Object.defineProperty(t.prototype,"version",{get:function(){return BOLT_PROTOCOL_V4_1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var r=this;return this._transformer===void 0&&(this._transformer=new transformer_1$4.default(Object.values(bolt_protocol_v4x1_transformer_1$1.default).map(function(n){return n(r._config,r._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(r){var n=this,o=r===void 0?{}:r,a=o.userAgent,u=o.authToken,s=o.onError,l=o.onComplete,c=new stream_observers_1$3.LoginObserver({onError:function(f){return n._onLoginError(f,s)},onCompleted:function(f){return n._onLoginCompleted(f,l)}});return this.write(request_message_1$3.default.hello(a,u,this._serversideRouting),c,!0),c},t}(bolt_protocol_v4x0_1$1.default);boltProtocolV4x1.default=BoltProtocol$4;var boltProtocolV4x2={},boltProtocolV4x2_transformer={},__assign$6=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$6=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign$6.apply(this,arguments)},__importDefault$g=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV4x2_transformer,"__esModule",{value:!0});var bolt_protocol_v4x1_transformer_1=__importDefault$g(boltProtocolV4x1_transformer);boltProtocolV4x2_transformer.default=__assign$6({},bolt_protocol_v4x1_transformer_1.default);var __extends$9=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__importDefault$f=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV4x2,"__esModule",{value:!0});var bolt_protocol_v4x1_1$1=__importDefault$f(boltProtocolV4x1),neo4j_driver_core_1$f=lib$1,bolt_protocol_v4x2_transformer_1$1=__importDefault$f(boltProtocolV4x2_transformer),transformer_1$3=__importDefault$f(transformer),BOLT_PROTOCOL_V4_2=neo4j_driver_core_1$f.internal.constants.BOLT_PROTOCOL_V4_2,BoltProtocol$3=function(e){__extends$9(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"version",{get:function(){return BOLT_PROTOCOL_V4_2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var r=this;return this._transformer===void 0&&(this._transformer=new transformer_1$3.default(Object.values(bolt_protocol_v4x2_transformer_1$1.default).map(function(n){return n(r._config,r._log)}))),this._transformer},enumerable:!1,configurable:!0}),t}(bolt_protocol_v4x1_1$1.default);boltProtocolV4x2.default=BoltProtocol$3;var boltProtocolV4x3={},boltProtocolV4x3_transformer={},__assign$5=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$5=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign$5.apply(this,arguments)},__importDefault$e=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV4x3_transformer,"__esModule",{value:!0});var bolt_protocol_v4x2_transformer_1=__importDefault$e(boltProtocolV4x2_transformer);boltProtocolV4x3_transformer.default=__assign$5({},bolt_protocol_v4x2_transformer_1.default);var boltProtocolV5x0_utc_transformer={},boltProtocolV4x4_transformer={},__assign$4=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$4=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign$4.apply(this,arguments)},__importDefault$d=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV4x4_transformer,"__esModule",{value:!0});var bolt_protocol_v4x3_transformer_1$1=__importDefault$d(boltProtocolV4x3_transformer);boltProtocolV4x4_transformer.default=__assign$4({},bolt_protocol_v4x3_transformer_1$1.default);var __read$3=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__importDefault$c=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV5x0_utc_transformer,"__esModule",{value:!0});var packstream_1$1=packstream,neo4j_driver_core_1$e=lib$1,bolt_protocol_v4x4_transformer_1$2=__importDefault$c(boltProtocolV4x4_transformer),temporal_factory_1=temporalFactory,functional_1=functional,localDateTimeToEpochSecond=neo4j_driver_core_1$e.internal.temporalUtil.localDateTimeToEpochSecond,DATE_TIME_WITH_ZONE_OFFSET=73,DATE_TIME_WITH_ZONE_OFFSET_STRUCT_SIZE=3,DATE_TIME_WITH_ZONE_ID=105,DATE_TIME_WITH_ZONE_ID_STRUCT_SIZE=3;function createDateTimeWithZoneIdTransformer(e,t){var r=e.disableLosslessIntegers,n=e.useBigInt,o=bolt_protocol_v4x4_transformer_1$2.default.createDateTimeWithZoneIdTransformer(e);return o.extendsWith({signature:DATE_TIME_WITH_ZONE_ID,fromStructure:function(a){packstream_1$1.structure.verifyStructSize("DateTimeWithZoneId",DATE_TIME_WITH_ZONE_ID_STRUCT_SIZE,a.size);var u=__read$3(a.fields,3),s=u[0],l=u[1],c=u[2],f=getTimeInZoneId(c,s,l),v=new neo4j_driver_core_1$e.DateTime(f.year,f.month,f.day,f.hour,f.minute,f.second,(0,neo4j_driver_core_1$e.int)(l),f.timeZoneOffsetSeconds,c);return convertIntegerPropsIfNeeded(v,r,n)},toStructure:function(a){var u=localDateTimeToEpochSecond(a.year,a.month,a.day,a.hour,a.minute,a.second,a.nanosecond),s=a.timeZoneOffsetSeconds!=null?a.timeZoneOffsetSeconds:getOffsetFromZoneId(a.timeZoneId,u,a.nanosecond);a.timeZoneOffsetSeconds==null&&t.warn('DateTime objects without "timeZoneOffsetSeconds" property are prune to bugs related to ambiguous times. For instance, 2022-10-30T2:30:00[Europe/Berlin] could be GMT+1 or GMT+2.');var l=u.subtract(s),c=(0,neo4j_driver_core_1$e.int)(a.nanosecond),f=a.timeZoneId;return new packstream_1$1.structure.Structure(DATE_TIME_WITH_ZONE_ID,[l,c,f])}})}function getOffsetFromZoneId(e,t,r){var n=getTimeInZoneId(e,t,r),o=localDateTimeToEpochSecond(n.year,n.month,n.day,n.hour,n.minute,n.second,r),a=o.subtract(t),u=t.subtract(a),s=getTimeInZoneId(e,u,r),l=localDateTimeToEpochSecond(s.year,s.month,s.day,s.hour,s.minute,s.second,r),c=l.subtract(u);return c}function getTimeInZoneId(e,t,r){var n=new Intl.DateTimeFormat("en-US",{timeZone:e,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,era:"narrow"}),o=(0,neo4j_driver_core_1$e.int)(t).multiply(1e3).add((0,neo4j_driver_core_1$e.int)(r).div(1e6)).toNumber(),a=n.formatToParts(o),u=a.reduce(function(l,c){return c.type==="era"?l.adjustEra=c.value.toUpperCase()==="B"?function(f){return f.subtract(1).negate()}:functional_1.identity:c.type!=="literal"&&(l[c.type]=(0,neo4j_driver_core_1$e.int)(c.value)),l},{});u.year=u.adjustEra(u.year);var s=localDateTimeToEpochSecond(u.year,u.month,u.day,u.hour,u.minute,u.second,u.nanosecond);return u.timeZoneOffsetSeconds=s.subtract(t),u.hour=u.hour.modulo(24),u}function createDateTimeWithOffsetTransformer(e){var t=e.disableLosslessIntegers,r=e.useBigInt,n=bolt_protocol_v4x4_transformer_1$2.default.createDateTimeWithOffsetTransformer(e);return n.extendsWith({signature:DATE_TIME_WITH_ZONE_OFFSET,toStructure:function(o){var a=localDateTimeToEpochSecond(o.year,o.month,o.day,o.hour,o.minute,o.second,o.nanosecond),u=(0,neo4j_driver_core_1$e.int)(o.nanosecond),s=(0,neo4j_driver_core_1$e.int)(o.timeZoneOffsetSeconds),l=a.subtract(s);return new packstream_1$1.structure.Structure(DATE_TIME_WITH_ZONE_OFFSET,[l,u,s])},fromStructure:function(o){packstream_1$1.structure.verifyStructSize("DateTimeWithZoneOffset",DATE_TIME_WITH_ZONE_OFFSET_STRUCT_SIZE,o.size);var a=__read$3(o.fields,3),u=a[0],s=a[1],l=a[2],c=(0,neo4j_driver_core_1$e.int)(u).add(l),f=(0,temporal_factory_1.epochSecondAndNanoToLocalDateTime)(c,s),v=new neo4j_driver_core_1$e.DateTime(f.year,f.month,f.day,f.hour,f.minute,f.second,f.nanosecond,l,null);return convertIntegerPropsIfNeeded(v,t,r)}})}function convertIntegerPropsIfNeeded(e,t,r){if(!t&&!r)return e;var n=function(s){return r?s.toBigInt():s.toNumberOrInfinity()},o=Object.create(Object.getPrototypeOf(e));for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)===!0){var u=e[a];o[a]=(0,neo4j_driver_core_1$e.isInt)(u)?n(u):u}return Object.freeze(o),o}boltProtocolV5x0_utc_transformer.default={createDateTimeWithZoneIdTransformer,createDateTimeWithOffsetTransformer};var __extends$8=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__assign$3=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$3=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign$3.apply(this,arguments)},__importDefault$b=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV4x3,"__esModule",{value:!0});var bolt_protocol_v4x2_1$1=__importDefault$b(boltProtocolV4x2),request_message_1$2=__importDefault$b(requestMessage),stream_observers_1$2=streamObservers,bolt_protocol_v4x3_transformer_1=__importDefault$b(boltProtocolV4x3_transformer),bolt_protocol_v5x0_utc_transformer_1$2=__importDefault$b(boltProtocolV5x0_utc_transformer),transformer_1$2=__importDefault$b(transformer),neo4j_driver_core_1$d=lib$1,Bookmarks$2=neo4j_driver_core_1$d.internal.bookmarks.Bookmarks,BOLT_PROTOCOL_V4_3=neo4j_driver_core_1$d.internal.constants.BOLT_PROTOCOL_V4_3,BoltProtocol$2=function(e){__extends$8(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"version",{get:function(){return BOLT_PROTOCOL_V4_3},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var r=this;return this._transformer===void 0&&(this._transformer=new transformer_1$2.default(Object.values(bolt_protocol_v4x3_transformer_1.default).map(function(n){return n(r._config,r._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.requestRoutingInformation=function(r){var n=r.routingContext,o=n===void 0?{}:n,a=r.databaseName,u=a===void 0?null:a,s=r.sessionContext,l=s===void 0?{}:s,c=r.onError,f=r.onCompleted,v=new stream_observers_1$2.RouteObserver({onProtocolError:this._onProtocolError,onError:c,onCompleted:f}),b=l.bookmarks||Bookmarks$2.empty();return this.write(request_message_1$2.default.route(o,b.values(),u),v,!0),v},t.prototype.initialize=function(r){var n=this,o=r===void 0?{}:r,a=o.userAgent,u=o.authToken,s=o.onError,l=o.onComplete,c=new stream_observers_1$2.LoginObserver({onError:function(f){return n._onLoginError(f,s)},onCompleted:function(f){return f.patch_bolt!==void 0&&n._applyPatches(f.patch_bolt),n._onLoginCompleted(f,l)}});return this.write(request_message_1$2.default.hello(a,u,this._serversideRouting,["utc"]),c,!0),c},t.prototype._applyPatches=function(r){r.includes("utc")&&this._applyUtcPatch()},t.prototype._applyUtcPatch=function(){var r=this;this._transformer=new transformer_1$2.default(Object.values(__assign$3(__assign$3({},bolt_protocol_v4x3_transformer_1.default),bolt_protocol_v5x0_utc_transformer_1$2.default)).map(function(n){return n(r._config,r._log)}))},t}(bolt_protocol_v4x2_1$1.default);boltProtocolV4x3.default=BoltProtocol$2;var boltProtocolV4x4={},__extends$7=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__assign$2=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$2=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign$2.apply(this,arguments)},__importDefault$a=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV4x4,"__esModule",{value:!0});var bolt_protocol_v4x3_1$1=__importDefault$a(boltProtocolV4x3),neo4j_driver_core_1$c=lib$1,request_message_1$1=__importDefault$a(requestMessage),stream_observers_1$1=streamObservers,bolt_protocol_v4x4_transformer_1$1=__importDefault$a(boltProtocolV4x4_transformer),bolt_protocol_v5x0_utc_transformer_1$1=__importDefault$a(boltProtocolV5x0_utc_transformer),transformer_1$1=__importDefault$a(transformer),_a$3=neo4j_driver_core_1$c.internal.constants,BOLT_PROTOCOL_V4_4$2=_a$3.BOLT_PROTOCOL_V4_4,FETCH_ALL=_a$3.FETCH_ALL,Bookmarks$1=neo4j_driver_core_1$c.internal.bookmarks.Bookmarks,BoltProtocol$1=function(e){__extends$7(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"version",{get:function(){return BOLT_PROTOCOL_V4_4$2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var r=this;return this._transformer===void 0&&(this._transformer=new transformer_1$1.default(Object.values(bolt_protocol_v4x4_transformer_1$1.default).map(function(n){return n(r._config,r._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.requestRoutingInformation=function(r){var n=r.routingContext,o=n===void 0?{}:n,a=r.databaseName,u=a===void 0?null:a,s=r.impersonatedUser,l=s===void 0?null:s,c=r.sessionContext,f=c===void 0?{}:c,v=r.onError,b=r.onCompleted,$=new stream_observers_1$1.RouteObserver({onProtocolError:this._onProtocolError,onError:v,onCompleted:b}),E=f.bookmarks||Bookmarks$1.empty();return this.write(request_message_1$1.default.routeV4x4(o,E.values(),{databaseName:u,impersonatedUser:l}),$,!0),$},t.prototype.run=function(r,n,o){var a=o===void 0?{}:o,u=a.bookmarks,s=a.txConfig,l=a.database,c=a.mode,f=a.impersonatedUser,v=a.beforeKeys,b=a.afterKeys,$=a.beforeError,E=a.afterError,w=a.beforeComplete,A=a.afterComplete,I=a.flush,R=I===void 0?!0:I,x=a.reactive,N=x===void 0?!1:x,D=a.fetchSize,V=D===void 0?FETCH_ALL:D,Y=a.highRecordWatermark,Q=Y===void 0?Number.MAX_VALUE:Y,te=a.lowRecordWatermark,de=te===void 0?Number.MAX_VALUE:te,ne=new stream_observers_1$1.ResultStreamObserver({server:this._server,reactive:N,fetchSize:V,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:v,afterKeys:b,beforeError:$,afterError:E,beforeComplete:w,afterComplete:A,highRecordWatermark:Q,lowRecordWatermark:de}),ae=N;return this.write(request_message_1$1.default.runWithMetadata(r,n,{bookmarks:u,txConfig:s,database:l,mode:c,impersonatedUser:f}),ne,ae&&R),N||this.write(request_message_1$1.default.pull({n:V}),ne,R),ne},t.prototype.beginTransaction=function(r){var n=r===void 0?{}:r,o=n.bookmarks,a=n.txConfig,u=n.database,s=n.mode,l=n.impersonatedUser,c=n.beforeError,f=n.afterError,v=n.beforeComplete,b=n.afterComplete,$=new stream_observers_1$1.ResultStreamObserver({server:this._server,beforeError:c,afterError:f,beforeComplete:v,afterComplete:b});return $.prepareToHandleSingleResponse(),this.write(request_message_1$1.default.begin({bookmarks:o,txConfig:a,database:u,mode:s,impersonatedUser:l}),$,!0),$},t.prototype._applyUtcPatch=function(){var r=this;this._transformer=new transformer_1$1.default(Object.values(__assign$2(__assign$2({},bolt_protocol_v4x4_transformer_1$1.default),bolt_protocol_v5x0_utc_transformer_1$1.default)).map(function(n){return n(r._config,r._log)}))},t}(bolt_protocol_v4x3_1$1.default);boltProtocolV4x4.default=BoltProtocol$1;var boltProtocolV5x0={},boltProtocolV5x0_transformer={},__assign$1=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign$1=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign$1.apply(this,arguments)},__read$2=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__importDefault$9=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV5x0_transformer,"__esModule",{value:!0});var packstream_1=packstream,neo4j_driver_core_1$b=lib$1,bolt_protocol_v4x4_transformer_1=__importDefault$9(boltProtocolV4x4_transformer),bolt_protocol_v5x0_utc_transformer_1=__importDefault$9(boltProtocolV5x0_utc_transformer),NODE_STRUCT_SIZE=4,RELATIONSHIP_STRUCT_SIZE=8,UNBOUND_RELATIONSHIP_STRUCT_SIZE=4;function createNodeTransformer(e){var t=bolt_protocol_v4x4_transformer_1.default.createNodeTransformer(e);return t.extendsWith({fromStructure:function(r){packstream_1.structure.verifyStructSize("Node",NODE_STRUCT_SIZE,r.size);var n=__read$2(r.fields,4),o=n[0],a=n[1],u=n[2],s=n[3];return new neo4j_driver_core_1$b.Node(o,a,u,s)}})}function createRelationshipTransformer(e){var t=bolt_protocol_v4x4_transformer_1.default.createRelationshipTransformer(e);return t.extendsWith({fromStructure:function(r){packstream_1.structure.verifyStructSize("Relationship",RELATIONSHIP_STRUCT_SIZE,r.size);var n=__read$2(r.fields,8),o=n[0],a=n[1],u=n[2],s=n[3],l=n[4],c=n[5],f=n[6],v=n[7];return new neo4j_driver_core_1$b.Relationship(o,a,u,s,l,c,f,v)}})}function createUnboundRelationshipTransformer(e){var t=bolt_protocol_v4x4_transformer_1.default.createUnboundRelationshipTransformer(e);return t.extendsWith({fromStructure:function(r){packstream_1.structure.verifyStructSize("UnboundRelationship",UNBOUND_RELATIONSHIP_STRUCT_SIZE,r.size);var n=__read$2(r.fields,4),o=n[0],a=n[1],u=n[2],s=n[3];return new neo4j_driver_core_1$b.UnboundRelationship(o,a,u,s)}})}boltProtocolV5x0_transformer.default=__assign$1(__assign$1(__assign$1({},bolt_protocol_v4x4_transformer_1.default),bolt_protocol_v5x0_utc_transformer_1.default),{createNodeTransformer,createRelationshipTransformer,createUnboundRelationshipTransformer});var __extends$6=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(boltProtocolV5x0,"__esModule",{value:!0});var bolt_protocol_v4x4_1$1=__importDefault$8(boltProtocolV4x4),bolt_protocol_v5x0_transformer_1=__importDefault$8(boltProtocolV5x0_transformer),transformer_1=__importDefault$8(transformer),request_message_1=__importDefault$8(requestMessage),stream_observers_1=streamObservers,neo4j_driver_core_1$a=lib$1,BOLT_PROTOCOL_V5_0=neo4j_driver_core_1$a.internal.constants.BOLT_PROTOCOL_V5_0,BoltProtocol=function(e){__extends$6(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"version",{get:function(){return BOLT_PROTOCOL_V5_0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var r=this;return this._transformer===void 0&&(this._transformer=new transformer_1.default(Object.values(bolt_protocol_v5x0_transformer_1.default).map(function(n){return n(r._config,r._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(r){var n=this,o=r===void 0?{}:r,a=o.userAgent,u=o.authToken,s=o.onError,l=o.onComplete,c=new stream_observers_1.LoginObserver({onError:function(f){return n._onLoginError(f,s)},onCompleted:function(f){return n._onLoginCompleted(f,l)}});return this.write(request_message_1.default.hello(a,u,this._serversideRouting),c,!0),c},t}(bolt_protocol_v4x4_1$1.default);boltProtocolV5x0.default=BoltProtocol;var responseHandler={};Object.defineProperty(responseHandler,"__esModule",{value:!0});var neo4j_driver_core_1$9=lib$1,SUCCESS=112,RECORD=113,IGNORED=126,FAILURE=127;function NO_OP(){}function NO_OP_IDENTITY(e){return e}var NO_OP_OBSERVER={onNext:NO_OP,onCompleted:NO_OP,onError:NO_OP},ResponseHandler=function(){function e(t){var r=t===void 0?{}:t,n=r.transformMetadata,o=r.log,a=r.observer;this._pendingObservers=[],this._log=o,this._transformMetadata=n||NO_OP_IDENTITY,this._observer=Object.assign({onPendingObserversChange:NO_OP,onError:NO_OP,onFailure:NO_OP,onErrorApplyTransformation:NO_OP_IDENTITY},a)}return Object.defineProperty(e.prototype,"currentFailure",{get:function(){return this._currentFailure},enumerable:!1,configurable:!0}),e.prototype.handleResponse=function(t){var r=t.fields[0];switch(t.signature){case RECORD:this._log.isDebugEnabled()&&this._log.debug("S: RECORD ".concat(neo4j_driver_core_1$9.json.stringify(t))),this._currentObserver.onNext(r);break;case SUCCESS:this._log.isDebugEnabled()&&this._log.debug("S: SUCCESS ".concat(neo4j_driver_core_1$9.json.stringify(t)));try{var n=this._transformMetadata(r);this._currentObserver.onCompleted(n)}finally{this._updateCurrentObserver()}break;case FAILURE:this._log.isDebugEnabled()&&this._log.debug("S: FAILURE ".concat(neo4j_driver_core_1$9.json.stringify(t)));try{var o=_standardizeCode(r.code),a=(0,neo4j_driver_core_1$9.newError)(r.message,o);this._currentFailure=this._observer.onErrorApplyTransformation(a),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._observer.onFailure(this._currentFailure)}break;case IGNORED:this._log.isDebugEnabled()&&this._log.debug("S: IGNORED ".concat(neo4j_driver_core_1$9.json.stringify(t)));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,neo4j_driver_core_1$9.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._observer.onError((0,neo4j_driver_core_1$9.newError)("Unknown Bolt protocol message: "+t))}},e.prototype._updateCurrentObserver=function(){this._currentObserver=this._pendingObservers.shift(),this._observer.onPendingObserversChange(this._pendingObservers.length)},e.prototype._queueObserver=function(t){return t=t||NO_OP_OBSERVER,t.onCompleted=t.onCompleted||NO_OP,t.onError=t.onError||NO_OP,t.onNext=t.onNext||NO_OP,this._currentObserver===void 0?this._currentObserver=t:this._pendingObservers.push(t),this._observer.onPendingObserversChange(this._pendingObservers.length),!0},e.prototype._notifyErrorToObservers=function(t){for(this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(t);this._pendingObservers.length>0;){var r=this._pendingObservers.shift();r&&r.onError&&r.onError(t)}},e.prototype.hasOngoingObservableRequests=function(){return this._currentObserver!=null||this._pendingObservers.length>0},e.prototype._resetFailure=function(){this._currentFailure=null},e}();responseHandler.default=ResponseHandler;function _standardizeCode(e){return e==="Neo.TransientError.Transaction.Terminated"?"Neo.ClientError.Transaction.Terminated":e==="Neo.TransientError.Transaction.LockClientStopped"?"Neo.ClientError.Transaction.LockClientStopped":e}var __importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(create$1,"__esModule",{value:!0});var neo4j_driver_core_1$8=lib$1,bolt_protocol_v1_1=__importDefault$7(boltProtocolV1),bolt_protocol_v2_1=__importDefault$7(boltProtocolV2),bolt_protocol_v3_1=__importDefault$7(boltProtocolV3),bolt_protocol_v4x0_1=__importDefault$7(boltProtocolV4x0),bolt_protocol_v4x1_1=__importDefault$7(boltProtocolV4x1),bolt_protocol_v4x2_1=__importDefault$7(boltProtocolV4x2),bolt_protocol_v4x3_1=__importDefault$7(boltProtocolV4x3),bolt_protocol_v4x4_1=__importDefault$7(boltProtocolV4x4),bolt_protocol_v5x0_1=__importDefault$7(boltProtocolV5x0),response_handler_1=__importDefault$7(responseHandler);function create(e){var t=e===void 0?{}:e,r=t.version,n=t.chunker,o=t.dechunker,a=t.channel,u=t.disableLosslessIntegers,s=t.useBigInt,l=t.serversideRouting,c=t.server,f=t.log,v=t.observer,b=function($){var E=new response_handler_1.default({transformMetadata:$.transformMetadata.bind($),log:f,observer:v});return a.onerror=v.onError.bind(v),a.onmessage=function(w){return o.write(w)},o.onmessage=function(w){try{E.handleResponse($.unpack(w))}catch(A){return v.onError(A)}},E};return createProtocol(r,c,n,{disableLosslessIntegers:u,useBigInt:s},l,b,v.onProtocolError.bind(v),f)}create$1.default=create;function createProtocol(e,t,r,n,o,a,u,s){switch(e){case 1:return new bolt_protocol_v1_1.default(t,r,n,a,s,u);case 2:return new bolt_protocol_v2_1.default(t,r,n,a,s,u);case 3:return new bolt_protocol_v3_1.default(t,r,n,a,s,u);case 4:return new bolt_protocol_v4x0_1.default(t,r,n,a,s,u);case 4.1:return new bolt_protocol_v4x1_1.default(t,r,n,a,s,u,o);case 4.2:return new bolt_protocol_v4x2_1.default(t,r,n,a,s,u,o);case 4.3:return new bolt_protocol_v4x3_1.default(t,r,n,a,s,u,o);case 4.4:return new bolt_protocol_v4x4_1.default(t,r,n,a,s,u,o);case 5:return new bolt_protocol_v5x0_1.default(t,r,n,a,s,u,o);default:throw(0,neo4j_driver_core_1$8.newError)("Unknown Bolt protocol version: "+e)}}(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(l,c,f,v){v===void 0&&(v=f);var b=Object.getOwnPropertyDescriptor(c,f);(!b||("get"in b?!c.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,v,b)}:function(l,c,f,v){v===void 0&&(v=f),l[v]=c[f]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(l,c){for(var f in l)f!=="default"&&!Object.prototype.hasOwnProperty.call(c,f)&&t(c,l,f)},n=commonjsGlobal&&commonjsGlobal.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.RawRoutingTable=e.BoltProtocol=void 0;var o=n(handshake$1),a=n(create$1),u=n(boltProtocolV4x3),s=n(routingTableRaw);r(streamObservers,e),e.BoltProtocol=u.default,e.RawRoutingTable=s.default,e.default={handshake:o.default,create:a.default}})(bolt);var pool$1={},poolConfig={};Object.defineProperty(poolConfig,"__esModule",{value:!0});poolConfig.DEFAULT_ACQUISITION_TIMEOUT=poolConfig.DEFAULT_MAX_SIZE=void 0;var DEFAULT_MAX_SIZE=100;poolConfig.DEFAULT_MAX_SIZE=DEFAULT_MAX_SIZE;var DEFAULT_ACQUISITION_TIMEOUT=60*1e3;poolConfig.DEFAULT_ACQUISITION_TIMEOUT=DEFAULT_ACQUISITION_TIMEOUT;var PoolConfig=function(){function e(t,r){this.maxSize=valueOrDefault(t,DEFAULT_MAX_SIZE),this.acquisitionTimeout=valueOrDefault(r,DEFAULT_ACQUISITION_TIMEOUT)}return e.defaultConfig=function(){return new e(DEFAULT_MAX_SIZE,DEFAULT_ACQUISITION_TIMEOUT)},e.fromDriverConfig=function(t){var r=isConfigured(t.maxConnectionPoolSize),n=r?t.maxConnectionPoolSize:DEFAULT_MAX_SIZE,o=isConfigured(t.connectionAcquisitionTimeout),a=o?t.connectionAcquisitionTimeout:DEFAULT_ACQUISITION_TIMEOUT;return new e(n,a)},e}();poolConfig.default=PoolConfig;function valueOrDefault(e,t){return e===0||e?e:t}function isConfigured(e){return e===0||e}var pool={},__awaiter$4=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function s(f){try{c(n.next(f))}catch(v){u(v)}}function l(f){try{c(n.throw(f))}catch(v){u(v)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((n=n.apply(e,t||[])).next())})},__generator$4=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},__importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pool,"__esModule",{value:!0});var pool_config_1=__importDefault$6(poolConfig),neo4j_driver_core_1$7=lib$1,Logger$1=neo4j_driver_core_1$7.internal.logger.Logger,Pool=function(){function e(t){var r=t===void 0?{}:t,n=r.create,o=n===void 0?function(I,R){return Promise.resolve()}:n,a=r.destroy,u=a===void 0?function(I){return Promise.resolve()}:a,s=r.validate,l=s===void 0?function(I){return!0}:s,c=r.installIdleObserver,f=c===void 0?function(I,R){}:c,v=r.removeIdleObserver,b=v===void 0?function(I){}:v,$=r.config,E=$===void 0?pool_config_1.default.defaultConfig():$,w=r.log,A=w===void 0?Logger$1.noOp():w;this._create=o,this._destroy=u,this._validate=l,this._installIdleObserver=f,this._removeIdleObserver=b,this._maxSize=E.maxSize,this._acquisitionTimeout=E.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._release=this._release.bind(this),this._log=A,this._closed=!1}return e.prototype.acquire=function(t){var r=this,n=t.asKey(),o=this._acquireRequests,a=o[n];return a||(o[n]=[]),new Promise(function(u,s){var l=null,c=setTimeout(function(){var f=o[n];if(f&&(o[n]=f.filter(function($){return $!==l})),!l.isCompleted()){var v=r.activeResourceCount(t),b=r.has(t)?r._pools[n].length:0;l.reject((0,neo4j_driver_core_1$7.newError)("Connection acquisition timed out in ".concat(r._acquisitionTimeout," ms. Pool status: Active conn count = ").concat(v,", Idle conn count = ").concat(b,".")))}},r._acquisitionTimeout);l=new PendingRequest(n,u,s,c,r._log),o[n].push(l),r._processPendingAcquireRequests(t)})},e.prototype.purge=function(t){return this._purgeKey(t.asKey())},e.prototype.close=function(){return __awaiter$4(this,void 0,void 0,function(){var t=this;return __generator$4(this,function(r){switch(r.label){case 0:return this._closed=!0,[4,Promise.all(Object.keys(this._pools).map(function(n){return t._purgeKey(n)}))];case 1:return[2,r.sent()]}})})},e.prototype.keepAll=function(t){var r=this,n=t.map(function(u){return u.asKey()}),o=Object.keys(this._pools),a=o.filter(function(u){return n.indexOf(u)===-1});return Promise.all(a.map(function(u){return r._purgeKey(u)}))},e.prototype.has=function(t){return t.asKey()in this._pools},e.prototype.activeResourceCount=function(t){return this._activeResourceCounts[t.asKey()]||0},e.prototype._getOrInitializePoolFor=function(t){var r=this._pools[t];return r||(r=new SingleAddressPool,this._pools[t]=r,this._pendingCreates[t]=0),r},e.prototype._acquire=function(t){return __awaiter$4(this,void 0,void 0,function(){var r,n,o,a,u,s=this;return __generator$4(this,function(l){switch(l.label){case 0:if(this._closed)throw(0,neo4j_driver_core_1$7.newError)("Pool is closed, it is no more able to serve requests.");r=t.asKey(),n=this._getOrInitializePoolFor(r),l.label=1;case 1:return n.length?(o=n.pop(),this._validate(o)?(this._removeIdleObserver&&this._removeIdleObserver(o),resourceAcquired(r,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(o," acquired from the pool ").concat(r)),[2,{resource:o,pool:n}]):[3,2]):[3,5];case 2:return[4,this._destroy(o)];case 3:l.sent(),l.label=4;case 4:return[3,1];case 5:if(this._maxSize>0&&(a=this.activeResourceCount(t)+this._pendingCreates[r],a>=this._maxSize))return[2,{resource:null,pool:n}];this._pendingCreates[r]=this._pendingCreates[r]+1,l.label=6;case 6:return l.trys.push([6,,8,9]),[4,this._create(t,function(c,f){return s._release(c,f,n)})];case 7:return u=l.sent(),resourceAcquired(r,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(u," created for the pool ").concat(r)),[3,9];case 8:return this._pendingCreates[r]=this._pendingCreates[r]-1,[7];case 9:return[2,{resource:u,pool:n}]}})})},e.prototype._release=function(t,r,n){return __awaiter$4(this,void 0,void 0,function(){var o,a=this;return __generator$4(this,function(u){switch(u.label){case 0:return o=t.asKey(),n.isActive()?this._validate(r)?[3,2]:(this._log.isDebugEnabled()&&this._log.debug("".concat(r," destroyed and can't be released to the pool ").concat(o," because it is not functional")),[4,this._destroy(r)]):[3,4];case 1:return u.sent(),[3,3];case 2:this._installIdleObserver&&this._installIdleObserver(r,{onError:function(s){a._log.debug("Idle connection ".concat(r," destroyed because of error: ").concat(s));var l=a._pools[o];l&&(a._pools[o]=l.filter(function(c){return c!==r})),a._destroy(r).catch(function(){})}}),n.push(r),this._log.isDebugEnabled()&&this._log.debug("".concat(r," released to the pool ").concat(o)),u.label=3;case 3:return[3,6];case 4:return this._log.isDebugEnabled()&&this._log.debug("".concat(r," destroyed and can't be released to the pool ").concat(o," because pool has been purged")),[4,this._destroy(r)];case 5:u.sent(),u.label=6;case 6:return resourceReleased(o,this._activeResourceCounts),this._processPendingAcquireRequests(t),[2]}})})},e.prototype._purgeKey=function(t){return __awaiter$4(this,void 0,void 0,function(){var r,n,o;return __generator$4(this,function(a){switch(a.label){case 0:if(r=this._pools[t],n=[],!r)return[3,2];for(;r.length;)o=r.pop(),this._removeIdleObserver&&this._removeIdleObserver(o),n.push(this._destroy(o));return r.close(),delete this._pools[t],[4,Promise.all(n)];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype._processPendingAcquireRequests=function(t){var r=this,n=t.asKey(),o=this._acquireRequests[n];if(o){var a=o.shift();a?this._acquire(t).catch(function(u){return a.reject(u),{resource:null}}).then(function(u){var s=u.resource,l=u.pool;s?a.isCompleted()?r._release(t,s,l):a.resolve(s):a.isCompleted()||(r._acquireRequests[n]||(r._acquireRequests[n]=[]),r._acquireRequests[n].unshift(a))}):delete this._acquireRequests[n]}},e}();function resourceAcquired(e,t){var r=t[e]||0;t[e]=r+1}function resourceReleased(e,t){var r=t[e]||0,n=r-1;n>0?t[e]=n:delete t[e]}var PendingRequest=function(){function e(t,r,n,o,a){this._key=t,this._resolve=r,this._reject=n,this._timeoutId=o,this._log=a,this._completed=!1}return e.prototype.isCompleted=function(){return this._completed},e.prototype.resolve=function(t){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug("".concat(t," acquired from the pool ").concat(this._key)),this._resolve(t))},e.prototype.reject=function(t){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(t))},e}(),SingleAddressPool=function(){function e(){this._active=!0,this._elements=[]}return e.prototype.isActive=function(){return this._active},e.prototype.close=function(){this._active=!1},e.prototype.filter=function(t){return this._elements=this._elements.filter(t),this},Object.defineProperty(e.prototype,"length",{get:function(){return this._elements.length},enumerable:!1,configurable:!0}),e.prototype.pop=function(){return this._elements.pop()},e.prototype.push=function(t){return this._elements.push(t)},e}();pool.default=Pool;(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(s,l,c,f){f===void 0&&(f=c);var v=Object.getOwnPropertyDescriptor(l,c);(!v||("get"in v?!l.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(s,f,v)}:function(s,l,c,f){f===void 0&&(f=c),s[f]=l[c]}),r=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}:function(s,l){s.default=l}),n=commonjsGlobal&&commonjsGlobal.__importStar||function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var c in s)c!=="default"&&Object.prototype.hasOwnProperty.call(s,c)&&t(l,s,c);return r(l,s),l},o=commonjsGlobal&&commonjsGlobal.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_MAX_SIZE=e.DEFAULT_ACQUISITION_TIMEOUT=e.PoolConfig=e.Pool=void 0;var a=n(poolConfig);e.PoolConfig=a.default,Object.defineProperty(e,"DEFAULT_ACQUISITION_TIMEOUT",{enumerable:!0,get:function(){return a.DEFAULT_ACQUISITION_TIMEOUT}}),Object.defineProperty(e,"DEFAULT_MAX_SIZE",{enumerable:!0,get:function(){return a.DEFAULT_MAX_SIZE}});var u=o(pool);e.Pool=u.default,e.default=u.default})(pool$1);var connectionProvider={},connectionProviderSingle={},__extends$5=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(connectionProviderSingle,"__esModule",{value:!0});var neo4j_driver_core_1$6=lib$1,SingleConnectionProvider=function(e){__extends$5(t,e);function t(r){var n=e.call(this)||this;return n._connection=r,n}return t.prototype.acquireConnection=function(r){var n=r===void 0?{}:r;n.accessMode,n.database,n.bookmarks;var o=this._connection;return this._connection=null,Promise.resolve(o)},t}(neo4j_driver_core_1$6.ConnectionProvider);connectionProviderSingle.default=SingleConnectionProvider;var connectionProviderPooled={},connection$1={},connection={};Object.defineProperty(connection,"__esModule",{value:!0});var Connection=function(){function e(t){this._errorHandler=t}return Object.defineProperty(e.prototype,"id",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"databaseId",{get:function(){throw new Error("not implemented")},set:function(t){throw new Error("not implemented")},enumerable:!1,configurable:!0}),e.prototype.isOpen=function(){throw new Error("not implemented")},e.prototype.protocol=function(){throw new Error("not implemented")},Object.defineProperty(e.prototype,"address",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){throw new Error("not implemented")},set:function(t){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"server",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),e.prototype.connect=function(t,r){throw new Error("not implemented")},e.prototype.write=function(t,r,n){throw new Error("not implemented")},e.prototype.resetAndFlush=function(){throw new Error("not implemented")},e.prototype.hasOngoingObservableRequests=function(){throw new Error("not implemented")},e.prototype.close=function(){throw new Error("not implemented")},e.prototype.handleAndTransformError=function(t,r){return this._errorHandler?this._errorHandler.handleAndTransformError(t,r):t},e}();connection.default=Connection;var connectionChannel={},__extends$4=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__awaiter$3=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function s(f){try{c(n.next(f))}catch(v){u(v)}}function l(f){try{c(n.throw(f))}catch(v){u(v)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((n=n.apply(e,t||[])).next())})},__generator$3=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(connectionChannel,"__esModule",{value:!0});connectionChannel.createChannelConnection=void 0;var channel_1$1=channel,neo4j_driver_core_1$5=lib$1,connection_1$4=__importDefault$5(connection),bolt_1=__importDefault$5(bolt),PROTOCOL_ERROR$1=neo4j_driver_core_1$5.error.PROTOCOL_ERROR,Logger=neo4j_driver_core_1$5.internal.logger.Logger,idGenerator=0;function createChannelConnection(e,t,r,n,o,a){o===void 0&&(o=null),a===void 0&&(a=function(l){return new channel_1$1.Channel(l)});var u=new channel_1$1.ChannelConfig(e,t,r.errorCode()),s=a(u);return bolt_1.default.handshake(s).then(function(l){var c=l.protocolVersion,f=l.consumeRemainingBuffer,v=new channel_1$1.Chunker(s),b=new channel_1$1.Dechunker,$=function(w){return bolt_1.default.create({version:c,channel:s,chunker:v,dechunker:b,disableLosslessIntegers:t.disableLosslessIntegers,useBigInt:t.useBigInt,serversideRouting:o,server:w.server,log:w.logger,observer:{onPendingObserversChange:w._handleOngoingRequestsNumberChange.bind(w),onError:w._handleFatalError.bind(w),onFailure:w._resetOnFailure.bind(w),onProtocolError:w._handleProtocolError.bind(w),onErrorApplyTransformation:function(A){return w.handleAndTransformError(A,w._address)}}})},E=new ChannelConnection(s,r,e,n,t.disableLosslessIntegers,o,v,$);return f(function(w){return b.write(w)}),E}).catch(function(l){return s.close().then(function(){throw l})})}connectionChannel.createChannelConnection=createChannelConnection;var ChannelConnection=function(e){__extends$4(t,e);function t(r,n,o,a,u,s,l,c){u===void 0&&(u=!1),s===void 0&&(s=null);var f=e.call(this,n)||this;return f._reseting=!1,f._resetObservers=[],f._id=idGenerator++,f._address=o,f._server={address:o.asHostPort()},f.creationTimestamp=Date.now(),f._disableLosslessIntegers=u,f._ch=r,f._chunker=l,f._log=createConnectionLogger(f,a),f._serversideRouting=s,f._dbConnectionId=null,f._protocol=c(f),f._isBroken=!1,f._log.isDebugEnabled()&&f._log.debug("created towards ".concat(o)),f}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){return this._dbConnectionId},set:function(r){this._dbConnectionId=r},enumerable:!1,configurable:!0}),t.prototype.connect=function(r,n){return this._initialize(r,n)},t.prototype._initialize=function(r,n){var o=this,a=this;return new Promise(function(u,s){o._protocol.initialize({userAgent:r,authToken:n,onError:function(l){return s(l)},onComplete:function(l){if(l){var c=l.server;(!o.version||c)&&(o.version=c);var f=l.connection_id;if(o.databaseId||(o.databaseId=f),l.hints){var v=l.hints["connection.recv_timeout_seconds"];if(v!=null){var b=(0,neo4j_driver_core_1$5.toNumber)(v);Number.isInteger(b)&&b>0?o._ch.setupReceiveTimeout(b*1e3):o._log.info("Server located at ".concat(o._address," supplied an invalid connection receive timeout value (").concat(b,"). ")+"Please, verify the server configuration and status because this can be the symptom of a bigger issue.")}}}u(a)}})})},t.prototype.protocol=function(){return this._protocol},Object.defineProperty(t.prototype,"address",{get:function(){return this._address},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._server.version},set:function(r){this._server.version=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logger",{get:function(){return this._log},enumerable:!1,configurable:!0}),t.prototype._handleFatalError=function(r){this._isBroken=!0,this._error=this.handleAndTransformError(this._protocol.currentFailure||r,this._address),this._log.isErrorEnabled()&&this._log.error("experienced a fatal error caused by ".concat(this._error," (").concat(neo4j_driver_core_1$5.json.stringify(this._error),")")),this._protocol.notifyFatalError(this._error)},t.prototype._queueObserver=function(r){return this._protocol.queueObserverIfProtocolIsNotBroken(r)},t.prototype.hasOngoingObservableRequests=function(){return this._protocol.hasOngoingObservableRequests()},t.prototype.resetAndFlush=function(){var r=this;return new Promise(function(n,o){r._reset({onError:function(a){if(r._isBroken)o(a);else{var u=r._handleProtocolError("Received FAILURE as a response for RESET: "+a);o(u)}},onComplete:function(){n()}})})},t.prototype._resetOnFailure=function(){var r=this;!this.isOpen()||this._reset({onError:function(){r._protocol.resetFailure()},onComplete:function(){r._protocol.resetFailure()}})},t.prototype._reset=function(r){var n=this;if(this._reseting){this._protocol.isLastMessageReset()?this._resetObservers.push(r):this._protocol.reset({onError:function(a){r.onError(a)},onComplete:function(){r.onComplete()}});return}this._resetObservers.push(r),this._reseting=!0;var o=function(a){n._reseting=!1;var u=n._resetObservers;n._resetObservers=[],u.forEach(a)};this._protocol.reset({onError:function(a){o(function(u){return u.onError(a)})},onComplete:function(){o(function(a){return a.onComplete()})}})},t.prototype._updateCurrentObserver=function(){this._protocol.updateCurrentObserver()},t.prototype.isOpen=function(){return!this._isBroken&&this._ch._open},t.prototype._handleOngoingRequestsNumberChange=function(r){r===0?this._ch.stopReceiveTimeout():this._ch.startReceiveTimeout()},t.prototype.close=function(){return __awaiter$3(this,void 0,void 0,function(){return __generator$3(this,function(r){switch(r.label){case 0:return this._log.isDebugEnabled()&&this._log.debug("closing"),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),[4,this._ch.close()];case 1:return r.sent(),this._log.isDebugEnabled()&&this._log.debug("closed"),[2]}})})},t.prototype.toString=function(){return"Connection [".concat(this.id,"][").concat(this.databaseId||"","]")},t.prototype._handleProtocolError=function(r){this._protocol.resetFailure(),this._updateCurrentObserver();var n=(0,neo4j_driver_core_1$5.newError)(r,PROTOCOL_ERROR$1);return this._handleFatalError(n),n},t}(connection_1$4.default);connectionChannel.default=ChannelConnection;function createConnectionLogger(e,t){return new Logger(t._level,function(r,n){return t._loggerFunction(r,"".concat(e," ").concat(n))})}var connectionDelegate={},__extends$3=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(connectionDelegate,"__esModule",{value:!0});var connection_1$3=__importDefault$4(connection),DelegateConnection=function(e){__extends$3(t,e);function t(r,n){var o=e.call(this,n)||this;return n&&(o._originalErrorHandler=r._errorHandler,r._errorHandler=o._errorHandler),o._delegate=r,o}return Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){return this._delegate.databaseId},set:function(r){this._delegate.databaseId=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return this._delegate.server},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"address",{get:function(){return this._delegate.address},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._delegate.version},set:function(r){this._delegate.version=r},enumerable:!1,configurable:!0}),t.prototype.isOpen=function(){return this._delegate.isOpen()},t.prototype.protocol=function(){return this._delegate.protocol()},t.prototype.connect=function(r,n){return this._delegate.connect(r,n)},t.prototype.write=function(r,n,o){return this._delegate.write(r,n,o)},t.prototype.resetAndFlush=function(){return this._delegate.resetAndFlush()},t.prototype.hasOngoingObservableRequests=function(){return this._delegate.hasOngoingObservableRequests()},t.prototype.close=function(){return this._delegate.close()},t.prototype._release=function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate._release()},t}(connection_1$3.default);connectionDelegate.default=DelegateConnection;var connectionErrorHandler={};Object.defineProperty(connectionErrorHandler,"__esModule",{value:!0});var neo4j_driver_core_1$4=lib$1,SERVICE_UNAVAILABLE$3=neo4j_driver_core_1$4.error.SERVICE_UNAVAILABLE,SESSION_EXPIRED$1=neo4j_driver_core_1$4.error.SESSION_EXPIRED,ConnectionErrorHandler=function(){function e(t,r,n,o){this._errorCode=t,this._handleUnavailability=r||noOpHandler,this._handleWriteFailure=n||noOpHandler,this._handleAuthorizationExpired=o||noOpHandler}return e.create=function(t){var r=t.errorCode,n=t.handleUnavailability,o=t.handleWriteFailure,a=t.handleAuthorizationExpired;return new e(r,n,o,a)},e.prototype.errorCode=function(){return this._errorCode},e.prototype.handleAndTransformError=function(t,r){return isAutorizationExpiredError(t)?this._handleAuthorizationExpired(t,r):isAvailabilityError(t)?this._handleUnavailability(t,r):isFailureToWrite(t)?this._handleWriteFailure(t,r):t},e}();connectionErrorHandler.default=ConnectionErrorHandler;function isAutorizationExpiredError(e){return e&&(e.code==="Neo.ClientError.Security.AuthorizationExpired"||e.code==="Neo.ClientError.Security.TokenExpired")}function isAvailabilityError(e){return e?e.code===SESSION_EXPIRED$1||e.code===SERVICE_UNAVAILABLE$3||e.code==="Neo.TransientError.General.DatabaseUnavailable":!1}function isFailureToWrite(e){return e?e.code==="Neo.ClientError.Cluster.NotALeader"||e.code==="Neo.ClientError.General.ForbiddenOnReadOnlyDatabase":!1}function noOpHandler(e){return e}(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(c,f,v,b){b===void 0&&(b=v);var $=Object.getOwnPropertyDescriptor(f,v);(!$||("get"in $?!f.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return f[v]}}),Object.defineProperty(c,b,$)}:function(c,f,v,b){b===void 0&&(b=v),c[b]=f[v]}),r=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}:function(c,f){c.default=f}),n=commonjsGlobal&&commonjsGlobal.__importStar||function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var v in c)v!=="default"&&Object.prototype.hasOwnProperty.call(c,v)&&t(f,c,v);return r(f,c),f},o=commonjsGlobal&&commonjsGlobal.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.createChannelConnection=e.ConnectionErrorHandler=e.DelegateConnection=e.ChannelConnection=e.Connection=void 0;var a=o(connection);e.Connection=a.default;var u=n(connectionChannel);e.ChannelConnection=u.default,Object.defineProperty(e,"createChannelConnection",{enumerable:!0,get:function(){return u.createChannelConnection}});var s=o(connectionDelegate);e.DelegateConnection=s.default;var l=o(connectionErrorHandler);e.ConnectionErrorHandler=l.default,e.default=a.default})(connection$1);var __extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding$1(t,e,r);return __setModuleDefault$1(t,e),t},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function s(f){try{c(n.next(f))}catch(v){u(v)}}function l(f){try{c(n.throw(f))}catch(v){u(v)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((n=n.apply(e,t||[])).next())})},__generator$2=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(connectionProviderPooled,"__esModule",{value:!0});var connection_1$2=connection$1,pool_1=__importStar$1(pool$1),neo4j_driver_core_1$3=lib$1,SERVICE_UNAVAILABLE$2=neo4j_driver_core_1$3.error.SERVICE_UNAVAILABLE,PooledConnectionProvider=function(e){__extends$2(t,e);function t(r,n){var o=r.id,a=r.config,u=r.log,s=r.userAgent,l=r.authToken;n===void 0&&(n=null);var c=e.call(this)||this;return c._id=o,c._config=a,c._log=u,c._userAgent=s,c._authToken=l,c._createChannelConnection=n||function(f){return(0,connection_1$2.createChannelConnection)(f,c._config,c._createConnectionErrorHandler(),c._log)},c._connectionPool=new pool_1.default({create:c._createConnection.bind(c),destroy:c._destroyConnection.bind(c),validate:c._validateConnection.bind(c),installIdleObserver:t._installIdleObserverOnConnection.bind(c),removeIdleObserver:t._removeIdleObserverOnConnection.bind(c),config:pool_1.PoolConfig.fromDriverConfig(a),log:c._log}),c._openConnections={},c}return t.prototype._createConnectionErrorHandler=function(){return new connection_1$2.ConnectionErrorHandler(SERVICE_UNAVAILABLE$2)},t.prototype._createConnection=function(r,n){var o=this;return this._createChannelConnection(r).then(function(a){return a._release=function(){return n(r,a)},o._openConnections[a.id]=a,a.connect(o._userAgent,o._authToken).catch(function(u){throw o._destroyConnection(a),u})})},t.prototype._validateConnection=function(r){if(!r.isOpen())return!1;var n=this._config.maxConnectionLifetime,o=Date.now()-r.creationTimestamp;return o<=n},t.prototype._destroyConnection=function(r){return delete this._openConnections[r.id],r.close()},t.prototype._verifyConnectivityAndGetServerVersion=function(r){var n=r.address;return __awaiter$2(this,void 0,void 0,function(){var o,a;return __generator$2(this,function(u){switch(u.label){case 0:return[4,this._connectionPool.acquire(n)];case 1:o=u.sent(),a=new neo4j_driver_core_1$3.ServerInfo(o.server,o.protocol().version),u.label=2;case 2:return u.trys.push([2,,5,7]),o.protocol().isLastMessageLogin()?[3,4]:[4,o.resetAndFlush()];case 3:u.sent(),u.label=4;case 4:return[3,7];case 5:return[4,o._release()];case 6:return u.sent(),[7];case 7:return[2,a]}})})},t.prototype.close=function(){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(r){switch(r.label){case 0:return[4,this._connectionPool.close()];case 1:return r.sent(),[4,Promise.all(Object.values(this._openConnections).map(function(n){return n.close()}))];case 2:return r.sent(),[2]}})})},t._installIdleObserverOnConnection=function(r,n){r._queueObserver(n)},t._removeIdleObserverOnConnection=function(r){r._updateCurrentObserver()},t}(neo4j_driver_core_1$3.ConnectionProvider);connectionProviderPooled.default=PooledConnectionProvider;var connectionProviderDirect={},__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function s(f){try{c(n.next(f))}catch(v){u(v)}}function l(f){try{c(n.throw(f))}catch(v){u(v)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((n=n.apply(e,t||[])).next())})},__generator$1=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(connectionProviderDirect,"__esModule",{value:!0});var connection_provider_pooled_1$1=__importDefault$3(connectionProviderPooled),connection_1$1=connection$1,neo4j_driver_core_1$2=lib$1,_a$2=neo4j_driver_core_1$2.internal.constants,BOLT_PROTOCOL_V3$1=_a$2.BOLT_PROTOCOL_V3,BOLT_PROTOCOL_V4_0$1=_a$2.BOLT_PROTOCOL_V4_0,BOLT_PROTOCOL_V4_4$1=_a$2.BOLT_PROTOCOL_V4_4,SERVICE_UNAVAILABLE$1=neo4j_driver_core_1$2.error.SERVICE_UNAVAILABLE,DirectConnectionProvider=function(e){__extends$1(t,e);function t(r){var n=r.id,o=r.config,a=r.log,u=r.address,s=r.userAgent,l=r.authToken,c=e.call(this,{id:n,config:o,log:a,userAgent:s,authToken:l})||this;return c._address=u,c}return t.prototype.acquireConnection=function(r){var n=this,o=r===void 0?{}:r;o.accessMode;var a=o.database;o.bookmarks;var u=connection_1$1.ConnectionErrorHandler.create({errorCode:SERVICE_UNAVAILABLE$1,handleAuthorizationExpired:function(s,l){return n._handleAuthorizationExpired(s,l,a)}});return this._connectionPool.acquire(this._address).then(function(s){return new connection_1$1.DelegateConnection(s,u)})},t.prototype._handleAuthorizationExpired=function(r,n,o){return this._log.warn("Direct driver ".concat(this._id," will close connection to ").concat(n," for database '").concat(o,"' because of an error ").concat(r.code," '").concat(r.message,"'")),this._connectionPool.purge(n).catch(function(){}),r},t.prototype._hasProtocolVersion=function(r){return __awaiter$1(this,void 0,void 0,function(){var n,o;return __generator$1(this,function(a){switch(a.label){case 0:return[4,(0,connection_1$1.createChannelConnection)(this._address,this._config,this._createConnectionErrorHandler(),this._log)];case 1:return n=a.sent(),o=n.protocol()?n.protocol().version:null,[4,n.close()];case 2:return a.sent(),o?[2,r(o)]:[2,!1]}})})},t.prototype.supportsMultiDb=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(r){switch(r.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=BOLT_PROTOCOL_V4_0$1})];case 1:return[2,r.sent()]}})})},t.prototype.getNegotiatedProtocolVersion=function(){var r=this;return new Promise(function(n,o){r._hasProtocolVersion(n).catch(o)})},t.prototype.supportsTransactionConfig=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(r){switch(r.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=BOLT_PROTOCOL_V3$1})];case 1:return[2,r.sent()]}})})},t.prototype.supportsUserImpersonation=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(r){switch(r.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=BOLT_PROTOCOL_V4_4$1})];case 1:return[2,r.sent()]}})})},t.prototype.verifyConnectivityAndGetServerInfo=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(r){switch(r.label){case 0:return[4,this._verifyConnectivityAndGetServerVersion({address:this._address})];case 1:return[2,r.sent()]}})})},t}(connection_provider_pooled_1$1.default);connectionProviderDirect.default=DirectConnectionProvider;var connectionProviderRouting={},rediscovery$1={},rediscovery={},routingTable={},__read$1=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__spreadArray=commonjsGlobal&&commonjsGlobal.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(routingTable,"__esModule",{value:!0});routingTable.createValidRoutingTable=void 0;var neo4j_driver_core_1$1=lib$1,_a$1=neo4j_driver_core_1$1.internal.constants,WRITE$1=_a$1.ACCESS_MODE_WRITE,READ$1=_a$1.ACCESS_MODE_READ,ServerAddress=neo4j_driver_core_1$1.internal.serverAddress.ServerAddress,PROTOCOL_ERROR=neo4j_driver_core_1$1.error.PROTOCOL_ERROR,MIN_ROUTERS=1,RoutingTable=function(){function e(t){var r=t===void 0?{}:t,n=r.database,o=r.routers,a=r.readers,u=r.writers,s=r.expirationTime,l=r.ttl;this.database=n||null,this.databaseName=n||"default database",this.routers=o||[],this.readers=a||[],this.writers=u||[],this.expirationTime=s||(0,neo4j_driver_core_1$1.int)(0),this.ttl=l}return e.fromRawRoutingTable=function(t,r,n){return createValidRoutingTable(t,r,n)},e.prototype.forget=function(t){this.readers=removeFromArray(this.readers,t),this.writers=removeFromArray(this.writers,t)},e.prototype.forgetRouter=function(t){this.routers=removeFromArray(this.routers,t)},e.prototype.forgetWriter=function(t){this.writers=removeFromArray(this.writers,t)},e.prototype.isStaleFor=function(t){return this.expirationTime.lessThan(Date.now())||this.routers.length<MIN_ROUTERS||t===READ$1&&this.readers.length===0||t===WRITE$1&&this.writers.length===0},e.prototype.isExpiredFor=function(t){return this.expirationTime.add(t).lessThan(Date.now())},e.prototype.allServers=function(){return __spreadArray(__spreadArray(__spreadArray([],__read$1(this.routers),!1),__read$1(this.readers),!1),__read$1(this.writers),!1)},e.prototype.toString=function(){return"RoutingTable["+"database=".concat(this.databaseName,", ")+"expirationTime=".concat(this.expirationTime,", ")+"currentTime=".concat(Date.now(),", ")+"routers=[".concat(this.routers,"], ")+"readers=[".concat(this.readers,"], ")+"writers=[".concat(this.writers,"]]")},e}();routingTable.default=RoutingTable;function removeFromArray(e,t){return e.filter(function(r){return r.asKey()!==t.asKey()})}function createValidRoutingTable(e,t,r){var n=r.ttl,o=calculateExpirationTime(r,t),a=parseServers(r,t),u=a.routers,s=a.readers,l=a.writers;return assertNonEmpty(u,"routers",t),assertNonEmpty(s,"readers",t),new RoutingTable({database:e||r.db,routers:u,readers:s,writers:l,expirationTime:o,ttl:n})}routingTable.createValidRoutingTable=createValidRoutingTable;function parseServers(e,t){try{var r=[],n=[],o=[];return e.servers.forEach(function(a){var u=a.role,s=a.addresses;u==="ROUTE"?r=parseArray(s).map(function(l){return ServerAddress.fromUrl(l)}):u==="WRITE"?o=parseArray(s).map(function(l){return ServerAddress.fromUrl(l)}):u==="READ"&&(n=parseArray(s).map(function(l){return ServerAddress.fromUrl(l)}))}),{routers:r,readers:n,writers:o}}catch(a){throw(0,neo4j_driver_core_1$1.newError)("Unable to parse servers entry from router ".concat(t,` from addresses:
`).concat(neo4j_driver_core_1$1.json.stringify(e.servers),`
Error message: `).concat(a.message),PROTOCOL_ERROR)}}function calculateExpirationTime(e,t){try{var r=(0,neo4j_driver_core_1$1.int)(Date.now()),n=(0,neo4j_driver_core_1$1.int)(e.ttl).multiply(1e3).add(r);return n.lessThan(r)?neo4j_driver_core_1$1.Integer.MAX_VALUE:n}catch(o){throw(0,neo4j_driver_core_1$1.newError)("Unable to parse TTL entry from router ".concat(t,` from raw routing table:
`).concat(neo4j_driver_core_1$1.json.stringify(e),`
Error message: `).concat(o.message),PROTOCOL_ERROR)}}function assertNonEmpty(e,t,r){if(e.length===0)throw(0,neo4j_driver_core_1$1.newError)("Received no "+t+" from router "+r,PROTOCOL_ERROR)}function parseArray(e){if(!Array.isArray(e))throw new TypeError("Array expected but got: "+e);return Array.from(e)}var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rediscovery,"__esModule",{value:!0});var routing_table_1$1=__importDefault$2(routingTable),Rediscovery=function(){function e(t){this._routingContext=t}return e.prototype.lookupRoutingTableOnRouter=function(t,r,n,o){var a=this;return t._acquireConnection(function(u){return a._requestRawRoutingTable(u,t,r,n,o).then(function(s){return s.isNull?null:routing_table_1$1.default.fromRawRoutingTable(r,n,s)})})},e.prototype._requestRawRoutingTable=function(t,r,n,o,a){var u=this;return new Promise(function(s,l){t.protocol().requestRoutingInformation({routingContext:u._routingContext,databaseName:n,impersonatedUser:a,sessionContext:{bookmarks:r._lastBookmarks,mode:r._mode,database:r._database,afterComplete:r._onComplete},onCompleted:s,onError:l})})},e}();rediscovery.default=Rediscovery;var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rediscovery$1,"__esModule",{value:!0});rediscovery$1.RoutingTable=rediscovery$1.Rediscovery=void 0;var rediscovery_1$1=__importDefault$1(rediscovery);rediscovery$1.Rediscovery=rediscovery_1$1.default;var routing_table_1=__importDefault$1(routingTable);rediscovery$1.RoutingTable=routing_table_1.default;rediscovery$1.default=rediscovery_1$1.default;var __extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),__assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__assign.apply(this,arguments)},__createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(e,t,r,n){function o(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function s(f){try{c(n.next(f))}catch(v){u(v)}}function l(f){try{c(n.throw(f))}catch(v){u(v)}}function c(f){f.done?a(f.value):o(f.value).then(s,l)}c((n=n.apply(e,t||[])).next())})},__generator=commonjsGlobal&&commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=c[0]&2?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],o=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},__values=commonjsGlobal&&commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=commonjsGlobal&&commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return a},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(connectionProviderRouting,"__esModule",{value:!0});var neo4j_driver_core_1=lib$1,rediscovery_1=__importStar(rediscovery$1),channel_1=channel,connection_provider_single_1=__importDefault(connectionProviderSingle),connection_provider_pooled_1=__importDefault(connectionProviderPooled),load_balancing_1=loadBalancing,connection_1=connection$1,SERVICE_UNAVAILABLE=neo4j_driver_core_1.error.SERVICE_UNAVAILABLE,SESSION_EXPIRED=neo4j_driver_core_1.error.SESSION_EXPIRED,Bookmarks=neo4j_driver_core_1.internal.bookmarks.Bookmarks,_a=neo4j_driver_core_1.internal.constants,READ=_a.ACCESS_MODE_READ,WRITE=_a.ACCESS_MODE_WRITE,BOLT_PROTOCOL_V3=_a.BOLT_PROTOCOL_V3,BOLT_PROTOCOL_V4_0=_a.BOLT_PROTOCOL_V4_0,BOLT_PROTOCOL_V4_4=_a.BOLT_PROTOCOL_V4_4,PROCEDURE_NOT_FOUND_CODE="Neo.ClientError.Procedure.ProcedureNotFound",DATABASE_NOT_FOUND_CODE="Neo.ClientError.Database.DatabaseNotFound",INVALID_BOOKMARK_CODE="Neo.ClientError.Transaction.InvalidBookmark",INVALID_BOOKMARK_MIXTURE_CODE="Neo.ClientError.Transaction.InvalidBookmarkMixture",AUTHORIZATION_EXPIRED_CODE="Neo.ClientError.Security.AuthorizationExpired",SYSTEM_DB_NAME="system",DEFAULT_DB_NAME=null,DEFAULT_ROUTING_TABLE_PURGE_DELAY=(0,neo4j_driver_core_1.int)(3e4),RoutingConnectionProvider=function(e){__extends(t,e);function t(r){var n=r.id,o=r.address,a=r.routingContext,u=r.hostNameResolver,s=r.config,l=r.log,c=r.userAgent,f=r.authToken,v=r.routingTablePurgeDelay,b=e.call(this,{id:n,config:s,log:l,userAgent:c,authToken:f},function($){return(0,connection_1.createChannelConnection)($,b._config,b._createConnectionErrorHandler(),b._log,b._routingContext)})||this;return b._routingContext=__assign(__assign({},a),{address:o.toString()}),b._seedRouter=o,b._rediscovery=new rediscovery_1.default(b._routingContext),b._loadBalancingStrategy=new load_balancing_1.LeastConnectedLoadBalancingStrategy(b._connectionPool),b._hostNameResolver=u,b._dnsResolver=new channel_1.HostNameResolver,b._log=l,b._useSeedRouter=!0,b._routingTableRegistry=new RoutingTableRegistry(v?(0,neo4j_driver_core_1.int)(v):DEFAULT_ROUTING_TABLE_PURGE_DELAY),b}return t.prototype._createConnectionErrorHandler=function(){return new connection_1.ConnectionErrorHandler(SESSION_EXPIRED)},t.prototype._handleUnavailability=function(r,n,o){return this._log.warn("Routing driver ".concat(this._id," will forget ").concat(n," for database '").concat(o,"' because of an error ").concat(r.code," '").concat(r.message,"'")),this.forget(n,o||DEFAULT_DB_NAME),r},t.prototype._handleAuthorizationExpired=function(r,n,o){return this._log.warn("Routing driver ".concat(this._id," will close connections to ").concat(n," for database '").concat(o,"' because of an error ").concat(r.code," '").concat(r.message,"'")),this._connectionPool.purge(n).catch(function(){}),r},t.prototype._handleWriteFailure=function(r,n,o){return this._log.warn("Routing driver ".concat(this._id," will forget writer ").concat(n," for database '").concat(o,"' because of an error ").concat(r.code," '").concat(r.message,"'")),this.forgetWriter(n,o||DEFAULT_DB_NAME),(0,neo4j_driver_core_1.newError)("No longer possible to write to server at "+n,SESSION_EXPIRED,r)},t.prototype.acquireConnection=function(r){var n=r===void 0?{}:r,o=n.accessMode,a=n.database,u=n.bookmarks,s=n.impersonatedUser,l=n.onDatabaseNameResolved;return __awaiter(this,void 0,void 0,function(){var c,f,v,b,$,E,w,A,I=this;return __generator(this,function(R){switch(R.label){case 0:return v={database:a||DEFAULT_DB_NAME},b=new connection_1.ConnectionErrorHandler(SESSION_EXPIRED,function(x,N){return I._handleUnavailability(x,N,v.database)},function(x,N){return I._handleWriteFailure(x,N,v.database)},function(x,N){return I._handleAuthorizationExpired(x,N,v.database)}),[4,this._freshRoutingTable({accessMode:o,database:v.database,bookmarks:u,impersonatedUser:s,onDatabaseNameResolved:function(x){v.database=v.database||x,l&&l(x)}})];case 1:if($=R.sent(),o===READ)f=this._loadBalancingStrategy.selectReader($.readers),c="read";else if(o===WRITE)f=this._loadBalancingStrategy.selectWriter($.writers),c="write";else throw(0,neo4j_driver_core_1.newError)("Illegal mode "+o);if(!f)throw(0,neo4j_driver_core_1.newError)("Failed to obtain connection towards ".concat(c," server. Known routing table is: ").concat($),SESSION_EXPIRED);R.label=2;case 2:return R.trys.push([2,4,,5]),[4,this._acquireConnectionToServer(f,c,$)];case 3:return E=R.sent(),[2,new connection_1.DelegateConnection(E,b)];case 4:throw w=R.sent(),A=b.handleAndTransformError(w,f),A;case 5:return[2]}})})},t.prototype._hasProtocolVersion=function(r){return __awaiter(this,void 0,void 0,function(){var n,o,a,u,s,l;return __generator(this,function(c){switch(c.label){case 0:return[4,this._resolveSeedRouter(this._seedRouter)];case 1:n=c.sent(),a=0,c.label=2;case 2:if(!(a<n.length))return[3,8];c.label=3;case 3:return c.trys.push([3,6,,7]),[4,(0,connection_1.createChannelConnection)(n[a],this._config,this._createConnectionErrorHandler(),this._log)];case 4:return u=c.sent(),s=u.protocol()?u.protocol().version:null,[4,u.close()];case 5:return c.sent(),s?[2,r(s)]:[2,!1];case 6:return l=c.sent(),o=l,[3,7];case 7:return a++,[3,2];case 8:if(o)throw o;return[2,!1]}})})},t.prototype.supportsMultiDb=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=BOLT_PROTOCOL_V4_0})];case 1:return[2,r.sent()]}})})},t.prototype.supportsTransactionConfig=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=BOLT_PROTOCOL_V3})];case 1:return[2,r.sent()]}})})},t.prototype.supportsUserImpersonation=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return[4,this._hasProtocolVersion(function(n){return n>=BOLT_PROTOCOL_V4_4})];case 1:return[2,r.sent()]}})})},t.prototype.getNegotiatedProtocolVersion=function(){var r=this;return new Promise(function(n,o){r._hasProtocolVersion(n).catch(o)})},t.prototype.verifyConnectivityAndGetServerInfo=function(r){var n=r.database,o=r.accessMode;return __awaiter(this,void 0,void 0,function(){var a,u,s,l,c,f,v,b,$,E,w,A;return __generator(this,function(I){switch(I.label){case 0:return a={database:n||DEFAULT_DB_NAME},[4,this._freshRoutingTable({accessMode:o,database:a.database,onDatabaseNameResolved:function(R){a.database=a.database||R}})];case 1:u=I.sent(),s=o===WRITE?u.writers:u.readers,l=(0,neo4j_driver_core_1.newError)("No servers available for database '".concat(a.database,"' with access mode '").concat(o,"'"),SERVICE_UNAVAILABLE),I.label=2;case 2:I.trys.push([2,9,10,11]),c=__values(s),f=c.next(),I.label=3;case 3:if(f.done)return[3,8];v=f.value,I.label=4;case 4:return I.trys.push([4,6,,7]),[4,this._verifyConnectivityAndGetServerVersion({address:v})];case 5:return b=I.sent(),[2,b];case 6:return $=I.sent(),l=$,[3,7];case 7:return f=c.next(),[3,3];case 8:return[3,11];case 9:return E=I.sent(),w={error:E},[3,11];case 10:try{f&&!f.done&&(A=c.return)&&A.call(c)}finally{if(w)throw w.error}return[7];case 11:throw l}})})},t.prototype.forget=function(r,n){this._routingTableRegistry.apply(n,{applyWhenExists:function(o){return o.forget(r)}}),this._connectionPool.purge(r).catch(function(){})},t.prototype.forgetWriter=function(r,n){this._routingTableRegistry.apply(n,{applyWhenExists:function(o){return o.forgetWriter(r)}})},t.prototype._acquireConnectionToServer=function(r,n,o){return this._connectionPool.acquire(r)},t.prototype._freshRoutingTable=function(r){var n=r===void 0?{}:r,o=n.accessMode,a=n.database,u=n.bookmarks,s=n.impersonatedUser,l=n.onDatabaseNameResolved,c=this._routingTableRegistry.get(a,function(){return new rediscovery_1.RoutingTable({database:a})});return c.isStaleFor(o)?(this._log.info('Routing table is stale for database: "'.concat(a,'" and access mode: "').concat(o,'": ').concat(c)),this._refreshRoutingTable(c,u,s,l)):c},t.prototype._refreshRoutingTable=function(r,n,o,a){var u=r.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(u,r,n,o,a):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(u,r,n,o,a)},t.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters=function(r,n,o,a,u){return __awaiter(this,void 0,void 0,function(){var s,l,c,f,v,b,$;return __generator(this,function(E){switch(E.label){case 0:return s=[],[4,this._fetchRoutingTableUsingSeedRouter(s,this._seedRouter,n,o,a)];case 1:return l=__read.apply(void 0,[E.sent(),2]),c=l[0],f=l[1],c?(this._useSeedRouter=!1,[3,4]):[3,2];case 2:return[4,this._fetchRoutingTableUsingKnownRouters(r,n,o,a)];case 3:v=__read.apply(void 0,[E.sent(),2]),b=v[0],$=v[1],c=b,f=$||f,E.label=4;case 4:return[4,this._applyRoutingTableIfPossible(n,c,u,f)];case 5:return[2,E.sent()]}})})},t.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter=function(r,n,o,a,u){return __awaiter(this,void 0,void 0,function(){var s,l,c,f;return __generator(this,function(v){switch(v.label){case 0:return[4,this._fetchRoutingTableUsingKnownRouters(r,n,o,a)];case 1:return s=__read.apply(void 0,[v.sent(),2]),l=s[0],c=s[1],l?[3,3]:[4,this._fetchRoutingTableUsingSeedRouter(r,this._seedRouter,n,o,a)];case 2:f=__read.apply(void 0,[v.sent(),2]),l=f[0],c=f[1],v.label=3;case 3:return[4,this._applyRoutingTableIfPossible(n,l,u,c)];case 4:return[2,v.sent()]}})})},t.prototype._fetchRoutingTableUsingKnownRouters=function(r,n,o,a){return __awaiter(this,void 0,void 0,function(){var u,s,l,c;return __generator(this,function(f){switch(f.label){case 0:return[4,this._fetchRoutingTable(r,n,o,a)];case 1:return u=__read.apply(void 0,[f.sent(),2]),s=u[0],l=u[1],s?[2,[s,null]]:(c=r.length-1,t._forgetRouter(n,r,c),[2,[null,l]])}})})},t.prototype._fetchRoutingTableUsingSeedRouter=function(r,n,o,a,u){return __awaiter(this,void 0,void 0,function(){var s,l;return __generator(this,function(c){switch(c.label){case 0:return[4,this._resolveSeedRouter(n)];case 1:return s=c.sent(),l=s.filter(function(f){return r.indexOf(f)<0}),[4,this._fetchRoutingTable(l,o,a,u)];case 2:return[2,c.sent()]}})})},t.prototype._resolveSeedRouter=function(r){return __awaiter(this,void 0,void 0,function(){var n,o,a=this;return __generator(this,function(u){switch(u.label){case 0:return[4,this._hostNameResolver.resolve(r)];case 1:return n=u.sent(),[4,Promise.all(n.map(function(s){return a._dnsResolver.resolve(s)}))];case 2:return o=u.sent(),[2,[].concat.apply([],o)]}})})},t.prototype._fetchRoutingTable=function(r,n,o,a){return __awaiter(this,void 0,void 0,function(){var u=this;return __generator(this,function(s){return[2,r.reduce(function(l,c,f){return __awaiter(u,void 0,void 0,function(){var v,b,$,E,w,A,I;return __generator(this,function(R){switch(R.label){case 0:return[4,l];case 1:return v=__read.apply(void 0,[R.sent(),1]),b=v[0],b?[2,[b,null]]:($=f-1,t._forgetRouter(n,r,$),[4,this._createSessionForRediscovery(c,o,a)]);case 2:if(E=__read.apply(void 0,[R.sent(),2]),w=E[0],A=E[1],!w)return[3,8];R.label=3;case 3:return R.trys.push([3,5,6,7]),[4,this._rediscovery.lookupRoutingTableOnRouter(w,n.database,c,a)];case 4:return[2,[R.sent(),null]];case 5:return I=R.sent(),[2,this._handleRediscoveryError(I,c)];case 6:return w.close(),[7];case 7:return[3,9];case 8:return[2,[null,A]];case 9:return[2]}})})},Promise.resolve([null,null]))]})})},t.prototype._createSessionForRediscovery=function(r,n,o){return __awaiter(this,void 0,void 0,function(){var a,u,s,l,c,f=this;return __generator(this,function(v){switch(v.label){case 0:return v.trys.push([0,2,,3]),[4,this._connectionPool.acquire(r)];case 1:return a=v.sent(),u=connection_1.ConnectionErrorHandler.create({errorCode:SESSION_EXPIRED,handleAuthorizationExpired:function(b,$){return f._handleAuthorizationExpired(b,$)}}),s=new connection_provider_single_1.default(new connection_1.DelegateConnection(a,u)),l=a.protocol().version,l<4?[2,[new neo4j_driver_core_1.Session({mode:WRITE,bookmarks:Bookmarks.empty(),connectionProvider:s}),null]]:[2,[new neo4j_driver_core_1.Session({mode:READ,database:SYSTEM_DB_NAME,bookmarks:n,connectionProvider:s,impersonatedUser:o}),null]];case 2:return c=v.sent(),[2,this._handleRediscoveryError(c,r)];case 3:return[2]}})})},t.prototype._handleRediscoveryError=function(r,n){if(_isFailFastError(r)||_isFailFastSecurityError(r))throw r;if(r.code===PROCEDURE_NOT_FOUND_CODE)throw(0,neo4j_driver_core_1.newError)("Server at ".concat(n.asHostPort()," can't perform routing. Make sure you are connecting to a causal cluster"),SERVICE_UNAVAILABLE,r);return this._log.warn("unable to fetch routing table because of an error ".concat(r)),[null,r]},t.prototype._applyRoutingTableIfPossible=function(r,n,o,a){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(u){switch(u.label){case 0:if(!n)throw(0,neo4j_driver_core_1.newError)("Could not perform discovery. No routing servers available. Known routing table: ".concat(r),SERVICE_UNAVAILABLE,a);return n.writers.length===0&&(this._useSeedRouter=!0),[4,this._updateRoutingTable(n,o)];case 1:return u.sent(),[2,n]}})})},t.prototype._updateRoutingTable=function(r,n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){switch(o.label){case 0:return[4,this._connectionPool.keepAll(r.allServers())];case 1:return o.sent(),this._routingTableRegistry.removeExpired(),this._routingTableRegistry.register(r),n(r.database),this._log.info("Updated routing table ".concat(r)),[2]}})})},t._forgetRouter=function(r,n,o){var a=n[o];r&&a&&r.forgetRouter(a)},t}(connection_provider_pooled_1.default);connectionProviderRouting.default=RoutingConnectionProvider;var RoutingTableRegistry=function(){function e(t){this._tables=new Map,this._routingTablePurgeDelay=t}return e.prototype.register=function(t){return this._tables.set(t.database,t),this},e.prototype.apply=function(t,r){var n=r===void 0?{}:r,o=n.applyWhenExists,a=n.applyWhenDontExists,u=a===void 0?function(){}:a;return this._tables.has(t)?o(this._tables.get(t)):typeof t=="string"||t===null?u():this._forEach(o),this},e.prototype.get=function(t,r){return this._tables.has(t)?this._tables.get(t):typeof r=="function"?r():r},e.prototype.removeExpired=function(){var t=this;return this._removeIf(function(r){return r.isExpiredFor(t._routingTablePurgeDelay)})},e.prototype._forEach=function(t){var r,n;try{for(var o=__values(this._tables),a=o.next();!a.done;a=o.next()){var u=__read(a.value,2),s=u[1];t(s)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e.prototype._remove=function(t){return this._tables.delete(t),this},e.prototype._removeIf=function(t){var r,n;try{for(var o=__values(this._tables),a=o.next();!a.done;a=o.next()){var u=__read(a.value,2),s=u[0],l=u[1];t(l)&&this._remove(s)}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e}();function _isFailFastError(e){return[DATABASE_NOT_FOUND_CODE,INVALID_BOOKMARK_CODE,INVALID_BOOKMARK_MIXTURE_CODE].includes(e.code)}function _isFailFastSecurityError(e){return e.code.startsWith("Neo.ClientError.Security.")&&![AUTHORIZATION_EXPIRED_CODE].includes(e.code)}(function(e){var t=commonjsGlobal&&commonjsGlobal.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.RoutingConnectionProvider=e.DirectConnectionProvider=e.PooledConnectionProvider=e.SingleConnectionProvider=void 0;var r=connectionProviderSingle;Object.defineProperty(e,"SingleConnectionProvider",{enumerable:!0,get:function(){return t(r).default}});var n=connectionProviderPooled;Object.defineProperty(e,"PooledConnectionProvider",{enumerable:!0,get:function(){return t(n).default}});var o=connectionProviderDirect;Object.defineProperty(e,"DirectConnectionProvider",{enumerable:!0,get:function(){return t(o).default}});var a=connectionProviderRouting;Object.defineProperty(e,"RoutingConnectionProvider",{enumerable:!0,get:function(){return t(a).default}})})(connectionProvider);(function(e){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(a,u,s,l){l===void 0&&(l=s);var c=Object.getOwnPropertyDescriptor(u,s);(!c||("get"in c?!u.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return u[s]}}),Object.defineProperty(a,l,c)}:function(a,u,s,l){l===void 0&&(l=s),a[l]=u[s]}),r=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(a,u){Object.defineProperty(a,"default",{enumerable:!0,value:u})}:function(a,u){a.default=u}),n=commonjsGlobal&&commonjsGlobal.__importStar||function(a){if(a&&a.__esModule)return a;var u={};if(a!=null)for(var s in a)s!=="default"&&Object.prototype.hasOwnProperty.call(a,s)&&t(u,a,s);return r(u,a),u},o=commonjsGlobal&&commonjsGlobal.__exportStar||function(a,u){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(u,s)&&t(u,a,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.pool=e.packstream=e.channel=e.buf=e.bolt=e.loadBalancing=void 0,e.loadBalancing=n(loadBalancing),e.bolt=n(bolt),e.buf=n(buf),e.channel=n(channel),e.packstream=n(packstream),e.pool=n(pool$1),o(connectionProvider,e)})(lib);(function(e){var t=interopRequireDefault.exports;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Date",{enumerable:!0,get:function(){return u.Date}}),Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return u.DateTime}}),Object.defineProperty(e,"Driver",{enumerable:!0,get:function(){return o.Driver}}),Object.defineProperty(e,"Duration",{enumerable:!0,get:function(){return u.Duration}}),Object.defineProperty(e,"Integer",{enumerable:!0,get:function(){return u.Integer}}),Object.defineProperty(e,"LocalDateTime",{enumerable:!0,get:function(){return u.LocalDateTime}}),Object.defineProperty(e,"LocalTime",{enumerable:!0,get:function(){return u.LocalTime}}),Object.defineProperty(e,"ManagedTransaction",{enumerable:!0,get:function(){return u.ManagedTransaction}}),Object.defineProperty(e,"Neo4jError",{enumerable:!0,get:function(){return u.Neo4jError}}),Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return u.Node}}),Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return u.Notification}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return u.Path}}),Object.defineProperty(e,"PathSegment",{enumerable:!0,get:function(){return u.PathSegment}}),Object.defineProperty(e,"Plan",{enumerable:!0,get:function(){return u.Plan}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return u.Point}}),Object.defineProperty(e,"ProfiledPlan",{enumerable:!0,get:function(){return u.ProfiledPlan}}),Object.defineProperty(e,"QueryStatistics",{enumerable:!0,get:function(){return u.QueryStatistics}}),Object.defineProperty(e,"Record",{enumerable:!0,get:function(){return u.Record}}),Object.defineProperty(e,"Relationship",{enumerable:!0,get:function(){return u.Relationship}}),Object.defineProperty(e,"Result",{enumerable:!0,get:function(){return u.Result}}),Object.defineProperty(e,"ResultSummary",{enumerable:!0,get:function(){return u.ResultSummary}}),Object.defineProperty(e,"RxManagedTransaction",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"RxResult",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"RxSession",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"RxTransaction",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"ServerInfo",{enumerable:!0,get:function(){return u.ServerInfo}}),Object.defineProperty(e,"Session",{enumerable:!0,get:function(){return u.Session}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return u.Time}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return u.Transaction}}),Object.defineProperty(e,"UnboundRelationship",{enumerable:!0,get:function(){return u.UnboundRelationship}}),Object.defineProperty(e,"auth",{enumerable:!0,get:function(){return u.auth}}),Object.defineProperty(e,"bookmarkManager",{enumerable:!0,get:function(){return u.bookmarkManager}}),e.default=void 0,e.driver=R,Object.defineProperty(e,"error",{enumerable:!0,get:function(){return u.error}}),e.hasReachableServer=x,Object.defineProperty(e,"int",{enumerable:!0,get:function(){return u.int}}),e.integer=void 0,Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return u.isDate}}),Object.defineProperty(e,"isDateTime",{enumerable:!0,get:function(){return u.isDateTime}}),Object.defineProperty(e,"isDuration",{enumerable:!0,get:function(){return u.isDuration}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return u.isInt}}),Object.defineProperty(e,"isLocalDateTime",{enumerable:!0,get:function(){return u.isLocalDateTime}}),Object.defineProperty(e,"isLocalTime",{enumerable:!0,get:function(){return u.isLocalTime}}),Object.defineProperty(e,"isPoint",{enumerable:!0,get:function(){return u.isPoint}}),Object.defineProperty(e,"isRetryableError",{enumerable:!0,get:function(){return u.isRetryableError}}),Object.defineProperty(e,"isTime",{enumerable:!0,get:function(){return u.isTime}}),e.types=e.temporal=e.spatial=e.session=e.logging=void 0;var r=t(regenerator),n=t(asyncToGenerator.exports),o=driver$2,a=t(version$1),u=lib$1,s=lib,l=t(sessionRx),c=t(transactionRx),f=t(transactionManagedRx),v=t(resultRx),b=u.internal.util,$=b.ENCRYPTION_ON,E=b.assertString,w=b.isEmptyObjectOrNull,A=u.internal.serverAddress.ServerAddress,I=u.internal.urlUtil;function R(H,W){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};E(H,"Bolt URL");var B=I.parseDatabaseUrl(H),Z=!1,K=!1,J;switch(B.scheme){case"bolt":break;case"bolt+s":K=!0,J="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":K=!0,J="TRUST_ALL_CERTIFICATES";break;case"neo4j":Z=!0;break;case"neo4j+s":K=!0,J="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",Z=!0;break;case"neo4j+ssc":K=!0,J="TRUST_ALL_CERTIFICATES",Z=!0;break;default:throw new Error("Unknown scheme: ".concat(B.scheme))}if(K){if("encrypted"in U||"trust"in U)throw new Error("Encryption/trust can only be configured either through URL or config, not both");U.encrypted=$,U.trust=J}W=W||{},W.scheme=W.scheme||"none",U.userAgent=U.userAgent||D;var ie=A.fromUrl(B.hostAndPort),oe={address:ie,typename:Z?"Routing":"Direct",routing:Z};return new o.Driver(oe,U,_e());function _e(){if(Z)return function(M,G,z,ee){return new s.RoutingConnectionProvider({id:M,config:G,log:z,hostNameResolver:ee,authToken:W,address:ie,userAgent:G.userAgent,routingContext:B.query})};if(!w(B.query))throw new Error("Parameters are not supported with none routed scheme. Given URL: '".concat(H,"'"));return function(M,G,z){return new s.DirectConnectionProvider({id:M,config:G,log:z,authToken:W,address:ie,userAgent:G.userAgent})}}}function x(H,W){return N.apply(this,arguments)}function N(){return N=(0,n.default)(r.default.mark(function H(W,U){var B;return r.default.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return B=R(W,{scheme:"none",principal:"",credentials:""},U),K.prev=1,K.next=4,B.getNegotiatedProtocolVersion();case 4:return K.abrupt("return",!0);case 5:return K.prev=5,K.next=8,B.close();case 8:return K.finish(5);case 9:case"end":return K.stop()}},H,null,[[1,,5,9]])})),N.apply(this,arguments)}var D="neo4j-javascript/"+a.default,V={console:function(H){function W(U){return H.apply(this,arguments)}return W.toString=function(){return H.toString()},W}(function(H){return{level:H,logger:function(U,B){return console.log("".concat(commonjsGlobal.Date.now()," ").concat(U.toUpperCase()," ").concat(B))}}})};e.logging=V;var Y={Node:u.Node,Relationship:u.Relationship,UnboundRelationship:u.UnboundRelationship,PathSegment:u.PathSegment,Path:u.Path,Result:u.Result,ResultSummary:u.ResultSummary,Record:u.Record,Point:u.Point,Date:u.Date,DateTime:u.DateTime,Duration:u.Duration,LocalDateTime:u.LocalDateTime,LocalTime:u.LocalTime,Time:u.Time,Integer:u.Integer};e.types=Y;var Q={READ:o.READ,WRITE:o.WRITE};e.session=Q;var te={toNumber:u.toNumber,toString:u.toString,inSafeRange:u.inSafeRange};e.integer=te;var de={isPoint:u.isPoint};e.spatial=de;var ne={isDuration:u.isDuration,isLocalTime:u.isLocalTime,isTime:u.isTime,isDate:u.isDate,isLocalDateTime:u.isLocalDateTime,isDateTime:u.isDateTime};e.temporal=ne;var ae={driver:R,hasReachableServer:x,int:u.int,isInt:u.isInt,isPoint:u.isPoint,isDuration:u.isDuration,isLocalTime:u.isLocalTime,isTime:u.isTime,isDate:u.isDate,isLocalDateTime:u.isLocalDateTime,isDateTime:u.isDateTime,integer:te,Neo4jError:u.Neo4jError,isRetryableError:u.isRetryableError,auth:u.auth,logging:V,types:Y,session:Q,error:u.error,spatial:de,temporal:ne,Driver:o.Driver,Session:u.Session,Transaction:u.Transaction,ManagedTransaction:u.ManagedTransaction,Result:u.Result,RxSession:l.default,RxTransaction:c.default,RxManagedTransaction:f.default,RxResult:v.default,ResultSummary:u.ResultSummary,Plan:u.Plan,ProfiledPlan:u.ProfiledPlan,QueryStatistics:u.QueryStatistics,Notification:u.Notification,ServerInfo:u.ServerInfo,Record:u.Record,Node:u.Node,Relationship:u.Relationship,UnboundRelationship:u.UnboundRelationship,Path:u.Path,PathSegment:u.PathSegment,Point:u.Point,Integer:u.Integer,Duration:u.Duration,LocalTime:u.LocalTime,Time:u.Time,Date:u.Date,LocalDateTime:u.LocalDateTime,DateTime:u.DateTime,bookmarkManager:u.bookmarkManager},le=ae;e.default=le})(lib$2);var neo4j=getDefaultExportFromCjs(lib$2);const uri="neo4j+s://05c14156.databases.neo4j.io",user="neo4j",password="zc8p-EEheXd8PEPiz40b9ARqVRnS68fR0aieLBL9IYI";console.log("password :>> ",password);console.log("user :>> ",user);console.log("uri :>> ",uri);const driver=neo4j.driver(uri,neo4j.auth.basic(user,password));async function makeUserLikeABuild(e,t){const r=driver.session({database:"neo4j"});try{const n=`MERGE (p1:User { name: $userName })
                                MERGE (p2:Build { name: $buildName })
                                MERGE (p1)-[:LIKES]->(p2)
                                RETURN p1, p2`;(await r.executeWrite(a=>a.run(n,{userName:e,buildName:t}))).records.forEach(a=>{const u=a.get("p1"),s=a.get("p2");console.info(`Created friendship between: ${u.properties.name}, ${s.properties.name}`)})}catch(n){console.error(`Something went wrong: ${n}`)}finally{await r.close()}}async function findBuild(e){const t=driver.session({database:"neo4j"});try{const r=`
        MATCH (build:Build)
        WHERE build.name contains $buildName
        RETURN build
    `,n=await t.executeRead(o=>o.run(r,{buildName:e}));return console.log("readResult :>> ",n),n.records.forEach(o=>{console.log(`Found Build: ${o.get("name")}`)}),n}catch(r){console.error(`Something went wrong: ${r}`)}finally{await t.close()}}(async()=>{try{const e="Nick",t="Spectre";await makeUserLikeABuild(e,t);let r=await findBuild(t);console.log("builds :>> ",r)}catch(e){console.error(`Something went wrong: ${e}`)}finally{await driver.close()}})();const bearer_token="keyl5Wo5ETa4HR4tt";console.log("bearer_token (b):>> ",bearer_token);document.body.addEventListener("htmx:configRequest",function(e){e.detail.headers=[],e.detail.headers["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",e.detail.headers.Authorization="Bearer "+bearer_token});
